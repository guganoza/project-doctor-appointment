"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{58:(Fo,ci,Je)=>{Je.d(ci,{BH:()=>Yt,G6:()=>fo,L:()=>ft,LL:()=>W,Pz:()=>kt,Sg:()=>Oi,UG:()=>ne,ZB:()=>Me,ZR:()=>oe,aH:()=>an,b$:()=>Gn,eu:()=>G,hl:()=>H,jU:()=>yn,m9:()=>La,ne:()=>Vo,pd:()=>rc,r3:()=>Ni,ru:()=>ln,tV:()=>re,uI:()=>Jn,vZ:()=>Lo,w1:()=>ho,xO:()=>ic,xb:()=>fr,z$:()=>rt,zd:()=>qr});const He=function(T){const D=[];let S=0;for(let Q=0;Q<T.length;Q++){let N=T.charCodeAt(Q);N<128?D[S++]=N:N<2048?(D[S++]=N>>6|192,D[S++]=63&N|128):55296==(64512&N)&&Q+1<T.length&&56320==(64512&T.charCodeAt(Q+1))?(N=65536+((1023&N)<<10)+(1023&T.charCodeAt(++Q)),D[S++]=N>>18|240,D[S++]=N>>12&63|128,D[S++]=N>>6&63|128,D[S++]=63&N|128):(D[S++]=N>>12|224,D[S++]=N>>6&63|128,D[S++]=63&N|128)}return D},_n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(T,D){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let N=0;N<T.length;N+=3){const q=T[N],$e=N+1<T.length,st=$e?T[N+1]:0,pt=N+2<T.length,cn=pt?T[N+2]:0;let pi=(15&st)<<2|cn>>6,qt=63&cn;pt||(qt=64,$e||(pi=64)),Q.push(S[q>>2],S[(3&q)<<4|st>>4],S[pi],S[qt])}return Q.join("")},encodeString(T,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(T):this.encodeByteArray(He(T),D)},decodeString(T,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(T):function(T){const D=[];let S=0,Q=0;for(;S<T.length;){const N=T[S++];if(N<128)D[Q++]=String.fromCharCode(N);else if(N>191&&N<224){const q=T[S++];D[Q++]=String.fromCharCode((31&N)<<6|63&q)}else if(N>239&&N<365){const pt=((7&N)<<18|(63&T[S++])<<12|(63&T[S++])<<6|63&T[S++])-65536;D[Q++]=String.fromCharCode(55296+(pt>>10)),D[Q++]=String.fromCharCode(56320+(1023&pt))}else{const q=T[S++],$e=T[S++];D[Q++]=String.fromCharCode((15&N)<<12|(63&q)<<6|63&$e)}}return D.join("")}(this.decodeStringToByteArray(T,D))},decodeStringToByteArray(T,D){this.init_();const S=D?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let N=0;N<T.length;){const q=S[T.charAt(N++)],st=N<T.length?S[T.charAt(N)]:0;++N;const cn=N<T.length?S[T.charAt(N)]:64;++N;const xe=N<T.length?S[T.charAt(N)]:64;if(++N,null==q||null==st||null==cn||null==xe)throw new An;Q.push(q<<2|st>>4),64!==cn&&(Q.push(st<<4&240|cn>>2),64!==xe&&Q.push(cn<<6&192|xe))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class An extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ft=function(T){return function(T){const D=He(T);return _n.encodeByteArray(D,!0)}(T).replace(/\./g,"")},re=function(T){try{return _n.decodeString(T,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Me(T,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===T&&(T={});break;case Array:T=[];break;default:return D}for(const S in D)!D.hasOwnProperty(S)||!ut(S)||(T[S]=Me(T[S],D[S]));return T}function ut(T){return"__proto__"!==T}const it=()=>{try{return function St(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const T=process.env.__FIREBASE_DEFAULTS__;return T?JSON.parse(T):void 0})()||(()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=T&&re(T[1]);return D&&JSON.parse(D)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},an=()=>{var T;return null===(T=it())||void 0===T?void 0:T.config},kt=T=>{var D;return null===(D=it())||void 0===D?void 0:D[`_${T}`]};class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,S)=>{this.resolve=D,this.reject=S})}wrapCallback(D){return(S,Q)=>{S?this.reject(S):this.resolve(Q),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(S):D(S,Q))}}}function Oi(T,D){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=D||"demo-project",N=T.iat||0,q=T.sub||T.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:N,exp:N+3600,auth_time:N,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},T);return[ft(JSON.stringify({alg:"none",type:"JWT"})),ft(JSON.stringify($e)),""].join(".")}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Jn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function ne(){var T;const D=null===(T=it())||void 0===T?void 0:T.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yn(){return"object"==typeof self&&self.self===self}function ln(){const T="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof T&&void 0!==T.id}function Gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ho(){const T=rt();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function fo(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((T,D)=>{try{let S=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(Q);N.onsuccess=()=>{N.result.close(),S||self.indexedDB.deleteDatabase(Q),T(!0)},N.onupgradeneeded=()=>{S=!1},N.onerror=()=>{var q;D((null===(q=N.error)||void 0===q?void 0:q.message)||"")}}catch(S){D(S)}})}class oe extends Error{constructor(D,S,Q){super(S),this.code=D,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(D,S,Q){this.service=D,this.serviceName=S,this.errors=Q}create(D,...S){const Q=S[0]||{},N=`${this.service}/${D}`,q=this.errors[D],$e=q?function be(T,D){return T.replace(bt,(S,Q)=>{const N=D[Q];return null!=N?String(N):`<${Q}?>`})}(q,Q):"Error";return new oe(N,`${this.serviceName}: ${$e} (${N}).`,Q)}}const bt=/\{\$([^}]+)}/g;function Ni(T,D){return Object.prototype.hasOwnProperty.call(T,D)}function fr(T){for(const D in T)if(Object.prototype.hasOwnProperty.call(T,D))return!1;return!0}function Lo(T,D){if(T===D)return!0;const S=Object.keys(T),Q=Object.keys(D);for(const N of S){if(!Q.includes(N))return!1;const q=T[N],$e=D[N];if(On(q)&&On($e)){if(!Lo(q,$e))return!1}else if(q!==$e)return!1}for(const N of Q)if(!S.includes(N))return!1;return!0}function On(T){return null!==T&&"object"==typeof T}function ic(T){const D=[];for(const[S,Q]of Object.entries(T))Array.isArray(Q)?Q.forEach(N=>{D.push(encodeURIComponent(S)+"="+encodeURIComponent(N))}):D.push(encodeURIComponent(S)+"="+encodeURIComponent(Q));return D.length?"&"+D.join("&"):""}function qr(T){const D={};return T.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[N,q]=Q.split("=");D[decodeURIComponent(N)]=decodeURIComponent(q)}}),D}function rc(T){const D=T.indexOf("?");if(!D)return"";const S=T.indexOf("#",D);return T.substring(D,S>0?S:void 0)}function Vo(T,D){const S=new rs(T,D);return S.subscribe.bind(S)}class rs{constructor(D,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{D(this)}).catch(Q=>{this.error(Q)})}next(D){this.forEachObserver(S=>{S.next(D)})}error(D){this.forEachObserver(S=>{S.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,S,Q){let N;if(void 0===D&&void 0===S&&void 0===Q)throw new Error("Missing Observer.");N=function Ks(T,D){if("object"!=typeof T||null===T)return!1;for(const S of D)if(S in T&&"function"==typeof T[S])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:S,complete:Q},void 0===N.next&&(N.next=en),void 0===N.error&&(N.error=en),void 0===N.complete&&(N.complete=en);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),q}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,D)}sendOne(D,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{S(this.observers[D])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}function La(T){return T&&T._delegate?T._delegate:T}},256:(Fo,ci,Je)=>{function E(n){return"function"==typeof n}function ze(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const K=ze(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function He(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class We{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(E(i))try{i()}catch(o){e=o instanceof K?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ui(o)}catch(s){e=e??[],s instanceof K?e=[...e,...s.errors]:e.push(s)}}if(e)throw new K(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ui(e);else{if(e instanceof We){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&He(t,e)}remove(e){const{_finalizers:t}=this;t&&He(t,e),e instanceof We&&e._removeParent(this)}}We.EMPTY=(()=>{const n=new We;return n.closed=!0,n})();const _n=We.EMPTY;function An(n){return n instanceof We||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function ui(n){E(n)?n():n.unsubscribe()}const ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},re={setTimeout(n,e,...t){const{delegate:i}=re;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=re;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function de(n){re.setTimeout(()=>{const{onUnhandledError:e}=ft;if(!e)throw n;e(n)})}function Me(){}const ut=Pt("C",void 0,void 0);function Pt(n,e,t){return{kind:n,value:e,error:t}}let Ke=null;function it(n){if(ft.useDeprecatedSynchronousErrorHandling){const e=!Ke;if(e&&(Ke={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ke;if(Ke=null,t)throw i}}else n()}class fi extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,An(e)&&e.add(this)):this.destination=yn}static create(e,t,i){return new Oi(e,t,i)}next(e){this.isStopped?ne(function di(n){return Pt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ne(function St(n){return Pt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ne(ut,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const an=Function.prototype.bind;function kt(n,e){return an.call(n,e)}class Yt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){rt(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){rt(i)}else rt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rt(t)}}}class Oi extends fi{constructor(e,t,i){let r;if(super(),E(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&kt(e.next,o),error:e.error&&kt(e.error,o),complete:e.complete&&kt(e.complete,o)}):r=e}this.destination=new Yt(r)}}function rt(n){ft.useDeprecatedSynchronousErrorHandling?function hi(n){ft.useDeprecatedSynchronousErrorHandling&&Ke&&(Ke.errorThrown=!0,Ke.error=n)}(n):de(n)}function ne(n,e){const{onStoppedNotification:t}=ft;t&&re.setTimeout(()=>t(n,e))}const yn={closed:!0,next:Me,error:function Jn(n){throw n},complete:Me},ln="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gn(n){return n}function ho(n){return 0===n.length?Gn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let ot=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function H(n){return n&&n instanceof fi||function fo(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&An(n)}(t)?t:new Oi(t,i,r);return it(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Ws(i))((r,o)=>{const s=new Oi({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[ln](){return this}pipe(...t){return ho(t)(this)}toPromise(t){return new(t=Ws(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Ws(n){var e;return null!==(e=n??ft.Promise)&&void 0!==e?e:Promise}const G=ze(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new X(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new G}next(t){it(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){it(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){it(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?_n:(this.currentObservers=null,o.push(t),new We(()=>{this.currentObservers=null,He(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new ot;return t.source=this,t}}return n.create=(e,t)=>new X(e,t),n})();class X extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:_n}}function oe(n){return E(n?.lift)}function W(n){return e=>{if(oe(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new bt(n,e,t,i,r)}class bt extends fi{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(n,e){return W((t,i)=>{let r=0;t.subscribe(be(i,o=>{i.next(n.call(e,o,r++))}))})}var Pe=Je(582);const Et=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function vn(n){return E(n?.then)}function Jt(n){return E(n[ln])}function Ii(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function ei(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yi=function Ni(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fr(n){return E(n?.[Yi])}function nc(n){return(0,Pe.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Pe.qq)(t.read());if(r)return yield(0,Pe.qq)(void 0);yield yield(0,Pe.qq)(i)}}finally{t.releaseLock()}})}function Lo(n){return E(n?.getReader)}function On(n){if(n instanceof ot)return n;if(null!=n){if(Jt(n))return function Pa(n){return new ot(e=>{const t=n[ln]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Et(n))return function ic(n){return new ot(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(vn(n))return function qr(n){return new ot(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,de)})}(n);if(Ii(n))return Zi(n);if(fr(n))return function rc(n){return new ot(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Lo(n))return function Vo(n){return Zi(nc(n))}(n)}throw ei(n)}function Zi(n){return new ot(e=>{(function rs(n,e){var t,i,r,o;return(0,Pe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Pe.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Di(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function en(n,e,t=1/0){return E(e)?en((i,r)=>Ce((o,s)=>e(i,o,r,s))(On(n(i,r))),t):("number"==typeof e&&(t=e),W((i,r)=>function Ks(n,e,t,i,r,o,s,a){const l=[];let u=0,h=0,m=!1;const g=()=>{m&&!l.length&&!u&&e.complete()},y=w=>u<i?b(w):l.push(w),b=w=>{o&&e.next(w),u++;let C=!1;On(t(w,h++)).subscribe(be(e,k=>{r?.(k),o?y(k):e.next(k)},()=>{C=!0},void 0,()=>{if(C)try{for(u--;l.length&&u<i;){const k=l.shift();s?Di(e,s,()=>b(k)):b(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(be(e,y,()=>{m=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Gr(n=1/0){return en(Gn,n)}const ti=new ot(n=>n.complete());function pr(n){return n&&E(n.schedule)}function os(n){return n[n.length-1]}function Oa(n){return E(os(n))?n.pop():void 0}function ss(n){return pr(os(n))?n.pop():void 0}function Fi(n,e=0){return W((t,i)=>{t.subscribe(be(i,r=>Di(i,n,()=>i.next(r),e),()=>Di(i,n,()=>i.complete(),e),r=>Di(i,n,()=>i.error(r),e)))})}function Qi(n,e=0){return W((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function La(n,e){if(!n)throw new Error("Iterable cannot be null");return new ot(t=>{Di(t,e,()=>{const i=n[Symbol.asyncIterator]();Di(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function S(n,e){return e?function D(n,e){if(null!=n){if(Jt(n))return function as(n,e){return On(n).pipe(Qi(e),Fi(e))}(n,e);if(Et(n))return function qu(n,e){return new ot(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(vn(n))return function Fa(n,e){return On(n).pipe(Qi(e),Fi(e))}(n,e);if(Ii(n))return La(n,e);if(fr(n))return function oc(n,e){return new ot(t=>{let i;return Di(t,e,()=>{i=n[Yi](),Di(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>E(i?.return)&&i.return()})}(n,e);if(Lo(n))return function T(n,e){return La(nc(n),e)}(n,e)}throw ei(n)}(n,e):On(n)}function Q(...n){const e=ss(n),t=function Na(n,e){return"number"==typeof os(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?On(i[0]):Gr(t)(S(i,e)):ti}class N extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function q(...n){return S(n,ss(n))}function $e(n={}){const{connector:e=(()=>new z),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,u=0,h=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,h=m=!1},b=()=>{const w=s;y(),w?.unsubscribe()};return W((w,C)=>{u++,!m&&!h&&g();const k=l=l??e();C.add(()=>{u--,0===u&&!m&&!h&&(a=st(b,r))}),k.subscribe(C),!s&&u>0&&(s=new Oi({next:M=>k.next(M),error:M=>{m=!0,g(),a=st(y,t,M),k.error(M)},complete:()=>{h=!0,g(),a=st(y,i),k.complete()}}),On(w).subscribe(s))})(o)}}function st(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Oi({next:()=>{i.unsubscribe(),n()}});return On(e(...t)).subscribe(i)}function pt(n,e){return W((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(be(i,l=>{r?.unsubscribe();let u=0;const h=o++;On(n(l,h)).subscribe(r=be(i,m=>i.next(e?e(l,m,h,u++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function cn(n,e=Gn){return n=n??ni,W((t,i)=>{let r,o=!0;t.subscribe(be(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function ni(n,e){return n===e}function xe(n){for(let e in n)if(n[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function pi(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(qt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function po(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Gu=xe({__forward_ref__:xe});function B(n){return n.__forward_ref__=B,n.toString=function(){return qt(this())},n}function R(n){return le(n)?n():n}function le(n){return"function"==typeof n&&n.hasOwnProperty(Gu)&&n.__forward_ref__===B}function Te(n){return n&&!!n.\u0275providers}const mt="https://g.co/ng/security#xss";class F extends Error{constructor(e,t){super(function Sn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function sc(n,e){throw new F(-201,!1)}function Xi(n,e){null==n&&function Ve(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function ac(n){return Pf(n,lc)||Pf(n,N_)}function Pf(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bo(n){return n&&(n.hasOwnProperty(cc)||n.hasOwnProperty(kf))?n[cc]:null}const lc=xe({\u0275prov:xe}),cc=xe({\u0275inj:xe}),N_=xe({ngInjectableDef:xe}),kf=xe({ngInjectorDef:xe});var gt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(gt||{});let uc;function xi(n){const e=uc;return uc=n,e}function L_(n,e,t){const i=ac(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&gt.Optional?null:void 0!==e?e:void sc(qt(n))}const Lt=globalThis;class ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const gr={},pc="__NG_DI_FLAG__",Ku="ngTempTokenPath",fE=/\n/gm,H_="__source";let cs;function go(n){const e=cs;return cs=n,e}function mE(n,e=gt.Default){if(void 0===cs)throw new F(-203,!1);return null===cs?L_(n,void 0,e):cs.get(n,e&gt.Optional?null:void 0,e)}function O(n,e=gt.Default){return(function F_(){return uc}()||mE)(R(n),e)}function he(n,e=gt.Default){return O(n,Zu(e))}function Zu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ff(n){const e=[];for(let t=0;t<n.length;t++){const i=R(n[t]);if(Array.isArray(i)){if(0===i.length)throw new F(900,!1);let r,o=gt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=aR(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(O(r,o))}else e.push(O(i))}return e}function Uo(n,e){return n[pc]=e,n.prototype[pc]=e,n}function aR(n){return n[pc]}function Ji(n){return{toString:n}.toString()}var zo=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zo||{}),_r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{});const Wr={},xt=[],Qu=xe({\u0275cmp:xe}),us=xe({\u0275dir:xe}),Vf=xe({\u0275pipe:xe}),mc=xe({\u0275mod:xe}),_o=xe({\u0275fac:xe}),Ba=xe({__NG_ELEMENT_ID__:xe}),Xu=xe({__NG_ENV_ID__:xe});function yr(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ju(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];ed(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function $_(n){return 3===n||4===n||6===n}function ed(n){return 64===n.charCodeAt(0)}function ds(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Bf(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Bf(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Uf="ng-template";function gE(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==yr(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function td(n){return 4===n.type&&n.value!==Uf}function jf(n,e,t){return e===(4!==n.type||t?n.value:Uf)}function zf(n,e,t){let i=4;const r=n.attrs||[],o=function q_(n){for(let e=0;e<n.length;e++)if($_(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!jf(n,l,t)||""===l&&1===e.length){if(er(i))return!1;s=!0}}else{const u=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!gE(n.attrs,u,t)){if(er(i))return!1;s=!0}continue}const m=Hf(8&i?"class":l,r,td(n),t);if(-1===m){if(er(i))return!1;s=!0;continue}if(""!==u){let g;g=m>o?"":r[m+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==yr(y,u,0)||2&i&&u!==g){if(er(i))return!1;s=!0}}}}else{if(!s&&!er(i)&&!er(l))return!1;if(s&&er(l))continue;s=!1,i=l|1&i}}return er(i)||s}function er(n){return 0==(1&n)}function Hf(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Gf(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function $f(n,e,t=!1){for(let i=0;i<e.length;i++)if(zf(n,e[i],t))return!0;return!1}function nd(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function id(n,e){return n?":not("+e.trim()+")":e}function G_(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!er(s)&&(e+=id(o,r),r=""),i=s,o=o||!er(i);t++}return""!==r&&(e+=id(o,r)),e}function Vt(n){return Ji(()=>{const e=od(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""};K_(t);const i=n.dependencies;return t.directiveDefs=Ua(i,!1),t.pipeDefs=Ua(i,!0),t.id=function Yf(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Kf(n){return yt(n)||Wn(n)}function yE(n){return null!==n}function It(n){return Ji(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rd(n,e){if(null==n)return Wr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function ge(n){return Ji(()=>{const e=od(n);return K_(e),e})}function ii(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function yt(n){return n[Qu]||null}function Wn(n){return n[us]||null}function Li(n){return n[Vf]||null}function vr(n,e){const t=n[mc]||null;if(!t&&!0===e)throw new Error(`Type ${qt(n)} does not have '\u0275mod' property.`);return t}function od(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Wr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rd(n.inputs,e),outputs:rd(n.outputs)}}function K_(n){n.features?.forEach(e=>e(n))}function Ua(n,e){if(!n)return null;const t=e?Li:Kf;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(yE)}const Mn=0,we=1,et=2,Zt=3,Kr=4,_c=5,ri=6,ja=7,Nn=8,yo=9,za=10,qe=11,yc=12,sd=13,Ha=14,bn=15,vc=16,fs=17,vo=18,Ys=19,Z_=20,bo=21,Ho=22,bc=23,$a=24,ct=25,ps=1,Zf=2,wo=7,qa=9,mi=11;function br(n){return Array.isArray(n)&&"object"==typeof n[ps]}function tr(n){return Array.isArray(n)&&!0===n[ps]}function Ec(n){return 0!=(4&n.flags)}function Zs(n){return n.componentOffset>-1}function ld(n){return 1==(1&n.flags)}function Eo(n){return!!n.template}function Q_(n){return 0!=(512&n[et])}function Co(n,e){return n.hasOwnProperty(_o)?n[_o]:null}let gi=null,ms=!1;function Or(n){const e=gi;return gi=n,e}const Fn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cd(n){if(!_s(n)||n.dirty){if(!n.producerMustRecompute(n)&&!oy(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function ry(n){n.dirty=!0,function iy(n){if(void 0===n.liveConsumerNode)return;const e=ms;ms=!0;try{for(const t of n.liveConsumerNode)t.dirty||ry(t)}finally{ms=e}}(n),n.consumerMarkedDirty?.(n)}function ep(n){return n&&(n.nextProducerIndex=0),Or(n)}function ud(n,e){if(Or(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(_s(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)gs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function oy(n){Wa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(cd(t),i!==t.version))return!0}return!1}function Ic(n){if(Wa(n),_s(n))for(let e=0;e<n.producerNode.length;e++)gs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gs(n,e){if(function dd(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Wa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)gs(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Wa(r),r.producerIndexOfThis[i]=e}}function _s(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Wa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ly=null;function hd(n){const e=Or(null);try{return n()}finally{Or(e)}}const dy=()=>{},DE=(()=>({...Fn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:dy}))();class xE{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ln(){return hy}function hy(n){return n.type.prototype.ngOnChanges&&(n.setInput=AE),TE}function TE(){const n=fy(this),e=n?.current;if(e){const t=n.previous;if(t===Wr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function AE(n,e,t,i){const r=this.declaredInputs[t],o=fy(n)||function rp(n,e){return n[fd]=e}(n,{previous:Wr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new xE(l&&l.currentValue,e,a===Wr),n[i]=e}Ln.ngInherit=!0;const fd="__ngSimpleChanges__";function fy(n){return n[fd]||null}const Io=function(n,e,t){},pd="svg";function zt(n){for(;Array.isArray(n);)n=n[Mn];return n}function Ya(n,e){return zt(e[n])}function oi(n,e){return zt(e[n.index])}function md(n,e){return n.data[e]}function Za(n,e){return n[e]}function wr(n,e){const t=e[n];return br(t)?t:t[Mn]}function ys(n,e){return null==e?null:n[e]}function my(n){n[fs]=0}function cp(n){1024&n[et]||(n[et]|=1024,gd(n,1))}function gy(n){1024&n[et]&&(n[et]&=-1025,gd(n,-1))}function gd(n,e){let t=n[Zt];if(null===t)return;t[_c]+=e;let i=t;for(t=t[Zt];null!==t&&(1===e&&1===i[_c]||-1===e&&0===i[_c]);)t[_c]+=e,i=t,t=t[Zt]}const je={lFrame:Cy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yd(){return je.bindingsEnabled}function vs(){return null!==je.skipHydrationRootTNode}function se(){return je.lFrame.lView}function vt(){return je.lFrame.tView}function wn(n){return je.lFrame.contextLView=n,n[Nn]}function En(n){return je.lFrame.contextLView=null,n}function Kn(){let n=wy();for(;null!==n&&64===n.type;)n=n.parent;return n}function wy(){return je.lFrame.currentTNode}function Nr(n,e){const t=je.lFrame;t.currentTNode=n,t.isParent=e}function fp(){return je.lFrame.isParent}function Ac(){je.lFrame.isParent=!1}function _i(){const n=je.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ea(){return je.lFrame.bindingIndex++}function Do(n){const e=je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _p(n,e){const t=je.lFrame;t.bindingIndex=t.bindingRootIndex=n,yp(e)}function yp(n){je.lFrame.currentDirectiveIndex=n}function vp(n){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function bd(){return je.lFrame.currentQueryIndex}function bp(n){je.lFrame.currentQueryIndex=n}function FE(n){const e=n[we];return 2===e.type?e.declTNode:1===e.type?n[ri]:null}function wp(n,e,t){if(t&gt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&gt.Host||(r=FE(o),null===r||(o=o[Ha],10&r.type))););if(null===r)return!1;e=r,n=o}const i=je.lFrame=Sc();return i.currentTNode=e,i.lView=n,!0}function Ep(n){const e=Sc(),t=n[we];je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Sc(){const n=je.lFrame,e=null===n?null:n.child;return null===e?Cy(n):e}function Cy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Iy(){const n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Dy=Iy;function Cp(){const n=Iy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vi(){return je.lFrame.selectedIndex}function ta(n){je.lFrame.selectedIndex=n}function tn(){const n=je.lFrame;return md(n.tView,n.selectedIndex)}function Ip(){je.lFrame.currentNamespace=pd}let Dp=!0;function wd(){return Dp}function bs(n){Dp=n}function Ed(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Cd(n,e,t){Ay(n,e,3,t)}function Qa(n,e,t,i){(3&n[et])===t&&Ay(n,e,t,i)}function Mc(n,e){let t=n[et];(3&t)===e&&(t&=8191,t+=1,n[et]=t)}function Ay(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[fs]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[fs]+=65536),(a<o||-1==o)&&(zE(n,t,e,l),n[fs]=(4294901760&n[fs])+l+2),l++}function Id(n,e){Io(4,n,e);const t=Or(null);try{e.call(n)}finally{Or(t),Io(5,n,e)}}function zE(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[et]>>13<n[fs]>>16&&(3&n[et])===e&&(n[et]+=8192,Id(a,o)):Id(a,o)}const na=-1;class Rc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Tp(n){return n!==na}function Pc(n){return 32767&n}function kc(n,e){let t=function qE(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ha],t--;return i}let Ap=!0;function Oc(n){const e=Ap;return Ap=n,e}const GE=255,ws=5;let WE=0;const xo={};function xd(n,e){const t=Py(n,e);if(-1!==t)return t;const i=e[we];i.firstCreatePass&&(n.injectorIndex=e.length,Nc(i.data,n),Nc(e,null),Nc(i.blueprint,null));const r=Td(n,e),o=n.injectorIndex;if(Tp(r)){const s=Pc(r),a=kc(r,e),l=a[we].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function Nc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Py(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Td(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Vy(r),null===i)return na;if(t++,r=r[Ha],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return na}function Fc(n,e,t){!function Sp(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ba)&&(i=t[Ba]),null==i&&(i=t[Ba]=WE++);const r=i&GE;e.data[n+(r>>ws)]|=1<<r}(n,e,t)}function ky(n,e,t){if(t&gt.Optional||void 0!==n)return n;sc()}function Ad(n,e,t,i){if(t&gt.Optional&&void 0===i&&(i=null),!(t&(gt.Self|gt.Host))){const r=n[yo],o=xi(void 0);try{return r?r.get(e,i,t&gt.Optional):L_(e,i,t&gt.Optional)}finally{xi(o)}}return ky(i,0,t)}function Oy(n,e,t,i=gt.Default,r){if(null!==n){if(2048&e[et]&&!(i&gt.Self)){const s=function QE(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[et]&&!(512&s[et]);){const a=Ny(o,s,t,i|gt.Self,xo);if(a!==xo)return a;let l=o.parent;if(!l){const u=s[Z_];if(u){const h=u.get(t,xo,i);if(h!==xo)return h}l=Vy(s),s=s[Ha]}o=l}return r}(n,e,t,i,xo);if(s!==xo)return s}const o=Ny(n,e,t,i,xo);if(o!==xo)return o}return Ad(e,t,i,r)}function Ny(n,e,t,i,r){const o=function Fy(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ba)?n[Ba]:void 0;return"number"==typeof e?e>=0?e&GE:ZE:e}(t);if("function"==typeof o){if(!wp(e,n,i))return i&gt.Host?ky(r,0,i):Ad(e,t,i,r);try{let s;if(s=o(i),null!=s||i&gt.Optional)return s;sc()}finally{Dy()}}else if("number"==typeof o){let s=null,a=Py(n,e),l=na,u=i&gt.Host?e[bn][ri]:null;for((-1===a||i&gt.SkipSelf)&&(l=-1===a?Td(n,e):e[a+8],l!==na&&Ly(i,!1)?(s=e[we],a=Pc(l),e=kc(l,e)):a=-1);-1!==a;){const h=e[we];if(Md(o,a,h.data)){const m=YE(a,e,t,s,i,u);if(m!==xo)return m}l=e[a+8],l!==na&&Ly(i,e[we].data[a+8]===u)&&Md(o,a,e)?(s=h,a=Pc(l),e=kc(l,e)):a=-1}}return r}function YE(n,e,t,i,r,o){const s=e[we],a=s.data[n+8],h=Sd(a,s,t,null==i?Zs(a)&&Ap:i!=s&&0!=(3&a.type),r&gt.Host&&o===a);return null!==h?ia(e,s,h,a):xo}function Sd(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let y=i?a:a+h;y<g;y++){const b=s[y];if(y<l&&t===b||y>=l&&b.type===t)return y}if(r){const y=s[l];if(y&&Eo(y)&&y.type===t)return l}return null}function ia(n,e,t,i){let r=n[t];const o=e.data;if(function xp(n){return n instanceof Rc}(r)){const s=r;s.resolving&&function Va(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new F(-200,`Circular dependency in DI detected for ${n}${t}`)}(function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(o[t]));const a=Oc(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?xi(s.injectImpl):null;wp(n,i,gt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function jE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=hy(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&xi(u),Oc(a),s.resolving=!1,Dy()}}return r}function Md(n,e,t){return!!(t[e+(n>>ws)]&1<<n)}function Ly(n,e){return!(n&gt.Self||n&gt.Host&&e)}class yi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Oy(this._tNode,this._lView,e,Zu(i),t)}}function ZE(){return new yi(Kn(),se())}function Vn(n){return Ji(()=>{const e=n.prototype.constructor,t=e[_o]||Xa(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[_o]||Xa(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Xa(n){return le(n)?()=>{const e=Xa(R(n));return e&&e()}:Co(n)}function Vy(n){const e=n[we],t=e.type;return 2===t?e.declTNode:1===t?n[ri]:null}function Ja(n){return function KE(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if($_(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Kn(),n)}const el="__parameters__";function To(n,e,t){return Ji(()=>{const i=function Rp(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,h){const m=l.hasOwnProperty(el)?l[el]:Object.defineProperty(l,el,{value:[]})[el];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function nl(n,e){n.forEach(t=>Array.isArray(t)?nl(t,e):e(t))}function Rd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function il(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Bc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Cr(n,e,t){let i=rl(n,e);return i>=0?n[1|i]=t:(i=~i,function Cs(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Pp(n,e){const t=rl(n,e);if(t>=0)return n[1|t]}function rl(n,e){return function Bi(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Is=Uo(To("Optional"),8),oa=Uo(To("SkipSelf"),4);function Qy(n){return 128==(128&n.flags)}var sl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(sl||{});const cC=new Map;let r$=0;const dC="__ngContext__";function nr(n,e){br(e)?(n[dC]=e[Ys],function s$(n){cC.set(n[Ys],n)}(e)):n[dC]=e}let hC;function fC(n,e){return hC(n,e)}function Bp(n){const e=n[Zt];return tr(e)?e[Zt]:e}function KR(n){return ZR(n[yc])}function YR(n){return ZR(n[Kr])}function ZR(n){for(;null!==n&&!tr(n);)n=n[Kr];return n}function Ld(n,e,t,i,r){if(null!=i){let o,s=!1;tr(i)?o=i:br(i)&&(s=!0,i=i[Mn]);const a=zt(i);0===n&&null!==t?null==r?eP(e,t,a):zc(e,t,a,r||null,!0):1===n&&null!==t?zc(e,t,a,r||null,!0):2===n?function rv(n,e,t){const i=nv(n,e);i&&function D$(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function A$(n,e,t,i,r){const o=t[wo];o!==zt(t)&&Ld(e,n,i,o,r);for(let a=mi;a<t.length;a++){const l=t[a];jp(l[we],l,n,e,i,o)}}(e,n,o,t,r)}}function ev(n,e,t){return n.createElement(e,t)}function XR(n,e){const t=n[qa],i=t.indexOf(e);gy(e),t.splice(i,1)}function tv(n,e){if(n.length<=mi)return;const t=mi+e,i=n[t];if(i){const r=i[vc];null!==r&&r!==n&&XR(r,i),e>0&&(n[t-1][Kr]=i[Kr]);const o=il(n,mi+e);!function _$(n,e){jp(n,e,e[qe],2,null,null),e[Mn]=null,e[ri]=null}(i[we],i);const s=o[vo];null!==s&&s.detachView(o[we]),i[Zt]=null,i[Kr]=null,i[et]&=-129}return i}function mC(n,e){if(!(256&e[et])){const t=e[qe];e[bc]&&Ic(e[bc]),e[$a]&&Ic(e[$a]),t.destroyNode&&jp(n,e,t,3,null,null),function b$(n){let e=n[yc];if(!e)return gC(n[we],n);for(;e;){let t=null;if(br(e))t=e[yc];else{const i=e[mi];i&&(t=i)}if(!t){for(;e&&!e[Kr]&&e!==n;)br(e)&&gC(e[we],e),e=e[Zt];null===e&&(e=n),br(e)&&gC(e[we],e),t=e&&e[Kr]}e=t}}(e)}}function gC(n,e){if(!(256&e[et])){e[et]&=-129,e[et]|=256,function I$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Rc)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Io(4,a,l);try{l.call(a)}finally{Io(5,a,l)}}else{Io(4,r,o);try{o.call(r)}finally{Io(5,r,o)}}}}}(n,e),function C$(n,e){const t=n.cleanup,i=e[ja];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[ja]=null);const r=e[bo];if(null!==r){e[bo]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[we].type&&e[qe].destroy();const t=e[vc];if(null!==t&&tr(e[Zt])){t!==e[Zt]&&XR(t,e);const i=e[vo];null!==i&&i.detachView(n)}!function a$(n){cC.delete(n[Ys])}(e)}}function _C(n,e,t){return function JR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Mn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===_r.None||o===_r.Emulated)return null}return oi(i,t)}}(n,e.parent,t)}function zc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function eP(n,e,t){n.appendChild(e,t)}function tP(n,e,t,i,r){null!==i?zc(n,e,t,i,r):eP(n,e,t)}function nv(n,e){return n.parentNode(e)}function nP(n,e,t){return rP(n,e,t)}let yC,EC,sv,rP=function iP(n,e,t){return 40&n.type?oi(n,t):null};function iv(n,e,t,i){const r=_C(n,i,e),o=e[qe],a=nP(i.parent||e[ri],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)tP(o,r,t[l],a,!1);else tP(o,r,t,a,!1);void 0!==yC&&yC(o,i,e,t,r)}function Up(n,e){if(null!==e){const t=e.type;if(3&t)return oi(e,n);if(4&t)return vC(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Up(n,i);{const r=n[e.index];return tr(r)?vC(-1,r):zt(r)}}if(32&t)return fC(e,n)()||zt(n[e.index]);{const i=sP(n,e);return null!==i?Array.isArray(i)?i[0]:Up(Bp(n[bn]),i):Up(n,e.next)}}return null}function sP(n,e){return null!==e?n[bn][ri].projection[e.projection]:null}function vC(n,e){const t=mi+n+1;if(t<e.length){const i=e[t],r=i[we].firstChild;if(null!==r)return Up(i,r)}return e[wo]}function bC(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&nr(zt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)bC(n,e,t.child,i,r,o,!1),Ld(e,n,r,a,o);else if(32&l){const u=fC(t,i);let h;for(;h=u();)Ld(e,n,r,h,o);Ld(e,n,r,a,o)}else 16&l?lP(n,e,i,t,r,o):Ld(e,n,r,a,o);t=s?t.projectionNext:t.next}}function jp(n,e,t,i,r,o){bC(t,i,n.firstChild,e,r,o,!1)}function lP(n,e,t,i,r,o){const s=t[bn],l=s[ri].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ld(e,n,r,l[u],o);else{let u=l;const h=s[Zt];Qy(i)&&(u.flags|=128),bC(n,e,u,h,r,o,!0)}}function cP(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uP(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ju(n,e,i),null!==r&&cP(n,e,r),null!==o&&function M$(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function fP(n){return function CC(){if(void 0===sv&&(sv=null,Lt.trustedTypes))try{sv=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sv}()?.createScriptURL(n)||n}class pP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function al(n){return n instanceof pP?n.changingThisBreaksApplicationSecurity:n}function zp(n,e){const t=function U$(n){return n instanceof pP&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mt})`)}return t===e}const $$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ud=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ud||{});function wP(n){const e=$p();return e?e.sanitize(Ud.URL,n)||"":zp(n,"URL")?al(n):function IC(n){return(n=String(n)).match($$)?n:"unsafe:"+n}(Ae(n))}function EP(n){const e=$p();if(e)return fP(e.sanitize(Ud.RESOURCE_URL,n)||"");if(zp(n,"ResourceURL"))return fP(al(n));throw new F(904,!1)}function $p(){const n=se();return n&&n[za].sanitizer}const qp=new ie("ENVIRONMENT_INITIALIZER"),IP=new ie("INJECTOR",-1),DP=new ie("INJECTOR_DEF_TYPES");class AC{get(e,t=gr){if(t===gr){const i=new Error(`NullInjectorError: No provider for ${qt(e)}!`);throw i.name="NullInjectorError",i}return t}}function r5(...n){return{\u0275providers:xP(0,n),\u0275fromNgModule:!0}}function xP(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return nl(e,s=>{const a=s;lv(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&TP(r,o),t}function TP(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];MC(r,o=>{e(o,i)})}}function lv(n,e,t,i){if(!(n=R(n)))return!1;let r=null,o=Bo(n);const s=!o&&yt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Bo(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)lv(u,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{nl(o.imports,h=>{lv(h,e,t,i)&&(u||=[],u.push(h))})}finally{}void 0!==u&&TP(u,e)}if(!a){const u=Co(r)||(()=>new r);e({provide:r,useFactory:u,deps:xt},r),e({provide:DP,useValue:r,multi:!0},r),e({provide:qp,useValue:()=>O(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const u=n;MC(l,h=>{e(h,u)})}}}return r!==n&&void 0!==n.providers}function MC(n,e){for(let t of n)Te(t)&&(t=t.\u0275providers),Array.isArray(t)?MC(t,e):e(t)}const o5=xe({provide:String,useValue:xe});function RC(n){return null!==n&&"object"==typeof n&&o5 in n}function Hc(n){return"function"==typeof n}const PC=new ie("Set Injector scope."),cv={},a5={};let kC;function uv(){return void 0===kC&&(kC=new AC),kC}class Zr{}class jd extends Zr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,NC(e,s=>this.processProvider(s)),this.records.set(IP,zd(void 0,this)),r.has("environment")&&this.records.set(Zr,zd(void 0,this));const o=this.records.get(PC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(DP.multi,xt,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=go(this),i=xi(void 0);try{return e()}finally{go(t),xi(i)}}get(e,t=gr,i=gt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Xu))return e[Xu](this);i=Zu(i);const o=go(this),s=xi(void 0);try{if(!(i&gt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function h5(n){return"function"==typeof n||"object"==typeof n&&n instanceof ie}(e)&&ac(e);l=u&&this.injectableDefInScope(u)?zd(OC(e),cv):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&gt.Self?uv():this.parent).get(e,t=i&gt.Optional&&t===gr?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ku]=a[Ku]||[]).unshift(qt(e)),o)throw a;return function Lf(n,e,t,i){const r=n[Ku];throw e[H_]&&r.unshift(e[H_]),n.message=function jo(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=qt(e);if(Array.isArray(e))r=e.map(qt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):qt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(fE,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ku]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{xi(s),go(o)}}resolveInjectorInitializers(){const e=go(this),t=xi(void 0);try{const r=this.get(qp.multi,xt,gt.Self);for(const o of r)o()}finally{go(e),xi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(qt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=Hc(e=R(e))?e:R(e&&e.provide);const i=function c5(n){return RC(n)?zd(void 0,n.useValue):zd(MP(n),cv)}(e);if(Hc(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=zd(void 0,cv,!0),r.factory=()=>Ff(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===cv&&(t.value=a5,t.value=t.factory()),"object"==typeof t.value&&t.value&&function d5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function OC(n){const e=ac(n),t=null!==e?e.factory:Co(n);if(null!==t)return t;if(n instanceof ie)throw new F(204,!1);if(n instanceof Function)return function l5(n){const e=n.length;if(e>0)throw Bc(e,"?"),new F(204,!1);const t=function dE(n){return n&&(n[lc]||n[N_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new F(204,!1)}function MP(n,e,t){let i;if(Hc(n)){const r=R(n);return Co(r)||OC(r)}if(RC(n))i=()=>R(n.useValue);else if(function SP(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ff(n.deps||[]));else if(function AP(n){return!(!n||!n.useExisting)}(n))i=()=>O(R(n.useExisting));else{const r=R(n&&(n.useClass||n.provide));if(!function u5(n){return!!n.deps}(n))return Co(r)||OC(r);i=()=>new r(...Ff(n.deps))}return i}function zd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function NC(n,e){for(const t of n)Array.isArray(t)?NC(t,e):t&&Te(t)?NC(t.\u0275providers,e):e(t)}const dv=new ie("AppId",{providedIn:"root",factory:()=>f5}),f5="ng",RP=new ie("Platform Initializer"),Go=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ll=new ie("AnimationModuleType"),FC=new ie("CSP nonce",{providedIn:"root",factory:()=>function Bd(){if(void 0!==EC)return EC;if(typeof document<"u")return document;throw new F(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let PP=(n,e,t)=>null;function $C(n,e,t=!1){return PP(n,e,t)}class C5{}class NP{}class D5{resolveComponentFactory(e){throw function I5(n){const e=Error(`No component factory found for ${qt(n)}.`);return e.ngComponent=n,e}(e)}}let qd=(()=>{class n{static#e=this.NULL=new D5}return n})();function x5(){return Gd(Kn(),se())}function Gd(n,e){return new Tt(oi(n,e))}let Tt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=x5}return n})();function T5(n){return n instanceof Tt?n.nativeElement:n}class Kp{}let aa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function A5(){const n=se(),t=wr(Kn().index,n);return(br(t)?t:n)[qe]}()}return n})(),S5=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null})}return n})();class cl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const LP=new cl("16.2.12"),WC={};function jP(n,e=null,t=null,i){const r=zP(n,e,t,i);return r.resolveInjectorInitializers(),r}function zP(n,e=null,t=null,i,r=new Set){const o=[t||xt,r5(n)];return i=i||("object"==typeof n?void 0:qt(n)),new jd(o,e||uv(),i||null,r)}let Ti=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=gr;static#t=this.NULL=new AC;static create(t,i){if(Array.isArray(t))return jP({name:""},i,t,"");{const r=t.name??"";return jP({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ue({token:n,providedIn:"any",factory:()=>O(IP)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function YC(n){return n.ngOriginalError}class la{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&YC(e);for(;t&&YC(t);)t=YC(t);return t||null}}function QC(n){return e=>{setTimeout(n,void 0,e)}}const Fe=class F5 extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=QC(o),r&&(r=QC(r)),s&&(s=QC(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof We&&e.add(a),a}};function $P(...n){}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function L5(){const n="function"==typeof Lt.requestAnimationFrame;let e=Lt[n?"requestAnimationFrame":"setTimeout"],t=Lt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function U5(n){const e=()=>{!function B5(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Lt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,JC(n),n.isCheckStableRunning=!0,XC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),JC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function z5(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return qP(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),GP(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return qP(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),GP(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,JC(n),XC(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new F(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,V5,$P,$P);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const V5={};function XC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GP(n){n._nesting--,XC(n)}class j5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const WP=new ie("",{providedIn:"root",factory:KP});function KP(){const n=he(Be);let e=!0;return Q(new ot(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new ot(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Be.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe($e()))}function ca(n){return n instanceof Function?n():n}let eI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})();function Yp(n){for(;n;){n[et]|=64;const e=Bp(n);if(Q_(n)&&!e)return n;n=e}return null}const JP=new ie("",{providedIn:"root",factory:()=>!1});let yv=null;function r1(n,e){return n[e]??a1()}function o1(n,e){const t=a1();t.producerNode?.length&&(n[e]=yv,t.lView=n,yv=s1())}const X5={...Fn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Yp(n.lView)},lView:null};function s1(){return Object.create(X5)}function a1(){return yv??=s1(),yv}const nt={};function Y(n){l1(vt(),se(),Vi()+n,!1)}function l1(n,e,t,i){if(!i)if(3==(3&e[et])){const o=n.preOrderCheckHooks;null!==o&&Cd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Qa(e,o,0,t)}ta(t)}function x(n,e=gt.Default){const t=se();return null===t?O(n,e):Oy(Kn(),t,R(n),e)}function vv(){throw new Error("invalid")}function bv(n,e,t,i,r,o,s,a,l,u,h){const m=e.blueprint.slice();return m[Mn]=r,m[et]=140|i,(null!==u||n&&2048&n[et])&&(m[et]|=2048),my(m),m[Zt]=m[Ha]=n,m[Nn]=t,m[za]=s||n&&n[za],m[qe]=a||n&&n[qe],m[yo]=l||n&&n[yo]||null,m[ri]=o,m[Ys]=function o$(){return r$++}(),m[Ho]=h,m[Z_]=u,m[bn]=2==e.type?n[bn]:m,m}function Yd(n,e,t,i,r){let o=n.data[e];if(null===o)o=function tI(n,e,t,i,r){const o=wy(),s=fp(),l=n.data[e]=function sq(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return vs()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function OE(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Tc(){const n=je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Nr(o,!0),o}function Zp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function c1(n,e,t,i,r){const o=r1(e,bc),s=Vi(),a=2&i;try{ta(-1),a&&e.length>ct&&l1(n,e,ct,!1),Io(a?2:0,r);const u=a?o:null,h=ep(u);try{null!==u&&(u.dirty=!1),t(i,r)}finally{ud(u,h)}}finally{a&&null===e[bc]&&o1(e,bc),ta(s),Io(a?3:1,r)}}function nI(n,e,t){if(Ec(e)){const i=Or(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Or(i)}}}function iI(n,e,t){yd()&&(function fq(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Zs(t)&&function bq(n,e,t){const i=oi(e,n),r=u1(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=wv(n,bv(n,r,null,s,i,e,null,n[za].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||xd(t,e),nr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],u=ia(e,n,a,t);nr(u,e),null!==s&&wq(0,a-r,u,l,0,s),Eo(l)&&(wr(t.index,e)[Nn]=ia(e,n,a,t))}}(n,e,t,oi(t,e)),64==(64&t.flags)&&m1(n,e,t))}function rI(n,e,t=oi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function u1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=oI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function oI(n,e,t,i,r,o,s,a,l,u,h){const m=ct+i,g=m+r,y=function eq(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:nt);return t}(m,g),b="function"==typeof u?u():u;return y[we]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}let d1=n=>null;function h1(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?f1(t,e,r,o):i.hasOwnProperty(r)&&f1(t,e,i[r],o)}return t}function f1(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Qr(n,e,t,i,r,o,s,a){const l=oi(e,t);let h,u=e.inputs;!a&&null!=u&&(h=u[i])?(uI(n,t,h,i,r),Zs(e)&&function cq(n,e){const t=wr(e,n);16&t[et]||(t[et]|=64)}(t,e.index)):3&e.type&&(i=function lq(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function sI(n,e,t,i){if(yd()){const r=null===i?null:{"":-1},o=function mq(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if($f(e,s.selectors,!1))if(i||(i=[]),Eo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),aI(n,e,a.length)}else i.unshift(s),aI(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&p1(n,e,t,s,r,a),r&&function gq(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new F(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ds(t.mergedAttrs,t.attrs)}function p1(n,e,t,i,r,o){for(let u=0;u<i.length;u++)Fc(xd(t,e),n,i[u].type);!function yq(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let u=0;u<i.length;u++){const h=i[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Zp(n,e,i.length,null);for(let u=0;u<i.length;u++){const h=i[u];t.mergedAttrs=ds(t.mergedAttrs,h.hostAttrs),vq(n,t,e,l,h),_q(l,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function aq(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<r;h++){const m=o[h],g=t?t.get(m):null,b=g?g.outputs:null;l=h1(m.inputs,h,l,g?g.inputs:null),u=h1(m.outputs,h,u,b);const w=null===l||null===s||td(e)?null:Eq(l,h,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(n,t,o)}function m1(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function NE(){return je.lFrame.currentDirectiveIndex}();try{ta(o);for(let a=i;a<r;a++){const l=n.data[a],u=e[a];yp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&pq(l,u)}}finally{ta(-1),yp(s)}}function pq(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function aI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function _q(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Eo(e)&&(t[""]=n)}}function vq(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Co(r.type)),s=new Rc(o,Eo(r),x);n.blueprint[i]=s,t[i]=s,function dq(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function hq(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Zp(n,t,r.hostVars,nt),r)}function Ds(n,e,t,i,r,o){const s=oi(n,e);!function lI(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ae(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[qe],s,o,n.value,t,i,r)}function wq(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)g1(i,t,s[a++],s[a++],s[a++])}function g1(n,e,t,i,r){const o=Or(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Or(o)}}function Eq(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function _1(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function y1(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];bp(t[i]),s.contentQueries(2,e[o],o)}}}function wv(n,e){return n[yc]?n[sd][Kr]=e:n[yc]=e,n[sd]=e,e}function cI(n,e,t){bp(0);const i=Or(null);try{e(n,t)}finally{Or(i)}}function v1(n){return n[ja]||(n[ja]=[])}function b1(n){return n.cleanup||(n.cleanup=[])}function w1(n,e,t){return(null===n||Eo(n))&&(t=function ap(n){for(;Array.isArray(n);){if("object"==typeof n[ps])return n;n=n[Mn]}return null}(t[e.index])),t[qe]}function E1(n,e){const t=n[yo],i=t?t.get(la,null):null;i&&i.handleError(e)}function uI(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];g1(n.data[s],e[s],i,a,r)}}function ua(n,e,t){const i=Ya(e,n);!function QR(n,e,t){n.setValue(e,t)}(n[qe],i,t)}function Cq(n,e){const t=wr(e,n),i=t[we];!function Iq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Mn];null!==r&&null===t[Ho]&&(t[Ho]=$C(r,t[yo])),dI(i,t,t[Nn])}function dI(n,e,t){Ep(e);try{const i=n.viewQuery;null!==i&&cI(1,i,t);const r=n.template;null!==r&&c1(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&y1(n,e),n.staticViewQueries&&cI(2,n.viewQuery,t);const o=n.components;null!==o&&function Dq(n,e){for(let t=0;t<e.length;t++)Cq(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[et]&=-5,Cp()}}let C1=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function IE(n,e,t){const i=Object.create(DE);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>ry(i),run:()=>{if(i.dirty=!1,i.hasRun&&!oy(i))return;i.hasRun=!0;const s=ep(i);try{i.cleanupFn(),i.cleanupFn=dy,i.fn(r)}finally{ud(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ev(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=po(r,a):2==o&&(i=po(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Qp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(zt(o)),tr(o)&&I1(o,i);const s=t.type;if(8&s)Qp(n,e,t.child,i);else if(32&s){const a=fC(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=sP(e,t);if(Array.isArray(a))i.push(...a);else{const l=Bp(e[bn]);Qp(l[we],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function I1(n,e){for(let t=mi;t<n.length;t++){const i=n[t],r=i[we].firstChild;null!==r&&Qp(i[we],i,r,e)}n[wo]!==n[Mn]&&e.push(n[wo])}function Cv(n,e,t,i=!0){const r=e[za],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{D1(n,e,n.template,t)}catch(l){throw i&&E1(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function D1(n,e,t,i){const r=e[et];if(256!=(256&r)){e[za].effectManager?.flush(),Ep(e);try{my(e),function mp(n){return je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&c1(n,e,t,2,i);const s=3==(3&r);if(s){const u=n.preOrderCheckHooks;null!==u&&Cd(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Qa(e,u,0,null),Mc(e,0)}if(function Aq(n){for(let e=KR(n);null!==e;e=YR(e)){if(!e[Zf])continue;const t=e[qa];for(let i=0;i<t.length;i++){cp(t[i])}}}(e),x1(e,2),null!==n.contentQueries&&y1(n,e),s){const u=n.contentCheckHooks;null!==u&&Cd(e,u)}else{const u=n.contentHooks;null!==u&&Qa(e,u,1),Mc(e,1)}!function J5(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=r1(e,$a);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)ta(~o);else{const s=o,a=t[++r],l=t[++r];_p(a,s),i.dirty=!1;const u=ep(i);try{l(2,e[s])}finally{ud(i,u)}}}}finally{null===e[$a]&&o1(e,$a),ta(-1)}}(n,e);const a=n.components;null!==a&&A1(e,a,0);const l=n.viewQuery;if(null!==l&&cI(2,l,i),s){const u=n.viewCheckHooks;null!==u&&Cd(e,u)}else{const u=n.viewHooks;null!==u&&Qa(e,u,2),Mc(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[et]&=-73,gy(e)}finally{Cp()}}}function x1(n,e){for(let t=KR(n);null!==t;t=YR(t))for(let i=mi;i<t.length;i++)T1(t[i],e)}function Sq(n,e,t){T1(wr(e,n),t)}function T1(n,e){if(!function lp(n){return 128==(128&n[et])}(n))return;const t=n[we],i=n[et];if(80&i&&0===e||1024&i||2===e)D1(t,n,t.template,n[Nn]);else if(n[_c]>0){x1(n,1);const r=t.components;null!==r&&A1(n,r,1)}}function A1(n,e,t){for(let i=0;i<e.length;i++)Sq(n,e[i],t)}class Xp{get rootNodes(){const e=this._lView,t=e[we];return Qp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(e){this._lView[Nn]=e}get destroyed(){return 256==(256&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Zt];if(tr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(tv(e,i),il(t,i))}this._attachedToViewContainer=!1}mC(this._lView[we],this._lView)}onDestroy(e){!function _y(n,e){if(256==(256&n[et]))throw new F(911,!1);null===n[bo]&&(n[bo]=[]),n[bo].push(e)}(this._lView,e)}markForCheck(){Yp(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-129}reattach(){this._lView[et]|=128}detectChanges(){Cv(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v$(n,e){jp(n,e,e[qe],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class Mq extends Xp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Cv(e[we],e,e[Nn],!1)}checkNoChanges(){}get context(){return null}}class S1 extends qd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=yt(e);return new Jp(t,this.ngModule)}}function M1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Pq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Zu(i);const r=this.injector.get(e,WC,i);return r!==WC||t===WC?r:this.parentInjector.get(e,t,i)}}class Jp extends NP{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=M1(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return M1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Wf(n){return n.map(G_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Zr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Pq(e,o):e,a=s.get(Kp,null);if(null===a)throw new F(407,!1);const m={rendererFactory:a,sanitizer:s.get(S5,null),effectManager:s.get(C1,null),afterRenderEventManager:s.get(eI,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=i?function tq(n,e,t,i){const o=i.get(JP,!1)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return function nq(n){d1(n)}(s),s}(g,i,this.componentDef.encapsulation,s):ev(g,y,function Rq(n){const e=n.toLowerCase();return"svg"===e?pd:"math"===e?"math":null}(y)),k=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==b&&(M=$C(b,s,!0));const V=oI(0,null,null,1,0,null,null,null,null,null,null),ee=bv(null,V,null,k,null,null,m,g,s,null,M);let pe,Ne;Ep(ee);try{const Ye=this.componentDef;let $t,Pr=null;Ye.findHostDirectiveDefs?($t=[],Pr=new Map,Ye.findHostDirectiveDefs(Ye,$t,Pr),$t.push(Ye)):$t=[Ye];const $r=function Oq(n,e){const t=n[we],i=ct;return n[i]=e,Yd(t,i,2,"#host",null)}(ee,b),iE=function Nq(n,e,t,i,r,o,s){const a=r[we];!function Fq(n,e,t,i){for(const r of n)e.mergedAttrs=ds(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ev(e,e.mergedAttrs,!0),null!==t&&uP(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=$C(e,r[yo]));const u=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const m=bv(r,u1(t),null,h,r[n.index],n,o,u,null,null,l);return a.firstCreatePass&&aI(a,n,i.length-1),wv(r,m),r[n.index]=m}($r,b,Ye,$t,ee,m,g);Ne=md(V,ct),b&&function Vq(n,e,t,i){if(i)Ju(n,t,["ng-version",LP.full]);else{const{attrs:r,classes:o}=function W_(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!er(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ju(n,t,r),o&&o.length>0&&cP(n,t,o.join(" "))}}(g,Ye,b,i),void 0!==t&&function Bq(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Ne,this.ngContentSelectors,t),pe=function Lq(n,e,t,i,r,o){const s=Kn(),a=r[we],l=oi(s,r);p1(a,r,s,t,null,i);for(let h=0;h<t.length;h++)nr(ia(r,a,s.directiveStart+h,s),r);m1(a,r,s),l&&nr(l,r);const u=ia(r,a,s.directiveStart+s.componentOffset,s);if(n[Nn]=r[Nn]=u,null!==o)for(const h of o)h(u,e);return nI(a,s,n),u}(iE,Ye,$t,Pr,ee,[Uq]),dI(V,ee,null)}finally{Cp()}return new kq(this.componentType,pe,Gd(Ne,ee),ee,Ne)}}class kq extends C5{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Mq(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;uI(o[we],o,r,e,t),this.previousInputValues.set(e,t),Yp(wr(this._tNode.index,o))}}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Uq(){const n=Kn();Ed(se()[we],n)}function _t(n){let e=function R1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Eo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Iv(n.inputs),s.inputTransforms=Iv(n.inputTransforms),s.declaredInputs=Iv(n.declaredInputs),s.outputs=Iv(n.outputs);const a=r.hostBindings;a&&$q(n,a);const l=r.viewQuery,u=r.contentQueries;if(l&&zq(n,l),u&&Hq(n,u),pi(n.inputs,r.inputs),pi(n.declaredInputs,r.declaredInputs),pi(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),pi(s.inputTransforms,r.inputTransforms)),Eo(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===_t&&(t=!1)}}e=Object.getPrototypeOf(e)}!function jq(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ds(r.hostAttrs,t=ds(t,r.hostAttrs))}}(i)}function Iv(n){return n===Wr?{}:n===xt?[]:n}function zq(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Hq(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function $q(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function N1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function Dv(n){return!!hI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xs(n,e,t){return n[e]=t}function ir(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function $c(n,e,t,i){const r=ir(n,e,t);return ir(n,e+1,i)||r}function Qt(n,e,t,i){const r=se();return ir(r,ea(),e)&&(vt(),Ds(tn(),r,n,e,t,i)),Qt}function Qd(n,e,t,i){return ir(n,ea(),t)?e+Ae(t)+i:nt}function Xd(n,e,t,i,r,o){const a=$c(n,function $o(){return je.lFrame.bindingIndex}(),t,r);return Do(2),a?e+Ae(t)+i+Ae(r)+o:nt}function ht(n,e,t,i,r,o,s,a){const l=se(),u=vt(),h=n+ct,m=u.firstCreatePass?function m8(n,e,t,i,r,o,s,a,l){const u=e.consts,h=Yd(e,n,4,s||null,ys(u,a));sI(e,t,h,ys(u,l)),Ed(e,h);const m=h.tView=oI(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,u,l,e,t,i,r,o,s):u.data[h];Nr(m,!1);const g=K1(u,l,m,n);wd()&&iv(u,l,g,m),nr(g,l),wv(l,l[h]=_1(g,l,g,m)),ld(m)&&iI(u,l,m),null!=s&&rI(l,m,a)}let K1=function Y1(n,e,t,i){return bs(!0),e[qe].createComment("")};function rm(n){return Za(function vd(){return je.lFrame.contextLView}(),ct+n)}function me(n,e,t){const i=se();return ir(i,ea(),e)&&Qr(vt(),tn(),i,n,e,i[qe],t,!1),me}function yI(n,e,t,i,r){const s=r?"class":"style";uI(n,t,e.inputs[s],s,i)}function U(n,e,t,i){const r=se(),o=vt(),s=ct+n,a=r[qe],l=o.firstCreatePass?function v8(n,e,t,i,r,o){const s=e.consts,l=Yd(e,n,2,i,ys(s,r));return sI(e,t,l,ys(s,o)),null!==l.attrs&&Ev(l,l.attrs,!1),null!==l.mergedAttrs&&Ev(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],u=Z1(o,r,l,a,e,n);r[s]=u;const h=ld(l);return Nr(l,!0),uP(a,u,l),32!=(32&l.flags)&&wd()&&iv(o,r,u,l),0===function ME(){return je.lFrame.elementDepthCount}()&&nr(u,r),function RE(){je.lFrame.elementDepthCount++}(),h&&(iI(o,r,l),nI(o,l,r)),null!==i&&rI(r,l),U}function j(){let n=Kn();fp()?Ac():(n=n.parent,Nr(n,!1));const e=n;(function PE(n){return je.skipHydrationRootTNode===n})(e)&&function kE(){je.skipHydrationRootTNode=null}(),function dp(){je.lFrame.elementDepthCount--}();const t=vt();return t.firstCreatePass&&(Ed(t,n),Ec(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Ry(n){return 0!=(8&n.flags)}(e)&&yI(t,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dd(n){return 0!=(16&n.flags)}(e)&&yI(t,e,se(),e.stylesWithoutHost,!1),j}function Ht(n,e,t,i){return U(n,e,t,i),j(),Ht}let Z1=(n,e,t,i,r,o)=>(bs(!0),ev(i,r,function Ty(){return je.lFrame.currentNamespace}()));function Ts(){return se()}function om(n){return!!n&&"function"==typeof n.then}function J1(n){return!!n&&"function"==typeof n.subscribe}function Re(n,e,t,i){const r=se(),o=vt(),s=Kn();return ek(o,r,r[qe],s,n,e,i),Re}function wI(n,e){const t=Kn(),i=se(),r=vt();return ek(r,i,w1(vp(r.data),t,i),t,n,e),wI}function ek(n,e,t,i,r,o,s){const a=ld(i),u=n.firstCreatePass&&b1(n),h=e[Nn],m=v1(e);let g=!0;if(3&i.type||s){const w=oi(i,e),C=s?s(w):w,k=m.length,M=s?ee=>s(zt(ee[i.index])):i.index;let V=null;if(!s&&a&&(V=function D8(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[ja],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,g=!1;else{o=nk(i,e,h,o,!1);const ee=t.listen(C,r,o);m.push(o,ee),u&&u.push(r,M,k,k+1)}}else o=nk(i,e,h,o,!1);const y=i.outputs;let b;if(g&&null!==y&&(b=y[r])){const w=b.length;if(w)for(let C=0;C<w;C+=2){const pe=e[b[C]][b[C+1]].subscribe(o),Ne=m.length;m.push(o,pe),u&&u.push(r,i.index,Ne,-(Ne+1))}}}function tk(n,e,t,i){try{return Io(6,e,t),!1!==t(i)}catch(r){return E1(n,r),!1}finally{Io(7,e,t)}}function nk(n,e,t,i,r){return function o(s){if(s===Function)return i;Yp(n.componentOffset>-1?wr(n.index,e):e);let l=tk(e,t,i,s),u=o.__ngNextListenerFn__;for(;u;)l=tk(e,t,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Qe(n=1){return function LE(n){return(je.lFrame.contextLView=function VE(n,e){for(;n>0;)e=e[Ha],n--;return e}(n,je.lFrame.contextLView))[Nn]}(n)}function x8(n,e){let t=null;const i=function qf(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?$f(n,o,!0):nd(i,o))return r}else t=r}return t}function Wo(n){const e=se()[bn][ri];if(!e.projection){const i=e.projection=Bc(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?x8(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function dn(n,e=0,t){const i=se(),r=vt(),o=Yd(r,ct+n,16,null,t||null);null===o.projection&&(o.projection=e),Ac(),(!i[Ho]||vs())&&32!=(32&o.flags)&&function T$(n,e,t){lP(e[qe],0,e,t,_C(n,t,e),nP(t.parent||e[ri],t,e))}(r,i,o)}function sm(n,e,t){return EI(n,"",e,"",t),sm}function EI(n,e,t,i,r){const o=se(),s=Qd(o,e,t,i);return s!==nt&&Qr(vt(),tn(),o,n,s,o[qe],r,!1),EI}function Mv(n,e){return n<<17|e<<2}function ul(n){return n>>17&32767}function CI(n){return 2|n}function qc(n){return(131068&n)>>2}function II(n,e){return-131069&n|e<<2}function DI(n){return 1|n}function dk(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?ul(o):qc(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];P8(n[a],e)&&(l=!0,n[a+1]=i?DI(h):CI(h)),a=i?ul(h):qc(h)}l&&(n[t+1]=i?CI(o):DI(o))}function P8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&rl(n,e)>=0}function sh(n,e,t){return Ko(n,e,t,!1),sh}function Cn(n,e){return Ko(n,e,null,!0),Cn}function Ko(n,e,t,i){const r=se(),o=vt(),s=Do(2);o.firstUpdatePass&&function vk(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Vi()],s=function yk(n,e){return e>=n.expandoStartIndex}(n,t);(function Ck(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function j8(n,e,t,i){const r=vp(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=am(t=xI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=xI(r,n,e,t,i),null===o){let l=function z8(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==qc(i))return n[ul(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=xI(null,n,e,l[1],i),l=am(l,e.attrs,i),function H8(n,e,t,i){n[ul(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function $8(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=am(i,n[o].hostAttrs,t);return am(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function M8(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ul(s),l=qc(s);n[i]=t;let h,u=!1;if(Array.isArray(t)?(h=t[1],(null===h||rl(t,h)>0)&&(u=!0)):h=t,r)if(0!==l){const g=ul(n[a+1]);n[i+1]=Mv(g,a),0!==g&&(n[g+1]=II(n[g+1],i)),n[a+1]=function A8(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Mv(a,0),0!==a&&(n[a+1]=II(n[a+1],i)),a=i;else n[i+1]=Mv(l,0),0===a?a=i:n[l+1]=II(n[l+1],i),l=i;u&&(n[i+1]=CI(n[i+1])),dk(n,h,i,!0),dk(n,h,i,!1),function R8(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&rl(o,e)>=0&&(t[i+1]=DI(t[i+1]))}(e,h,n,i,o),s=Mv(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==nt&&ir(r,s,e)&&function wk(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,u=l[a+1],h=function S8(n){return 1==(1&n)}(u)?Ek(l,e,t,r,qc(u),s):void 0;Rv(h)||(Rv(o)||function T8(n){return 2==(2&n)}(u)&&(o=Ek(l,null,t,r,a,s)),function S$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:sl.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=sl.Important),n.setStyle(t,i,r,o))}}(i,s,Ya(Vi(),t),r,o))}(o,o.data[Vi()],r,r[qe],n,r[s+1]=function K8(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=qt(al(n)))),n}(e,t),i,s)}function xI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=am(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function am(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Cr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Ek(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],u=Array.isArray(l),h=u?l[1]:l,m=null===h;let g=t[r+1];g===nt&&(g=m?xt:void 0);let y=m?Pp(g,i):h===i?g:void 0;if(u&&!Rv(y)&&(y=Pp(l,i)),Rv(y)&&(a=y,s))return a;const b=n[r+1];r=s?ul(b):qc(b)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Pp(l,i))}return a}function Rv(n){return void 0!==n}function fe(n,e=""){const t=se(),i=vt(),r=n+ct,o=i.firstCreatePass?Yd(i,r,1,e,null):i.data[r],s=Ik(i,t,o,e,n);t[r]=s,wd()&&iv(i,t,s,o),Nr(o,!1)}let Ik=(n,e,t,i,r)=>(bs(!0),function Jy(n,e){return n.createText(e)}(e[qe],i));function hn(n){return jn("",n,""),hn}function jn(n,e,t){const i=se(),r=Qd(i,n,e,t);return r!==nt&&ua(i,Vi(),r),jn}function Xr(n,e,t,i,r){const o=se(),s=Xd(o,n,e,t,i,r);return s!==nt&&ua(o,Vi(),s),Xr}function Gc(n,e,t){const i=se();return ir(i,ea(),e)&&Qr(vt(),tn(),i,n,e,i[qe],t,!0),Gc}function TI(n,e,t){const i=se();if(ir(i,ea(),e)){const o=vt(),s=tn();Qr(o,s,i,n,e,w1(vp(o.data),s,i),t,!0)}return TI}const Wc=void 0;var g6=["en",[["a","p"],["AM","PM"],Wc],[["AM","PM"],Wc,Wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wc,"{1} 'at' {0}",Wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function m6(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let ah={};function Ir(n){const e=function _6(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=zk(e);if(t)return t;const i=e.split("-")[0];if(t=zk(i),t)return t;if("en"===i)return g6;throw new F(701,!1)}function zk(n){return n in ah||(ah[n]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[n]),ah[n]}var fn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(fn||{});const lh="en-US";let Hk=lh;function MI(n,e,t,i,r){if(n=R(n),Array.isArray(n))for(let o=0;o<n.length;o++)MI(n[o],e,t,i,r);else{const o=vt(),s=se(),a=Kn();let l=Hc(n)?n:R(n.provide);const u=MP(n),h=1048575&a.providerIndexes,m=a.directiveStart,g=a.providerIndexes>>20;if(Hc(n)||!n.multi){const y=new Rc(u,r,x),b=PI(l,e,r?h:h+g,m);-1===b?(Fc(xd(a,s),o,l),RI(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{const y=PI(l,e,h+g,m),b=PI(l,e,h,h+g),C=b>=0&&t[b];if(r&&!C||!r&&!(y>=0&&t[y])){Fc(xd(a,s),o,l);const k=function m9(n,e,t,i,r){const o=new Rc(n,t,x);return o.multi=[],o.index=e,o.componentProviders=0,pO(o,r,i&&!t),o}(r?p9:f9,t.length,r,i,u);!r&&C&&(t[b].providerFactory=k),RI(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else RI(o,n,y>-1?y:b,pO(t[r?b:y],u,!r&&i));!r&&i&&C&&t[b].componentProviders++}}}function RI(n,e,t,i){const r=Hc(e),o=function s5(n){return!!n.useClass}(e);if(r||o){const l=(o?R(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=u.indexOf(t);-1===h?u.push(t,[i,l]):u[h+1].push(i,l)}else u.push(t,l)}}}function pO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function PI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function f9(n,e,t,i){return kI(this.multi,[])}function p9(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ia(t,t[we],this.providerFactory.index,i);o=a.slice(0,s),kI(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],kI(r,o);return o}function kI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ot(n,e=[]){return t=>{t.providersResolver=(i,r)=>function h9(n,e,t){const i=vt();if(i.firstCreatePass){const r=Eo(n);MI(t,i.data,i.blueprint,r,!0),MI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Kc{}class mO{}class OI extends Kc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new S1(this);const r=vr(e);this._bootstrapComponents=ca(r.bootstrap),this._r3Injector=zP(e,t,[{provide:Kc,useValue:this},{provide:qd,useValue:this.componentFactoryResolver},...i],qt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class NI extends mO{constructor(e){super(),this.moduleType=e}create(e){return new OI(this.moduleType,e,[])}}class gO extends Kc{constructor(e){super(),this.componentFactoryResolver=new S1(this),this.instance=null;const t=new jd([...e.providers,{provide:Kc,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],e.parent||uv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function FI(n,e,t=null){return new gO({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let y9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=xP(0,t.type),r=i.length>0?FI([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(O(Zr))})}return n})();function _O(n){n.getStandaloneInjector=e=>e.get(y9).getOrCreateStandaloneInjector(n)}function fm(n,e,t){const i=_i()+n,r=se();return r[i]===nt?xs(r,i,t?e.call(t):e()):function em(n,e){return n[e]}(r,i)}function pm(n,e){const t=n[e];return t===nt?void 0:t}function Nt(n,e){const t=vt();let i;const r=n+ct;t.firstCreatePass?(i=function F9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Co(i.type)),a=xi(x);try{const l=Oc(!1),u=o();return Oc(l),function y8(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,se(),r,u),u}finally{xi(a)}}function Bt(n,e,t){const i=n+ct,r=se(),o=Za(r,i);return mm(r,i)?function IO(n,e,t,i,r,o){const s=e+t;return ir(n,s,r)?xs(n,s+1,o?i.call(o,r):i(r)):pm(n,s+1)}(r,_i(),e,o.transform,t,o):o.transform(t)}function VI(n,e,t,i){const r=n+ct,o=se(),s=Za(o,r);return mm(o,r)?function DO(n,e,t,i,r,o,s){const a=e+t;return $c(n,a,r,o)?xs(n,a+2,s?i.call(s,r,o):i(r,o)):pm(n,a+2)}(o,_i(),e,s.transform,t,i,s):s.transform(t,i)}function mm(n,e){return n[we].data[e].pure}function U9(){return this._results[Symbol.iterator]()}class BI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Fe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=BI.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=U9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Er(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Vc(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function z9(n,e,t,i=!0){const r=e[we];if(function w$(n,e,t,i){const r=mi+i,o=t.length;i>0&&(t[r-1][Kr]=e),i<o-mi?(e[Kr]=t[r],Rd(t,mi+i,e)):(t.push(e),e[Kr]=null),e[Zt]=t;const s=e[vc];null!==s&&t!==s&&function E$(n,e){const t=n[qa];e[bn]!==e[Zt][Zt][bn]&&(n[Zf]=!0),null===t?n[qa]=[e]:t.push(e)}(s,e);const a=e[vo];null!==a&&a.insertView(n),e[et]|=128}(r,e,n,t),i){const o=vC(t,n),s=e[qe],a=nv(s,n[wo]);null!==a&&function y$(n,e,t,i,r,o){i[Mn]=r,i[ri]=e,jp(n,i,t,1,r,o)}(r,n[ri],s,e,a,o)}}let da=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=q9}return n})();const H9=da,$9=class extends H9{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function j9(n,e,t,i){const r=e.tView,a=bv(n,r,t,4096&n[et]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[vc]=n[e.index];const u=n[vo];return null!==u&&(a[vo]=u.createEmbeddedView(r)),dI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Xp(r)}};function q9(){return Fv(Kn(),se())}function Fv(n,e){return 4&n.type?new $9(e,n,Gd(n,e)):null}let Jr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Q9}return n})();function Q9(){return NO(Kn(),se())}const X9=Jr,kO=class extends X9{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Gd(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Td(this._hostTNode,this._hostLView);if(Tp(e)){const t=kc(e,this._hostLView),i=Pc(e);return new yi(t[we].data[i+8],t)}return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=OO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function vi(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const l=s?e:new Jp(yt(e)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const C=(s?u:this.parentInjector).get(Zr,null);C&&(o=C)}yt(l.componentType??{});const y=l.create(u,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function py(n){return tr(n[Zt])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=r[Zt],h=new kO(u,u[ri],u[Zt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return z9(a,r,s,!i),e.attachToViewContainerRef(),Rd(UI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=OO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=tv(this._lContainer,t);i&&(il(UI(this._lContainer),t),mC(i[we],i))}detach(e){const t=this._adjustIndex(e,-1),i=tv(this._lContainer,t);return i&&null!=il(UI(this._lContainer),t)?new Xp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function OO(n){return n[8]}function UI(n){return n[8]||(n[8]=[])}function NO(n,e){let t;const i=e[n.index];return tr(i)?t=i:(t=_1(i,e,null,n),e[n.index]=t,wv(e,t)),FO(t,e,n,i),new kO(t,n,e)}let FO=function LO(n,e,t,i){if(n[wo])return;let r;r=8&t.type?zt(i):function J9(n,e){const t=n[qe],i=t.createComment(""),r=oi(e,n);return zc(t,nv(t,r),i,function x$(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[wo]=r};class jI{constructor(e){this.queryList=e,this.matches=null}clone(){return new jI(this.queryList)}setDirty(){this.queryList.setDirty()}}class zI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new zI(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zO(e,t).matches&&this.queries[t].setDirty()}}class VO{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class HI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new HI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $I{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new $I(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,nG(t,o)),this.matchTNodeWithReadOption(e,t,Sd(t,e,o,!1,!1))}else i===da?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Sd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Tt||r===Jr||r===da&&4&t.type)this.addMatch(t.index,-2);else{const o=Sd(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function nG(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function rG(n,e,t,i){return-1===t?function iG(n,e){return 11&n.type?Gd(n,e):4&n.type?Fv(n,e):null}(e,n):-2===t?function oG(n,e,t){return t===Tt?Gd(e,n):t===da?Fv(e,n):t===Jr?NO(e,n):void 0}(n,e,i):ia(n,n[we],t,e)}function BO(n,e,t,i){const r=e[vo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:rG(e,o[u],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function qI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=BO(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],h=e[-l];for(let m=mi;m<h.length;m++){const g=h[m];g[vc]===g[Zt]&&qI(g[we],g,u,i)}if(null!==h[qa]){const m=h[qa];for(let g=0;g<m.length;g++){const y=m[g];qI(y[we],y,u,i)}}}}}return i}function nn(n){const e=se(),t=vt(),i=bd();bp(i+1);const r=zO(t,i);if(n.dirty&&function SE(n){return 4==(4&n[et])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?qI(t,e,i,[]):BO(t,e,r,i);n.reset(o,T5),n.notifyOnChanges()}return!0}return!1}function rr(n,e,t){const i=vt();i.firstCreatePass&&(jO(i,new VO(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),UO(i,se(),e)}function So(n,e,t,i){const r=vt();if(r.firstCreatePass){const o=Kn();jO(r,new VO(e,t,i),o.index),function aG(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}UO(r,se(),t)}function rn(){return function sG(n,e){return n[vo].queries[e].queryList}(se(),bd())}function UO(n,e,t){const i=new BI(4==(4&t));(function oq(n,e,t,i){const r=v1(e);r.push(t),n.firstCreatePass&&b1(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[vo]&&(e[vo]=new zI),e[vo].queries.push(new jI(i))}function jO(n,e,t){null===n.queries&&(n.queries=new HI),n.queries.track(new $I(e,t))}function zO(n,e){return n.queries.getByIndex(e)}function GI(n,e){return Fv(n,e)}const XI=new ie("Application Initializer");let JI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=he(XI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(om(o))t.push(o);else if(J1(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ms=new ie("LocaleId",{providedIn:"root",factory:()=>he(Ms,gt.Optional|gt.SkipSelf)||function AG(){return typeof $localize<"u"&&$localize.locale||lh}()});let Bv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class RG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sN=(()=>{class n{compileModuleSync(t){return new NI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=ca(vr(t).declarations).reduce((s,a)=>{const l=yt(a);return l&&s.push(new Jp(l)),s},[]);return new RG(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uN=new ie(""),jv=new ie("");let rD,nD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rD||(function JG(n){rD=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Be),O(iD),O(jv))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),iD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return rD?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),dl=null;const dN=new ie("AllowMultipleToken"),oD=new ie("PlatformDestroyListeners"),sD=new ie("appBootstrapListener");class fN{constructor(e,t){this.name=e,this.token=t}}function mN(n,e,t=[]){const i=`Platform: ${e}`,r=new ie(i);return(o=[])=>{let s=aD();if(!s||s.injector.get(dN,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function nW(n){if(dl&&!dl.get(dN,!1))throw new F(400,!1);(function hN(){!function Ka(n){ly=n}(()=>{throw new F(600,!1)})})(),dl=n;const e=n.get(_N);(function pN(n){n.get(RP,null)?.forEach(t=>t())})(n)}(function gN(n=[],e){return Ti.create({name:e,providers:[{provide:PC,useValue:"platform"},{provide:oD,useValue:new Set([()=>dl=null])},...n]})}(a,i))}return function rW(n){const e=aD();if(!e)throw new F(401,!1);return e}()}}function aD(){return dl?.get(_N)??null}let _N=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function oW(n="zone.js",e){return"noop"===n?new j5:"zone.js"===n?new Be(e):n}(i?.ngZone,function yN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function _9(n,e,t){return new OI(n,e,t)}(t.moduleType,this.injector,function CN(n){return[{provide:Be,useFactory:n},{provide:qp,multi:!0,useFactory:()=>{const e=he(aW,{optional:!0});return()=>e.initialize()}},{provide:EN,useFactory:sW},{provide:WP,useFactory:KP}]}(()=>r)),s=o.injector.get(la,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{zv(this._modules,o),a.unsubscribe()})}),function vN(n,e,t){try{const i=t();return om(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(JI);return a.runInitializers(),a.donePromise.then(()=>(function $k(n){Xi(n,"Expected localeId to be defined"),"string"==typeof n&&(Hk=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ms,lh)||lh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=bN({},i);return function eW(n,e,t){const i=new NI(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(hl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new F(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(oD,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ti))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function bN(n,e){return Array.isArray(e)?e.reduce(bN,n):{...n,...e}}let hl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(EN),this.zoneIsStable=he(WP),this.componentTypes=[],this.components=[],this.isStable=he(Bv).hasPendingTasks.pipe(pt(t=>t?q(!1):this.zoneIsStable),cn(),$e()),this._injector=he(Zr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof NP;if(!this._injector.get(JI).done)throw!r&&function hs(n){const e=yt(n)||Wn(n)||Li(n);return null!==e&&e.standalone}(t),new F(405,!1);let s;s=r?t:this._injector.get(qd).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function tW(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Kc),u=s.create(Ti.NULL,[],i||s.selector,a),h=u.location.nativeElement,m=u.injector.get(uN,null);return m?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),zv(this.components,u),m?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;zv(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(sD,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const EN=new ie("",{providedIn:"root",factory:()=>he(la).handleError.bind(void 0)});function sW(){const n=he(Be),e=he(la);return t=>n.runOutsideAngular(()=>e.handleError(t))}let aW=(()=>{class n{constructor(){this.zone=he(Be),this.applicationRef=he(hl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Br=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=cW}return n})();function cW(n){return function uW(n,e,t){if(Zs(n)&&!t){const i=wr(n.index,e);return new Xp(i,i)}return 47&n.type?new Xp(e[bn],e):null}(Kn(),se(),16==(16&n))}class AN{constructor(){}supports(e){return Dv(e)}create(e){return new gW(e)}}const mW=(n,e)=>e;class gW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<MN(i,r,o)?t:i,a=MN(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,h=l-r;if(u!=h){for(let g=0;g<u;g++){const y=g<o.length?o[g]:o[g]=0,b=y+g;h<=b&&b<u&&(o[g]=y+1)}o[s.previousIndex]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Dv(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Qq(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new _W(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new SN),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _W{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class SN{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new yW,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class RN{constructor(){}supports(e){return e instanceof Map||hI(e)}create(){return new vW}}class vW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||hI(e)))throw new F(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new bW(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class bW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PN(){return new qv([new AN])}let qv=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:PN});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||PN()),deps:[[n,new oa,new Is]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new F(901,!1)}}return n})();function kN(){return new ym([new RN])}let ym=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:kN});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||kN()),deps:[[n,new oa,new Is]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new F(901,!1)}}return n})();const CW=mN(null,"core",[]);let IW=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(O(hl))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})();function dh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let fD=null;function fl(){return fD}class VW{}const At=new ie("DocumentToken");let pD=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return he(UW)},providedIn:"platform"})}return n})();const BW=new ie("Location Initialized");let UW=(()=>{class n extends pD{constructor(){super(),this._doc=he(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fl().getBaseHref(this._doc)}onPopState(t){const i=fl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=fl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function mD(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ha(n){return n&&"?"!==n[0]?"?"+n:n}let Zc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return he($N)},providedIn:"root"})}return n})();const HN=new ie("appBaseHref");let $N=(()=>{class n extends Zc{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mD(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ha(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ha(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ha(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(pD),O(HN,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jW=(()=>{class n extends Zc{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=mD(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ha(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ha(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(pD),O(HN,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),Wv=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function $W(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(zN(qN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ha(i))}normalize(t){return n.stripTrailingSlash(function HW(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,qN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ha(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ha(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ha;static#t=this.joinWithSlash=mD;static#n=this.stripTrailingSlash=zN;static#i=this.\u0275fac=function(i){return new(i||n)(O(Zc))};static#r=this.\u0275prov=ue({token:n,factory:function(){return function zW(){return new Wv(O(Zc))}()},providedIn:"root"})}return n})();function qN(n){return n.replace(/\/index.html$/,"")}var xr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(xr||{}),on=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(on||{}),eo=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(eo||{}),Yn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Yn||{});function Yv(n,e){return Ro(Ir(n)[fn.DateFormat],e)}function Zv(n,e){return Ro(Ir(n)[fn.TimeFormat],e)}function Qv(n,e){return Ro(Ir(n)[fn.DateTimeFormat],e)}function Mo(n,e){const t=Ir(n),i=t[fn.NumberSymbols][e];if(typeof i>"u"){if(e===Yn.CurrencyDecimal)return t[fn.NumberSymbols][Yn.Decimal];if(e===Yn.CurrencyGroup)return t[fn.NumberSymbols][Yn.Group]}return i}function WN(n){if(!n[fn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[fn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ro(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function _D(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const r7=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vm={},o7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fa=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(fa||{}),Ut=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ut||{}),jt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(jt||{});function s7(n,e,t,i){let r=function m7(n){if(ZN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Xv(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(r7))return function g7(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,u),e}(i)}const e=new Date(n);if(!ZN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=pa(t,e)||e;let a,s=[];for(;e;){if(a=o7.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const h=s.pop();if(!h)break;e=h}}let l=r.getTimezoneOffset();i&&(l=YN(i,l),r=function p7(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function f7(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(YN(e,r)-r))}(r,i,!0));let u="";return s.forEach(h=>{const m=function h7(n){if(vD[n])return vD[n];let e;switch(n){case"G":case"GG":case"GGG":e=pn(jt.Eras,on.Abbreviated);break;case"GGGG":e=pn(jt.Eras,on.Wide);break;case"GGGGG":e=pn(jt.Eras,on.Narrow);break;case"y":e=si(Ut.FullYear,1,0,!1,!0);break;case"yy":e=si(Ut.FullYear,2,0,!0,!0);break;case"yyy":e=si(Ut.FullYear,3,0,!1,!0);break;case"yyyy":e=si(Ut.FullYear,4,0,!1,!0);break;case"Y":e=nb(1);break;case"YY":e=nb(2,!0);break;case"YYY":e=nb(3);break;case"YYYY":e=nb(4);break;case"M":case"L":e=si(Ut.Month,1,1);break;case"MM":case"LL":e=si(Ut.Month,2,1);break;case"MMM":e=pn(jt.Months,on.Abbreviated);break;case"MMMM":e=pn(jt.Months,on.Wide);break;case"MMMMM":e=pn(jt.Months,on.Narrow);break;case"LLL":e=pn(jt.Months,on.Abbreviated,xr.Standalone);break;case"LLLL":e=pn(jt.Months,on.Wide,xr.Standalone);break;case"LLLLL":e=pn(jt.Months,on.Narrow,xr.Standalone);break;case"w":e=yD(1);break;case"ww":e=yD(2);break;case"W":e=yD(1,!0);break;case"d":e=si(Ut.Date,1);break;case"dd":e=si(Ut.Date,2);break;case"c":case"cc":e=si(Ut.Day,1);break;case"ccc":e=pn(jt.Days,on.Abbreviated,xr.Standalone);break;case"cccc":e=pn(jt.Days,on.Wide,xr.Standalone);break;case"ccccc":e=pn(jt.Days,on.Narrow,xr.Standalone);break;case"cccccc":e=pn(jt.Days,on.Short,xr.Standalone);break;case"E":case"EE":case"EEE":e=pn(jt.Days,on.Abbreviated);break;case"EEEE":e=pn(jt.Days,on.Wide);break;case"EEEEE":e=pn(jt.Days,on.Narrow);break;case"EEEEEE":e=pn(jt.Days,on.Short);break;case"a":case"aa":case"aaa":e=pn(jt.DayPeriods,on.Abbreviated);break;case"aaaa":e=pn(jt.DayPeriods,on.Wide);break;case"aaaaa":e=pn(jt.DayPeriods,on.Narrow);break;case"b":case"bb":case"bbb":e=pn(jt.DayPeriods,on.Abbreviated,xr.Standalone,!0);break;case"bbbb":e=pn(jt.DayPeriods,on.Wide,xr.Standalone,!0);break;case"bbbbb":e=pn(jt.DayPeriods,on.Narrow,xr.Standalone,!0);break;case"B":case"BB":case"BBB":e=pn(jt.DayPeriods,on.Abbreviated,xr.Format,!0);break;case"BBBB":e=pn(jt.DayPeriods,on.Wide,xr.Format,!0);break;case"BBBBB":e=pn(jt.DayPeriods,on.Narrow,xr.Format,!0);break;case"h":e=si(Ut.Hours,1,-12);break;case"hh":e=si(Ut.Hours,2,-12);break;case"H":e=si(Ut.Hours,1);break;case"HH":e=si(Ut.Hours,2);break;case"m":e=si(Ut.Minutes,1);break;case"mm":e=si(Ut.Minutes,2);break;case"s":e=si(Ut.Seconds,1);break;case"ss":e=si(Ut.Seconds,2);break;case"S":e=si(Ut.FractionalSeconds,1);break;case"SS":e=si(Ut.FractionalSeconds,2);break;case"SSS":e=si(Ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=eb(fa.Short);break;case"ZZZZZ":e=eb(fa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=eb(fa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=eb(fa.Long);break;default:return null}return vD[n]=e,e}(h);u+=m?m(r,t,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Xv(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function pa(n,e){const t=function GW(n){return Ir(n)[fn.LocaleId]}(n);if(vm[t]=vm[t]||{},vm[t][e])return vm[t][e];let i="";switch(e){case"shortDate":i=Yv(n,eo.Short);break;case"mediumDate":i=Yv(n,eo.Medium);break;case"longDate":i=Yv(n,eo.Long);break;case"fullDate":i=Yv(n,eo.Full);break;case"shortTime":i=Zv(n,eo.Short);break;case"mediumTime":i=Zv(n,eo.Medium);break;case"longTime":i=Zv(n,eo.Long);break;case"fullTime":i=Zv(n,eo.Full);break;case"short":const r=pa(n,"shortTime"),o=pa(n,"shortDate");i=Jv(Qv(n,eo.Short),[r,o]);break;case"medium":const s=pa(n,"mediumTime"),a=pa(n,"mediumDate");i=Jv(Qv(n,eo.Medium),[s,a]);break;case"long":const l=pa(n,"longTime"),u=pa(n,"longDate");i=Jv(Qv(n,eo.Long),[l,u]);break;case"full":const h=pa(n,"fullTime"),m=pa(n,"fullDate");i=Jv(Qv(n,eo.Full),[h,m])}return i&&(vm[t][e]=i),i}function Jv(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Zo(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function si(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function l7(n,e){switch(n){case Ut.FullYear:return e.getFullYear();case Ut.Month:return e.getMonth();case Ut.Date:return e.getDate();case Ut.Hours:return e.getHours();case Ut.Minutes:return e.getMinutes();case Ut.Seconds:return e.getSeconds();case Ut.FractionalSeconds:return e.getMilliseconds();case Ut.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===Ut.Hours)0===a&&-12===t&&(a=12);else if(n===Ut.FractionalSeconds)return function a7(n,e){return Zo(n,3).substring(0,e)}(a,e);const l=Mo(s,Yn.MinusSign);return Zo(a,e,l,i,r)}}function pn(n,e,t=xr.Format,i=!1){return function(r,o){return function c7(n,e,t,i,r,o){switch(t){case jt.Months:return function YW(n,e,t){const i=Ir(n),o=Ro([i[fn.MonthsFormat],i[fn.MonthsStandalone]],e);return Ro(o,t)}(e,r,i)[n.getMonth()];case jt.Days:return function KW(n,e,t){const i=Ir(n),o=Ro([i[fn.DaysFormat],i[fn.DaysStandalone]],e);return Ro(o,t)}(e,r,i)[n.getDay()];case jt.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const u=function JW(n){const e=Ir(n);return WN(e),(e[fn.ExtraData][2]||[]).map(i=>"string"==typeof i?_D(i):[_D(i[0]),_D(i[1])])}(e),h=function e7(n,e,t){const i=Ir(n);WN(i);const o=Ro([i[fn.ExtraData][0],i[fn.ExtraData][1]],e)||[];return Ro(o,t)||[]}(e,r,i),m=u.findIndex(g=>{if(Array.isArray(g)){const[y,b]=g,w=s>=y.hours&&a>=y.minutes,C=s<b.hours||s===b.hours&&a<b.minutes;if(y.hours<b.hours){if(w&&C)return!0}else if(w||C)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(-1!==m)return h[m]}return function WW(n,e,t){const i=Ir(n),o=Ro([i[fn.DayPeriodsFormat],i[fn.DayPeriodsStandalone]],e);return Ro(o,t)}(e,r,i)[s<12?0:1];case jt.Eras:return function ZW(n,e){return Ro(Ir(n)[fn.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function eb(n){return function(e,t,i){const r=-1*i,o=Mo(t,Yn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case fa.Short:return(r>=0?"+":"")+Zo(s,2,o)+Zo(Math.abs(r%60),2,o);case fa.ShortGMT:return"GMT"+(r>=0?"+":"")+Zo(s,1,o);case fa.Long:return"GMT"+(r>=0?"+":"")+Zo(s,2,o)+":"+Zo(Math.abs(r%60),2,o);case fa.Extended:return 0===i?"Z":(r>=0?"+":"")+Zo(s,2,o)+":"+Zo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const u7=0,tb=4;function KN(n){return Xv(n.getFullYear(),n.getMonth(),n.getDate()+(tb-n.getDay()))}function yD(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=KN(t),s=function d7(n){const e=Xv(n,u7,1).getDay();return Xv(n,0,1+(e<=tb?tb:tb+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Zo(r,n,Mo(i,Yn.MinusSign))}}function nb(n,e=!1){return function(t,i){return Zo(KN(t).getFullYear(),n,Mo(i,Yn.MinusSign),e)}}const vD={};function YN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ZN(n){return n instanceof Date&&!isNaN(n.valueOf())}function eF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const DD=/\s+/,tF=[];let xD=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=tF,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(DD):tF}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(DD):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(DD).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(x(qv),x(ym),x(Tt),x(aa))};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class S7{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wm=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new S7(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),iF(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{iF(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(x(Jr),x(da),x(qv))};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function iF(n,e){n.context.$implicit=e.item}let Qc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new M7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(x(Jr),x(da))};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class M7{constructor(){this.$implicit=null,this.ngIf=null}}function rF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${qt(e)}'.`)}class TD{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Em=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),AD=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new TD(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(x(Jr),x(da),x(Em,9))};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),sF=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Jr))};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ln]})}return n})();function Qo(n,e){return new F(2100,!1)}class O7{createSubscription(e,t){return hd(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){hd(()=>e.unsubscribe())}}class N7{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const F7=new N7,L7=new O7;let aF=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(om(t))return F7;if(J1(t))return L7;throw Qo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(x(Br,16))};static#t=this.\u0275pipe=ii({name:"async",type:n,pure:!1,standalone:!0})}return n})();const H7=new ie("DATE_PIPE_DEFAULT_TIMEZONE"),$7=new ie("DATE_PIPE_DEFAULT_OPTIONS");let lF=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return s7(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Qo()}}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ms,16),x(H7,24),x($7,24))};static#t=this.\u0275pipe=ii({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Cm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})();const uF="browser";function rb(n){return"server"===n}let rK=(()=>{class n{static#e=this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new oK(O(At),window)})}return n})();class oK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function sK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class dF{}class SK extends VW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kD extends SK{static makeCurrent(){!function LW(n){fD||(fD=n)}(new kD)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function MK(){return Dm=Dm||document.querySelector("base"),Dm?Dm.getAttribute("href"):null}();return null==t?null:function RK(n){ab=ab||document.createElement("a"),ab.setAttribute("href",n);const e=ab.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eF(document.cookie,e)}}let ab,Dm=null,kK=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const OD=new ie("EventManagerPlugins");let gF=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(OD),O(Be))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class _F{constructor(e){this._doc=e}}const ND="ng-app-id";let yF=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rb(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ND}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(ND),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(ND,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(At),O(dv),O(FC,8),O(Go))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const FD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},LD=/%COMP%/g,LK=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function bF(n,e){return e.map(t=>t.replace(LD,n))}let VD=(()=>{class n{constructor(t,i,r,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=rb(a),this.defaultRenderer=new BD(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_r.ShadowDom&&(i={...i,encapsulation:_r.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof EF?r.applyToHost(t):r instanceof UD&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case _r.Emulated:o=new EF(l,u,i,this.appId,h,s,a,m);break;case _r.ShadowDom:return new jK(l,u,t,i,s,a,this.nonce,m);default:o=new UD(l,u,i,h,s,a,m)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(gF),O(yF),O(dv),O(LK),O(At),O(Go),O(Be),O(FC))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class BD{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(FD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(wF(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(wF(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new F(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=FD[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=FD[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(sl.DashCase|sl.Important)?e.style.setProperty(t,i,r&sl.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&sl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=fl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function wF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class jK extends BD{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=bF(r.id,r.styles);for(const h of u){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class UD extends BD{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?bF(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class EF extends UD{constructor(e,t,i,r,o,s,a,l){const u=r+"-"+i.id;super(e,t,i,o,s,a,l,u),this.contentAttr=function VK(n){return"_ngcontent-%COMP%".replace(LD,n)}(u),this.hostAttr=function BK(n){return"_nghost-%COMP%".replace(LD,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let zK=(()=>{class n extends _F{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const CF=["alt","control","meta","shift"],HK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$K={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qK=(()=>{class n extends _F{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fl().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),CF.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=HK[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),CF.forEach(s=>{s!==r&&(0,$K[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const DF=[{provide:Go,useValue:uF},{provide:RP,useValue:function GK(){kD.makeCurrent()},multi:!0},{provide:At,useFactory:function KK(){return function O$(n){EC=n}(document),document},deps:[]}],YK=mN(CW,"browser",DF),ZK=new ie(""),xF=[{provide:jv,useClass:class PK{addToWindow(e){Lt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new F(5103,!1);return o},Lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Lt.getAllAngularRootElements=()=>e.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(i=>{const r=Lt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?fl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uN,useClass:nD,deps:[Be,iD,jv]},{provide:nD,useClass:nD,deps:[Be,iD,jv]}],TF=[{provide:PC,useValue:"root"},{provide:la,useFactory:function WK(){return new la},deps:[]},{provide:OD,useClass:zK,multi:!0,deps:[At,Be,Go]},{provide:OD,useClass:qK,multi:!0,deps:[At]},VD,yF,gF,{provide:Kp,useExisting:VD},{provide:dF,useClass:kK,deps:[]},[]];let AF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:dv,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(ZK,12))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[...TF,...xF],imports:[Cm,IW]})}return n})(),SF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(At))};static#t=this.\u0275prov=ue({token:n,factory:function(i){let r=null;return r=i?new i:function XK(){return new SF(O(At))}(),r},providedIn:"root"})}return n})();function Xc(n,e){return E(e)?en(n,e,1):en(n,1)}function Ui(n,e){return W((t,i)=>{let r=0;t.subscribe(be(i,o=>n.call(e,o,r++)&&i.next(o)))})}function xm(n){return W((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}typeof window<"u"&&window;class lb{}class cb{}class Rs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Rs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Rs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class iY{encodeKey(e){return kF(e)}encodeValue(e){return kF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oY=/%(\d[a-f0-9])/gi,sY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kF(n){return encodeURIComponent(n).replace(oY,(e,t)=>sY[t]??e)}function ub(n){return`${n}`}class ml{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(ub):[ub(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ml({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ub(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ub(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class aY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function OF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function NF(n){return typeof Blob<"u"&&n instanceof Blob}function FF(n){return typeof FormData<"u"&&n instanceof FormData}class Tm{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function lY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Rs),this.context||(this.context=new aY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new ml,this.urlWithParams=t}serializeBody(){return null===this.body?null:OF(this.body)||NF(this.body)||FF(this.body)||function cY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ml?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FF(this.body)?null:NF(this.body)?this.body.type||null:OF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ml?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new Tm(t,i,o,{params:u,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var fh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(fh||{});class zD{constructor(e,t=200,i="OK"){this.headers=e.headers||new Rs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HD extends zD{constructor(e={}){super(e),this.type=fh.ResponseHeader}clone(e={}){return new HD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ph extends zD{constructor(e={}){super(e),this.type=fh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ph({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class LF extends zD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $D(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let VF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Tm)o=t;else{let l,u;l=r.headers instanceof Rs?r.headers:new Rs(r.headers),r.params&&(u=r.params instanceof ml?r.params:new ml({fromObject:r.params})),o=new Tm(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=q(o).pipe(Xc(l=>this.handler.handle(l)));if(t instanceof Tm||"events"===r.observe)return s;const a=s.pipe(Ui(l=>l instanceof ph));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ce(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ce(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ce(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ce(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ml).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,$D(r,i))}post(t,i,r={}){return this.request("POST",t,$D(r,i))}put(t,i,r={}){return this.request("PUT",t,$D(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(lb))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function jF(n,e){return e(n)}function dY(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const fY=new ie(""),Am=new ie(""),zF=new ie("");function pY(){let n=null;return(e,t)=>{null===n&&(n=(he(fY,{optional:!0})??[]).reduceRight(dY,jF));const i=he(Bv),r=i.add();return n(e,t).pipe(xm(()=>i.remove(r)))}}let HF=(()=>{class n extends lb{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=he(Bv)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Am),...this.injector.get(zF,[])]));this.chain=r.reduceRight((o,s)=>function hY(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),jF)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(xm(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(cb),O(Zr))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const yY=/^\)\]\}',?\n/;let qF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new F(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?S(i.\u0275loadImpl()):q(null)).pipe(pt(()=>new ot(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,C)=>s.setRequestHeader(w,C.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const w=s.statusText||"OK",C=new Rs(s.getAllResponseHeaders()),k=function vY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new HD({headers:C,status:s.status,statusText:w,url:k}),l},h=()=>{let{headers:w,status:C,statusText:k,url:M}=u(),V=null;204!==C&&(V=typeof s.response>"u"?s.responseText:s.response),0===C&&(C=V?200:0);let ee=C>=200&&C<300;if("json"===t.responseType&&"string"==typeof V){const pe=V;V=V.replace(yY,"");try{V=""!==V?JSON.parse(V):null}catch(Ne){V=pe,ee&&(ee=!1,V={error:Ne,text:V})}}ee?(o.next(new ph({body:V,headers:w,status:C,statusText:k,url:M||void 0})),o.complete()):o.error(new LF({error:V,headers:w,status:C,statusText:k,url:M||void 0}))},m=w=>{const{url:C}=u(),k=new LF({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(k)};let g=!1;const y=w=>{g||(o.next(u()),g=!0);let C={type:fh.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),"text"===t.responseType&&s.responseText&&(C.partialText=s.responseText),o.next(C)},b=w=>{let C={type:fh.UploadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),o.next(C)};return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:fh.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(dF))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const qD=new ie("XSRF_ENABLED"),GF=new ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),WF=new ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class KF{}let EY=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=eF(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(At),O(Go),O(GF))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function CY(n,e){const t=n.url.toLowerCase();if(!he(qD)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=he(KF).getToken(),r=he(WF);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var gl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gl||{});function IY(...n){const e=[VF,qF,HF,{provide:lb,useExisting:HF},{provide:cb,useExisting:qF},{provide:Am,useValue:CY,multi:!0},{provide:qD,useValue:!0},{provide:KF,useClass:EY}];for(const t of n)e.push(...t.\u0275providers);return function SC(n){return{\u0275providers:n}}(e)}const YF=new ie("LEGACY_INTERCEPTOR_FN");function DY(){return function Jc(n,e){return{\u0275kind:n,\u0275providers:e}}(gl.LegacyInterceptors,[{provide:YF,useFactory:pY},{provide:Am,useExisting:YF,multi:!0}])}let xY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[IY(DY())]})}return n})();function _l(n){return!!n&&(n instanceof ot||E(n.lift)&&E(n.subscribe))}const{isArray:PY}=Array,{getPrototypeOf:kY,prototype:OY,keys:NY}=Object;function ZF(n){if(1===n.length){const e=n[0];if(PY(e))return{args:e,keys:null};if(function FY(n){return n&&"object"==typeof n&&kY(n)===OY}(e)){const t=NY(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:LY}=Array;function GD(n){return Ce(e=>function VY(n,e){return LY(e)?n(...e):n(e)}(n,e))}function QF(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function hb(...n){const e=ss(n),t=Oa(n),{args:i,keys:r}=ZF(n);if(0===i.length)return S([],e);const o=new ot(function BY(n,e,t=Gn){return i=>{XF(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)XF(e,()=>{const u=S(n[l],e);let h=!1;u.subscribe(be(i,m=>{o[l]=m,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>QF(r,s):Gn));return t?o.pipe(GD(t)):o}function XF(n,e,t){n?Di(t,n,e):e()}const Sm=ze(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function mh(...n){return function UY(){return Gr(1)}()(S(n,ss(n)))}function fb(n){return new ot(e=>{On(n()).subscribe(e)})}function Mm(n,e){const t=E(n)?n:()=>n,i=r=>r.error(t());return new ot(e?r=>e.schedule(i,0,r):i)}function WD(){return W((n,e)=>{let t=null;n._refCount++;const i=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class JF extends ot{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oe(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;const t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return WD()(this)}}function or(n){return n<=0?()=>ti:W((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function yl(...n){const e=ss(n);return W((t,i)=>{(e?mh(n,t,e):mh(n,t)).subscribe(i)})}function pb(n){return W((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function eL(n=jY){return W((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function jY(){return new Sm}function vl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ui((r,o)=>n(r,o,i)):Gn,or(1),t?pb(e):eL(()=>new Sm))}function ji(n,e,t){const i=E(n)||e||t?{next:n,error:e,complete:t}:n;return i?W((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(be(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):Gn}function eu(n){return W((e,t)=>{let o,i=null,r=!1;i=e.subscribe(be(t,void 0,void 0,s=>{o=On(n(s,eu(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function mb(n,e){return W(function zY(n,e,t,i,r){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(be(s,h=>{const m=u++;l=a?n(l,h,m):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}function KD(n){return n<=0?()=>ti:W((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function bl(n){return W((e,t)=>{On(n).subscribe(be(t,()=>t.complete(),Me)),!t.closed&&e.subscribe(t)})}const at="primary",Rm=Symbol("RouteTitle");class qY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gh(n){return new qY(n)}function GY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ps(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!tL(n[r],e[r]))return!1;return!0}function tL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function nL(n){return n.length>0?n[n.length-1]:null}function wl(n){return _l(n)?n:om(n)?S(Promise.resolve(n)):q(n)}const KY={exact:function oL(n,e,t){if(!tu(n.segments,e.segments)||!gb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!oL(n.children[i],e.children[i],t))return!1;return!0},subset:sL},iL={exact:function YY(n,e){return Ps(n,e)},subset:function ZY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tL(n[t],e[t]))},ignored:()=>!0};function rL(n,e,t){return KY[t.paths](n.root,e.root,t.matrixParams)&&iL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sL(n,e,t){return aL(n,e,e.segments,t)}function aL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!tu(r,t)||e.hasChildren()||!gb(r,t,i))}if(n.segments.length===t.length){if(!tu(n.segments,t)||!gb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!sL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(tu(n.segments,r)&&gb(n.segments,r,i)&&n.children[at])&&aL(n.children[at],e,o,i)}}function gb(n,e,t){return e.every((i,r)=>iL[t](n[r].parameters,i.parameters))}class _h{constructor(e=new Gt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gh(this.queryParams)),this._queryParamMap}toString(){return JY.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _b(this)}}class Pm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gh(this.parameters)),this._parameterMap}toString(){return uL(this)}}function tu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let km=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return new YD},providedIn:"root"})}return n})();class YD{parse(e){const t=new uZ(e);return new _h(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Om(e.root,!0)}`,i=function nZ(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${yb(t)}=${yb(r)}`).join("&"):`${yb(t)}=${yb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function eZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const JY=new YD;function _b(n){return n.segments.map(e=>uL(e)).join("/")}function Om(n,e){if(!n.hasChildren())return _b(n);if(e){const t=n.children[at]?Om(n.children[at],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==at&&i.push(`${r}:${Om(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function XY(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===at&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==at&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===at?[Om(n.children[at],!1)]:[`${r}:${Om(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[at]?`${_b(n)}/${t[0]}`:`${_b(n)}/(${t.join("//")})`}}function lL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yb(n){return lL(n).replace(/%3B/gi,";")}function ZD(n){return lL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vb(n){return decodeURIComponent(n)}function cL(n){return vb(n.replace(/\+/g,"%20"))}function uL(n){return`${ZD(n.path)}${function tZ(n){return Object.keys(n).map(e=>`;${ZD(e)}=${ZD(n[e])}`).join("")}(n.parameters)}`}const iZ=/^[^\/()?;#]+/;function QD(n){const e=n.match(iZ);return e?e[0]:""}const rZ=/^[^\/()?;=#]+/,sZ=/^[^=?&#]+/,lZ=/^[^&#]+/;class uZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[at]=new Gt(e,t)),i}parseSegment(){const e=QD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Pm(vb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function oZ(n){const e=n.match(rZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=QD(this.remaining);r&&(i=r,this.capture(i))}e[vb(t)]=vb(i)}parseQueryParam(e){const t=function aZ(n){const e=n.match(sZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function cZ(n){const e=n.match(lZ);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=cL(t),o=cL(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=QD(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new F(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=at);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[at]:new Gt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function dL(n){return n.segments.length>0?new Gt([],{[at]:n}):n}function hL(n){const e={};for(const i of Object.keys(n.children)){const o=hL(n.children[i]);if(i===at&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function dZ(n){if(1===n.numberOfChildren&&n.children[at]){const e=n.children[at];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}function nu(n){return n instanceof _h}function fL(n){let e;const r=dL(function t(o){const s={};for(const l of o.children){const u=t(l);s[l.outlet]=u}const a=new Gt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function pL(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return XD(r,r,r,t,i);const o=function fZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new gL(t,e,i)}(e);if(o.toRoot())return XD(r,r,new Gt([],{}),t,i);const s=function pZ(n,e,t){if(n.isAbsolute)return new wb(e,!0,0);if(!t)return new wb(e,!1,NaN);if(null===t.parent)return new wb(t,!0,0);const i=bb(n.commands[0])?0:1;return function mZ(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new F(4005,!1);r=i.segments.length}return new wb(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Fm(s.segmentGroup,s.index,o.commands):_L(s.segmentGroup,s.index,o.commands);return XD(r,s.segmentGroup,a,t,i)}function bb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nm(n){return"object"==typeof n&&null!=n&&n.outlets}function XD(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:mL(n,e,t);const a=dL(hL(s));return new _h(a,o,r)}function mL(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:mL(o,e,t)}),new Gt(n.segments,i)}class gL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&bb(i[0]))throw new F(4003,!1);const r=i.find(Nm);if(r&&r!==nL(i))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _L(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return Fm(n,e,t);const i=function _Z(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Nm(a))break;const l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!vL(l,u,s))return o;i+=2}else{if(!vL(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Gt(n.segments.slice(0,i.pathIndex),{});return o.children[at]=new Gt(n.segments.slice(i.pathIndex),n.children),Fm(o,0,r)}return i.match&&0===r.length?new Gt(n.segments,{}):i.match&&!n.hasChildren()?JD(n,e,t):i.match?Fm(n,0,r):JD(n,e,t)}function Fm(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const i=function gZ(n){return Nm(n[0])?n[0].outlets:{[at]:n}}(t),r={};if(Object.keys(i).some(o=>o!==at)&&n.children[at]&&1===n.numberOfChildren&&0===n.children[at].segments.length){const o=Fm(n.children[at],e,t);return new Gt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=_L(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Gt(n.segments,r)}}function JD(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Nm(o)){const l=yZ(o.outlets);return new Gt(i,l)}if(0===r&&bb(t[0])){i.push(new Pm(n.segments[e].path,yL(t[0]))),r++;continue}const s=Nm(o)?o.outlets[at]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&bb(a)?(i.push(new Pm(s,yL(a))),r+=2):(i.push(new Pm(s,{})),r++)}return new Gt(i,{})}function yZ(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=JD(new Gt([],{}),0,i))}),e}function yL(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function vL(n,e,t){return n==t.path&&Ps(e,t.parameters)}const Lm="imperative";class ks{constructor(e,t){this.id=e,this.url=t}}class Eb extends ks{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class El extends ks{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vm extends ks{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yh extends ks{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Cb extends ks{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bL extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vZ extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bZ extends ks{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wZ extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EZ extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ex{}class tx{constructor(e){this.url=e}}class SZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bm,this.attachRef=null}}let Bm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new SZ,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class EL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nx(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=nx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ix(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ix(e,this._root).map(t=>t.value)}}function nx(n,e){if(n===e.value)return e;for(const t of e.children){const i=nx(n,t);if(i)return i}return null}function ix(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ix(n,t);if(i.length)return i.unshift(e),i}return[]}class ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CL extends EL{constructor(e,t){super(e),this.snapshot=t,rx(this,e)}toString(){return this.snapshot.toString()}}function IL(n,e){const t=function MZ(n,e){const s=new Ib([],{},{},"",{},at,e,null,{});return new xL("",new ma(s,[]))}(0,e),i=new N([new Pm("",{})]),r=new N({}),o=new N({}),s=new N({}),a=new N(""),l=new iu(i,r,s,a,o,at,e,t.root);return l.snapshot=t.root,new CL(new ma(l,[]),t)}class iu{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ce(u=>u[Rm]))??q(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>gh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>gh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DL(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function RZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Ib{get title(){return this.data?.[Rm]}constructor(e,t,i,r,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xL extends EL{constructor(e,t){super(t),this.url=e,rx(this,t)}toString(){return TL(this._root)}}function rx(n,e){e.value._routerState=n,e.children.forEach(t=>rx(n,t))}function TL(n){const e=n.children.length>0?` { ${n.children.map(TL).join(", ")} } `:"";return`${n.value}${e}`}function ox(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ps(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ps(e.params,t.params)||n.paramsSubject.next(t.params),function WY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ps(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function sx(n,e){const t=Ps(n.params,e.params)&&function QY(n,e){return tu(n,e)&&n.every((t,i)=>Ps(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sx(n.parent,e.parent))}let ax=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=he(Bm),this.location=he(Jr),this.changeDetector=he(Br),this.environmentInjector=he(Zr),this.inputBinder=he(Db,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new PZ(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ln]})}return n})();class PZ{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===iu?this.route:e===Bm?this.childContexts:this.parent.get(e,t)}}const Db=new ie("");let AL=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=hb([i.queryParams,i.params,i.data]).pipe(pt(([o,s,a],l)=>(a={...o,...s,...a},0===l?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function FW(n){const e=yt(n);if(!e)return null;const t=new Jp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Um(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function OZ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Um(n,i,r);return Um(n,i)})}(n,e,t);return new ma(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Um(n,a)),s}}const i=function NZ(n){return new iu(new N(n.url),new N(n.params),new N(n.queryParams),new N(n.fragment),new N(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Um(n,o));return new ma(i,r)}}const lx="ngNavigationCancelingError";function SL(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=nu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ML(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function ML(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[lx]=!0,i.cancellationCode=e,t&&(i.url=t),i}function RL(n){return n&&n[lx]}let PL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Vt({type:n,selectors:[["ng-component"]],standalone:!0,features:[_O],decls:1,vars:0,template:function(i,r){1&i&&Ht(0,"router-outlet")},dependencies:[ax],encapsulation:2})}return n})();function cx(n){const e=n.children&&n.children.map(cx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==at&&(t.component=PL),t}function Xo(n){return n.outlet||at}function jm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class HZ{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ox(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=vh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=vh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=vh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=vh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new AZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xZ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(ox(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ox(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=jm(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class kL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xb{constructor(e,t){this.component=e,this.route=t}}function $Z(n,e,t){const i=n._root;return zm(i,e?e._root:null,t,[i.value])}function bh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function uE(n){return null!==ac(n)}(n)?e.get(n):n:i}function zm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=vh(e);return n.children.forEach(s=>{(function GZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function WZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tu(n.url,e.url)||!Ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sx(n,e)||!Ps(n.queryParams,e.queryParams);default:return!sx(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new kL(i)):(o.data=s.data,o._resolvedData=s._resolvedData),zm(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new xb(a.outlet.component,s))}else s&&Hm(e,a,r),r.canActivateChecks.push(new kL(i)),zm(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Hm(a,t.getContext(s),r)),r}function Hm(n,e,t){const i=vh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Hm(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new xb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function $m(n){return"function"==typeof n}function OL(n){return n instanceof Sm||"EmptyError"===n?.name}const Tb=Symbol("INITIAL_VALUE");function wh(){return pt(n=>hb(n.map(e=>e.pipe(or(1),yl(Tb)))).pipe(Ce(e=>{for(const t of e)if(!0!==t){if(t===Tb)return Tb;if(!1===t||t instanceof _h)return t}return!0}),Ui(e=>e!==Tb),or(1)))}function NL(n){return function uo(...n){return ho(n)}(ji(e=>{if(nu(e))throw SL(0,e)}),Ce(e=>!0===e))}class Ab{constructor(e){this.segmentGroup=e||null}}class FL{constructor(e){this.urlTree=e}}function Eh(n){return Mm(new Ab(n))}function LL(n){return Mm(new FL(n))}class fQ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new F(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return q(i);if(r.numberOfChildren>1||!r.children[at])return Mm(new F(4e3,!1));r=r.children[at]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new _h(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Gt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new F(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const ux={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pQ(n,e,t,i,r){const o=dx(n,e,t);return o.matched?(i=function LZ(n,e){return n.providers&&!n._injector&&(n._injector=FI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function uQ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?q(r.map(s=>{const a=bh(s,n);return wl(function JZ(n){return n&&$m(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(wh(),NL()):q(!0)}(i,e,t).pipe(Ce(s=>!0===s?o:{...ux}))):q(o)}function dx(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ux}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||GY)(t,n,e);if(!r)return{...ux};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function VL(n,e,t,i){return t.length>0&&function _Q(n,e,t){return t.some(i=>Sb(n,e,i)&&Xo(i)!==at)}(n,t,i)?{segmentGroup:new Gt(e,gQ(i,new Gt(t,n.children))),slicedSegments:[]}:0===t.length&&function yQ(n,e,t){return t.some(i=>Sb(n,e,i))}(n,t,i)?{segmentGroup:new Gt(n.segments,mQ(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Gt(n.segments,n.children),slicedSegments:t}}function mQ(n,e,t,i,r){const o={};for(const s of i)if(Sb(n,t,s)&&!r[Xo(s)]){const a=new Gt([],{});o[Xo(s)]=a}return{...r,...o}}function gQ(n,e){const t={};t[at]=e;for(const i of n)if(""===i.path&&Xo(i)!==at){const r=new Gt([],{});t[Xo(i)]=r}return t}function Sb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class EQ{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new fQ(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,!1)}recognize(){const e=VL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,at).pipe(eu(t=>{if(t instanceof FL)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ab?this.noMatchError(t):t}),Ce(t=>{const i=new Ib([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,{}),r=new ma(i,t),o=new xL("",r),s=function hZ(n,e,t=null,i=null){return pL(fL(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,at).pipe(eu(i=>{throw i instanceof Ab?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=DL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return S(r).pipe(Xc(o=>{const s=i.children[o],a=function jZ(n,e){const t=n.filter(i=>Xo(i)===e);return t.push(...n.filter(i=>Xo(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),mb((o,s)=>(o.push(...s),o)),pb(null),function HY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ui((r,o)=>n(r,o,i)):Gn,KD(1),t?pb(e):eL(()=>new Sm))}(),en(o=>{if(null===o)return Eh(i);const s=BL(o);return function CQ(n){n.sort((e,t)=>e.value.outlet===at?-1:t.value.outlet===at?1:e.value.outlet.localeCompare(t.value.outlet))}(s),q(s)}))}processSegment(e,t,i,r,o,s){return S(t).pipe(Xc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(eu(l=>{if(l instanceof Ab)return q(null);throw l}))),vl(a=>!!a),eu(a=>{if(OL(a))return function bQ(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?q([]):Eh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function vQ(n,e,t,i){return!!(Xo(n)===i||i!==at&&Sb(e,t,n))&&("**"===n.path||dx(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Eh(r):Eh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?LL(o):this.applyRedirects.lineralizeSegments(i,o).pipe(en(s=>{const a=new Gt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:h}=dx(t,r,o);if(!a)return Eh(t);const m=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?LL(m):this.applyRedirects.lineralizeSegments(r,m).pipe(en(g=>this.processSegment(e,i,t,g.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?nL(r).parameters:{};a=q({snapshot:new Ib(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UL(i),Xo(i),i.component??i._loadedComponent??null,i,jL(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=pQ(t,i,r,e).pipe(Ce(({matched:l,consumedSegments:u,remainingSegments:h,parameters:m})=>l?{snapshot:new Ib(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UL(i),Xo(i),i.component??i._loadedComponent??null,i,jL(i)),consumedSegments:u,remainingSegments:h}:null));return a.pipe(pt(l=>null===l?Eh(t):this.getChildConfig(e=i._injector??e,i,r).pipe(pt(({routes:u})=>{const h=i._loadedInjector??e,{snapshot:m,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:b,slicedSegments:w}=VL(t,g,y,u);if(0===w.length&&b.hasChildren())return this.processChildren(h,u,b).pipe(Ce(k=>null===k?null:[new ma(m,k)]));if(0===u.length&&0===w.length)return q([new ma(m,[])]);const C=Xo(i)===o;return this.processSegment(h,u,b,w,C?at:o,!0).pipe(Ce(k=>[new ma(m,k)]))}))))}getChildConfig(e,t,i){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function cQ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?q(!0):q(r.map(s=>{const a=bh(s,n);return wl(function YZ(n){return n&&$m(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(wh(),NL())}(e,t,i).pipe(en(r=>r?this.configLoader.loadChildren(e,t).pipe(ji(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function hQ(n){return Mm(ML(!1,3))}())):q({routes:[],injector:e})}}function IQ(n){const e=n.value.routeConfig;return e&&""===e.path}function BL(n){const e=[],t=new Set;for(const i of n){if(!IQ(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=BL(i.children);e.push(new ma(i.value,r))}return e.filter(i=>!t.has(i))}function UL(n){return n.data||{}}function jL(n){return n.resolve||{}}function zL(n){return"string"==typeof n.title||null===n.title}function hx(n){return pt(e=>{const t=n(e);return t?S(t).pipe(Ce(()=>e)):q(e)})}const Ch=new ie("ROUTES");let fx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(sN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=wl(t.loadComponent()).pipe(Ce(HL),ji(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),xm(()=>{this.componentLoaders.delete(t)})),r=new JF(i,()=>new z).pipe(WD());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function RQ(n,e,t,i){return wl(n.loadChildren()).pipe(Ce(HL),en(r=>r instanceof mO||Array.isArray(r)?q(r):S(e.compileModuleAsync(r))),Ce(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Ch,[],{optional:!0,self:!0}).flat()),{routes:s.map(cx),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(xm(()=>{this.childrenLoaders.delete(i)})),s=new JF(o,()=>new z).pipe(WD());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HL(n){return function PQ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Mb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=he(fx),this.environmentInjector=he(Zr),this.urlSerializer=he(km),this.rootContexts=he(Bm),this.inputBindingEnabled=null!==he(Db,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new IZ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new CZ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new N({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lm,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ui(o=>0!==o.id),Ce(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),pt(o=>{this.currentTransition=o;let s=!1,a=!1;return q(o).pipe(ji(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pt(l=>{const u=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new yh(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),ti}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(pt(g=>{const y=this.transitions?.getValue();return this.events.next(new Eb(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?ti:Promise.resolve(g)}),function DQ(n,e,t,i,r,o){return en(s=>function wQ(n,e,t,i,r,o,s="emptyOnly"){return new EQ(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Ce(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ji(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new bL(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:b,restoredState:w,extras:C}=l,k=new Eb(g,this.urlSerializer.serialize(y),b,w);this.events.next(k);const M=IL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:M,urlAfterRedirects:y,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},q(o)}{const g="";return this.events.next(new yh(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),ti}}),ji(l=>{const u=new vZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ce(l=>(this.currentTransition=o={...l,guards:$Z(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function tQ(n,e){return en(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?q({...t,guardsResult:!0}):function nQ(n,e,t,i){return S(n).pipe(en(r=>function lQ(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const l=jm(e)??r,u=bh(a,l);return wl(function XZ(n){return n&&$m(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,i):l.runInContext(()=>u(n,e,t,i))).pipe(vl())})).pipe(wh()):q(!0)}(r.component,r.route,t,e,i)),vl(r=>!0!==r,!0))}(s,i,r,n).pipe(en(a=>a&&function KZ(n){return"boolean"==typeof n}(a)?function iQ(n,e,t,i){return S(e).pipe(Xc(r=>mh(function oQ(n,e){return null!==n&&e&&e(new DZ(n)),q(!0)}(r.route.parent,i),function rQ(n,e){return null!==n&&e&&e(new TZ(n)),q(!0)}(r.route,i),function aQ(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function qZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>fb(()=>q(s.guards.map(l=>{const u=jm(s.node)??t,h=bh(l,u);return wl(function QZ(n){return n&&$m(n.canActivateChild)}(h)?h.canActivateChild(i,n):u.runInContext(()=>h(i,n))).pipe(vl())})).pipe(wh())));return q(o).pipe(wh())}(n,r.path,t),function sQ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return q(!0);const r=i.map(o=>fb(()=>{const s=jm(e)??t,a=bh(o,s);return wl(function ZZ(n){return n&&$m(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(vl())}));return q(r).pipe(wh())}(n,r.route,t))),vl(r=>!0!==r,!0))}(i,o,n,e):q(a)),Ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ji(l=>{if(o.guardsResult=l.guardsResult,nu(l.guardsResult))throw SL(0,l.guardsResult);const u=new bZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ui(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),hx(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(ji(u=>{const h=new wZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),pt(u=>{let h=!1;return q(u).pipe(function xQ(n,e){return en(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return q(t);let o=0;return S(r).pipe(Xc(s=>function TQ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!zL(r)&&(o[Rm]=r.title),function AQ(n,e,t,i){const r=function SQ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return q({});const o={};return S(r).pipe(en(s=>function MQ(n,e,t,i){const r=jm(e)??i,o=bh(n,r);return wl(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(vl(),ji(a=>{o[s]=a}))),KD(1),function $Y(n){return Ce(()=>n)}(o),eu(s=>OL(s)?ti:Mm(s)))}(o,n,e,i).pipe(Ce(s=>(n._resolvedData=s,n.data=DL(n,t).resolve,r&&zL(r)&&(n.data[Rm]=r.title),null)))}(s.route,i,n,e)),ji(()=>o++),KD(1),en(s=>o===r.length?q(t):ti))})}(t.paramsInheritanceStrategy,this.environmentInjector),ji({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",2)}}))}),ji(u=>{const h=new EZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),hx(l=>{const u=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(ji(g=>{h.component=g}),Ce(()=>{})));for(const g of h.children)m.push(...u(g));return m};return hb(u(l.targetSnapshot.root)).pipe(pb(),or(1))}),hx(()=>this.afterPreactivation()),Ce(l=>{const u=function kZ(n,e,t){const i=Um(n,e._root,t?t._root:void 0);return new CL(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),ji(()=>{this.events.next(new ex)}),((n,e,t,i)=>Ce(r=>(new HZ(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),or(1),ji({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new El(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),bl(this.transitionAbortSubject.pipe(ji(l=>{throw l}))),xm(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),eu(l=>{if(a=!0,RL(l))this.events.next(new Vm(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function FZ(n){return RL(n)&&nu(n.url)}(l)?this.events.next(new tx(l.url)):o.resolve(!1);else{this.events.next(new Cb(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(u){o.reject(u)}}return ti}))}))}cancelNavigationTransition(t,i,r){const o=new Vm(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $L(n){return n!==Lm}let qL=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===at);return i}getResolvedTitleForRoute(t){return t.data[Rm]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return he(kQ)},providedIn:"root"})}return n})(),kQ=(()=>{class n extends qL{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(SF))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return he(FQ)},providedIn:"root"})}return n})();class NQ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let FQ=(()=>{class n extends NQ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rb=new ie("",{providedIn:"root",factory:()=>({})});let LQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:function(){return he(VQ)},providedIn:"root"})}return n})(),VQ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qm||{});function GL(n,e){n.events.pipe(Ui(t=>t instanceof El||t instanceof Vm||t instanceof Cb||t instanceof yh),Ce(t=>t instanceof El||t instanceof yh?qm.COMPLETE:t instanceof Vm&&(0===t.code||1===t.code)?qm.REDIRECTING:qm.FAILED),Ui(t=>t!==qm.REDIRECTING),or(1)).subscribe(()=>{e()})}function BQ(n){throw n}function UQ(n,e,t){return e.parse("/")}const jQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ur=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(oN),this.isNgZoneEnabled=!1,this._events=new z,this.options=he(Rb,{optional:!0})||{},this.pendingTasks=he(Bv),this.errorHandler=this.options.errorHandler||BQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(LQ),this.routeReuseStrategy=he(OQ),this.titleStrategy=he(qL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=he(Ch,{optional:!0})?.flat()??[],this.navigationTransitions=he(Mb),this.urlSerializer=he(km),this.location=he(Wv),this.componentInputBindingEnabled=!!he(Db,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=he(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _h,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(WL(i)&&this._events.next(i));if(i instanceof Eb)$L(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof yh)this.rawUrlTree=r.rawUrl;else if(i instanceof bL){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof ex)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Vm)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof tx){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$L(r.source)};this.scheduleNavigation(o,Lm,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Cb&&this.restoreHistory(r,!0),i instanceof El&&(this.navigated=!0),WL(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s;let m,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{m=fL(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return pL(m,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=nu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Lm,null,i)}navigate(t,i={skipLocationChange:!1}){return function HQ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new F(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...jQ}:!1===i?{...zQ}:i,nu(t))return rL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return rL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((m,g)=>{a=m,l=g});const h=this.pendingTasks.add();return GL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WL(n){return!(n instanceof ex||n instanceof tx)}let Pb=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof El&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function CP(n,e,t){return function n5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?EP:wP}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ur),x(iu),Ja("tabindex"),x(aa),x(Tt),x(Zc))};static#t=this.\u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Re("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Qt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",dh],skipLocationChange:["skipLocationChange","skipLocationChange",dh],replaceUrl:["replaceUrl","replaceUrl",dh],routerLink:"routerLink"},standalone:!0,features:[N1,Ln]})}return n})();class KL{}let GQ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof El),Xc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=FI(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return S(r).pipe(Gr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):q(null);const o=r.pipe(en(s=>null===s?q(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?S([o,this.loader.loadComponent(i)]).pipe(Gr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ur),O(sN),O(Zr),O(KL),O(fx))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const px=new ie("");let YL=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Eb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof El?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof yh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){vv()};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function ga(n,e){return{\u0275kind:n,\u0275providers:e}}function QL(){const n=he(Ti);return e=>{const t=n.get(hl);if(e!==t.components[0])return;const i=n.get(Ur),r=n.get(XL);1===n.get(mx)&&i.initialNavigation(),n.get(JL,null,gt.Optional)?.setUpPreloading(),n.get(px,null,gt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const XL=new ie("",{factory:()=>new z}),mx=new ie("",{providedIn:"root",factory:()=>1}),JL=new ie("");function ZQ(n){return ga(0,[{provide:JL,useExisting:GQ},{provide:KL,useExisting:n}])}const eV=new ie("ROUTER_FORROOT_GUARD"),XQ=[Wv,{provide:km,useClass:YD},Ur,Bm,{provide:iu,useFactory:function ZL(n){return n.routerState.root},deps:[Ur]},fx,[]];function JQ(){return new fN("Router",Ur)}let tV=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[XQ,[],{provide:Ch,multi:!0,useValue:t},{provide:eV,useFactory:iX,deps:[[Ur,new Is,new oa]]},{provide:Rb,useValue:i||{}},i?.useHash?{provide:Zc,useClass:jW}:{provide:Zc,useClass:$N},{provide:px,useFactory:()=>{const n=he(rK),e=he(Be),t=he(Rb),i=he(Mb),r=he(km);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YL(r,i,n,e,t)}},i?.preloadingStrategy?ZQ(i.preloadingStrategy).\u0275providers:[],{provide:fN,multi:!0,useFactory:JQ},i?.initialNavigation?rX(i):[],i?.bindToComponentInputs?ga(8,[AL,{provide:Db,useExisting:AL}]).\u0275providers:[],[{provide:nV,useFactory:QL},{provide:sD,multi:!0,useExisting:nV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ch,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(eV,8))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})();function iX(n){return"guarded"}function rX(n){return["disabled"===n.initialNavigation?ga(3,[{provide:XI,multi:!0,useFactory:()=>{const e=he(Ur);return()=>{e.setUpLocationChangeListener()}}},{provide:mx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ga(2,[{provide:mx,useValue:0},{provide:XI,multi:!0,deps:[Ti],useFactory:e=>{const t=e.get(BW,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ur),o=e.get(XL);GL(r,()=>{i(!0)}),e.get(Mb).afterPreactivation=()=>(i(!0),o.closed?q(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const nV=new ie("");var te=Je(861);Je(230);var Ih=Je(534);(0,Ih.registerVersion)("firebase","10.7.1","app");class cX extends We{constructor(e,t){super()}schedule(e,t=0){return this}}const kb={setInterval(n,e,...t){const{delegate:i}=kb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=kb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Ob extends cX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return kb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&kb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,He(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const gx={now:()=>(gx.delegate||Date).now(),delegate:void 0};class Gm{constructor(e,t=Gm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Gm.now=gx.now;class Nb extends Gm{constructor(e,t=Gm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const hX=new class dX extends Nb{}(class uX extends Ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Wm=new Nb(Ob),fX=Wm,_x=new cl("ANGULARFIRE2_VERSION");class iV{constructor(){return((n,e)=>{const t=(0,Ih.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(mX)}}const mX="app-check";function Dh(){}class rV{zone;delegate;constructor(e,t=hX){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class gX{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dh,{},Dh,Dh)),t.pipe(ji({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oV=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new rV(Zone.current)),this.insideAngular=t.run(()=>new rV(Zone.current,Wm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(Be))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function to(n){return function yX(n){return function(t){return(t=t.lift(new gX(n.ngZone))).pipe(Qi(n.outsideAngular),Fi(n.insideAngular))}}(function xh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Cl=Je(106);Cl.Z.registerVersion("firebase","10.7.1","app-compat");const EX=["ngOnDestroy"];class sV{constructor(e){return e}}const Fb=new ie("angularfire2.app.options"),Lb=new ie("angularfire2.app.name");function yx(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Cl.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Cl.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;DX("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new sV(s)}const DX=(n,...e)=>{},xX={provide:sV,useFactory:yx,deps:[Fb,Be,[new Is,Lb]]};let TX=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Fb,useValue:t},{provide:Lb,useValue:i}]}}constructor(t){Cl.Z.registerVersion("angularfire",_x.full,"core"),Cl.Z.registerVersion("angularfire",_x.full,"app-compat"),Cl.Z.registerVersion("angular",LP.full,t.toString())}static \u0275fac=function(i){return new(i||n)(O(Go))};static \u0275mod=It({type:n});static \u0275inj=Ct({providers:[xX]})}return n})();function aV(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function AX(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(lV("error",`${e} was already initialized on the ${t} Firebase App with different settings.${SX?" You may need to reload as Firebase is not HMR aware.":""}`),lV("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const SX=typeof module<"u"&&!!module.hot,lV=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class MX extends z{constructor(e=1/0,t=1/0,i=gx){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function Km(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,$e({connector:()=>new MX(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function cV(n,e){return E(e)?pt(()=>n,e):pt(()=>n)}const uV=new ie("angularfire2.auth.use-emulator"),dV=new ie("angularfire2.auth.settings"),hV=new ie("angularfire2.auth.tenant-id"),fV=new ie("angularfire2.auth.langugage-code"),pV=new ie("angularfire2.auth.use-device-language"),mV=new ie("angularfire.auth.persistence"),gV=(n,e,t,i,r,o,s,a)=>aV(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))l.settings[u]=h;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]);let vx=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,u,h,m,g,y){const b=new z,w=q(void 0).pipe(Fi(s.outsideAngular),pt(()=>o.runOutsideAngular(()=>Promise.resolve().then(Je.bind(Je,230)))),Ce(()=>yx(t,o,i)),Ce(C=>gV(C,o,a,u,h,m,l,g)),Km({bufferSize:1,refCount:!1}));if(rb(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=q(null);else{w.pipe(vl()).subscribe();const C=w.pipe(pt(V=>V.getRedirectResult().then(ee=>ee,()=>null)),to,Km({bufferSize:1,refCount:!1})),k=w.pipe(pt(V=>new ot(ee=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(pe=>ee.next(pe),pe=>ee.error(pe),()=>ee.complete()))})))),M=w.pipe(pt(V=>new ot(ee=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(pe=>ee.next(pe),pe=>ee.error(pe),()=>ee.complete()))}))));this.authState=C.pipe(cV(k),Qi(s.outsideAngular),Fi(s.insideAngular)),this.user=C.pipe(cV(M),Qi(s.outsideAngular),Fi(s.insideAngular)),this.idToken=this.user.pipe(pt(V=>V?S(V.getIdToken()):q(null))),this.idTokenResult=this.user.pipe(pt(V=>V?S(V.getIdTokenResult()):q(null))),this.credential=Q(C,b,this.authState.pipe(Ui(V=>!V))).pipe(Ce(V=>V?.user?V:null),Qi(s.outsideAngular),Fi(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(EX.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(u=>t.run(()=>u)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,u)=>s.then(h=>{const m=h?.(...u);return i?.spy?.apply&&i.spy.apply(o,u,m),m})})})}))(this,w,o,{spy:{apply:(C,k,M)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&M.then(V=>b.next(V))}}})}static \u0275fac=function(i){return new(i||n)(O(Fb),O(Lb,8),O(Go),O(Be),O(oV),O(uV,8),O(dV,8),O(hV,8),O(fV,8),O(pV,8),O(mV,8),O(iV,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function bx(){return W((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var Ee,_V=Je(537),Os=Je(879),sn=Je(58),PX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jo={},wx=wx||{},tt=PX||self;function Vb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ym(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ex="closure_uid_"+(1e9*Math.random()>>>0),OX=0;function NX(n,e,t){return n.call.apply(n.bind,arguments)}function FX(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function sr(n,e,t){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NX:FX).apply(null,arguments)}function Bb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ai(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Il(){this.s=this.s,this.o=this.o}Il.prototype.s=!1,Il.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kX(n){Object.prototype.hasOwnProperty.call(n,Ex)&&n[Ex]||(n[Ex]=++OX)}(this)},Il.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Cx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function vV(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Vb(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function ar(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};var VX=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};tt.addEventListener("test",t,e),tt.removeEventListener("test",t,e)}catch{}return n}();function Zm(n){return/^[\s\xa0]*$/.test(n)}function Ub(){var n=tt.navigator;return n&&(n=n.userAgent)?n:""}function Ns(n){return-1!=Ub().indexOf(n)}function Ix(n){return Ix[" "](n),n}Ix[" "]=function(){};var xx,n,UX=Ns("Opera"),Th=Ns("Trident")||Ns("MSIE"),bV=Ns("Edge"),Dx=bV||Th,wV=Ns("Gecko")&&!(-1!=Ub().toLowerCase().indexOf("webkit")&&!Ns("Edge"))&&!(Ns("Trident")||Ns("MSIE"))&&!Ns("Edge"),jX=-1!=Ub().toLowerCase().indexOf("webkit")&&!Ns("Edge");function EV(){var n=tt.document;return n?n.documentMode:void 0}e:{var Tx="",Ax=(n=Ub(),wV?/rv:([^\);]+)(\)|;)/.exec(n):bV?/Edge\/([\d\.]+)/.exec(n):Th?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jX?/WebKit\/(\S+)/.exec(n):UX?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ax&&(Tx=Ax?Ax[1]:""),Th){var Sx=EV();if(null!=Sx&&Sx>parseFloat(Tx)){xx=String(Sx);break e}}xx=Tx}var zX=tt.document&&Th&&(EV()||parseInt(xx,10))||void 0;function Qm(n,e){if(ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wV){e:{try{Ix(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HX[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qm.$.h.call(this)}}Ai(Qm,ar);var HX={2:"touch",3:"pen",4:"mouse"};Qm.prototype.h=function(){Qm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xm="closure_listenable_"+(1e6*Math.random()|0),$X=0;function qX(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++$X,this.fa=this.ia=!1}function jb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Rx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function IV(n){const e={};for(const t in n)e[t]=n[t];return e}const DV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<DV.length;o++)t=DV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function zb(n){this.src=n,this.g={},this.h=0}function Px(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=yV(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(jb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function kx(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}zb.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=kx(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new qX(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Ox="closure_lm_"+(1e6*Math.random()|0),Nx={};function TV(n,e,t,i,r){if(i&&i.once)return SV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)TV(n,e[o],t,i,r);return null}return t=Bx(t),n&&n[Xm]?n.O(e,t,Ym(i)?!!i.capture:!!i,r):AV(n,e,t,!1,i,r)}function AV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Ym(r)?!!r.capture:!!r,a=Lx(n);if(a||(n[Ox]=a=new zb(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function WX(){const e=KX;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)VX||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(RV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function SV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)SV(n,e[o],t,i,r);return null}return t=Bx(t),n&&n[Xm]?n.P(e,t,Ym(i)?!!i.capture:!!i,r):AV(n,e,t,!0,i,r)}function MV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)MV(n,e[o],t,i,r);else i=Ym(i)?!!i.capture:!!i,t=Bx(t),n&&n[Xm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=kx(o=n.g[e],t,i,r))&&(jb(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Lx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=kx(e,t,i,r)),(t=-1<n?e[n]:null)&&Fx(t))}function Fx(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Xm])Px(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(RV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Lx(e))?(Px(t,n),0==t.h&&(t.src=null,e[Ox]=null)):jb(n)}}}function RV(n){return n in Nx?Nx[n]:Nx[n]="on"+n}function KX(n,e){if(n.fa)n=!0;else{e=new Qm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Fx(n),n=t.call(i,e)}return n}function Lx(n){return(n=n[Ox])instanceof zb?n:null}var Vx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bx(n){return"function"==typeof n?n:(n[Vx]||(n[Vx]=function(e){return n.handleEvent(e)}),n[Vx])}function Si(){Il.call(this),this.i=new zb(this),this.S=this,this.J=null}function zi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ar(e,n);else if(e instanceof ar)e.target=e.target||n;else{var r=e;xV(e=new ar(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Hb(s,i,!0,e)&&r}if(r=Hb(s=e.g=n,i,!0,e)&&r,r=Hb(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Hb(s=e.g=t[o],i,!1,e)&&r}function Hb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&Px(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Ai(Si,Il),Si.prototype[Xm]=!0,Si.prototype.removeEventListener=function(n,e,t,i){MV(this,n,e,t,i)},Si.prototype.N=function(){if(Si.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)jb(t[i]);delete n.g[e],n.h--}}this.J=null},Si.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Si.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ux=tt.JSON.stringify;function ZX(){var n=jx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var PV=new class YX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new XX,n=>n.reset());class XX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function eJ(n){tt.setTimeout(()=>{throw n},0)}let Jm,eg=!1,jx=new class QX{constructor(){this.h=this.g=null}add(e,t){const i=PV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},kV=()=>{const n=tt.Promise.resolve(void 0);Jm=()=>{n.then(tJ)}};var tJ=()=>{for(var n;n=ZX();){try{n.h.call(n.g)}catch(t){eJ(t)}var e=PV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}eg=!1};function $b(n,e){Si.call(this),this.h=n||1,this.g=e||tt,this.j=sr(this.qb,this),this.l=Date.now()}function zx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Hx(n,e,t){if("function"==typeof n)t&&(n=sr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sr(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function OV(n){n.g=Hx(()=>{n.g=null,n.i&&(n.i=!1,OV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ai($b,Si),(Ee=$b.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zi(this,"tick"),this.ga&&(zx(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){$b.$.N.call(this),zx(this),delete this.g};class nJ extends Il{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OV(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tg(n){Il.call(this),this.h=n,this.g={}}Ai(tg,Il);var NV=[];function FV(n,e,t,i){Array.isArray(t)||(t&&(NV[0]=t.toString()),t=NV);for(var r=0;r<t.length;r++){var o=TV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function LV(n){Rx(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fx(e)},n),n.g={}}function qb(){this.g=!0}function Ah(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sJ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Ux(t)}catch{return e}}(n,t)+(i?" "+i:"")})}tg.prototype.N=function(){tg.$.N.call(this),LV(this)},tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qb.prototype.Ea=function(){this.g=!1},qb.prototype.info=function(){};var ou={},VV=null;function Gb(){return VV=VV||new Si}function BV(n){ar.call(this,ou.Ta,n)}function ng(n){const e=Gb();zi(e,new BV(e))}function UV(n,e){ar.call(this,ou.STAT_EVENT,n),this.stat=e}function Tr(n){const e=Gb();zi(e,new UV(e,n))}function jV(n,e){ar.call(this,ou.Ua,n),this.size=e}function ig(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}ou.Ta="serverreachability",Ai(BV,ar),ou.STAT_EVENT="statevent",Ai(UV,ar),ou.Ua="timingevent",Ai(jV,ar);var Wb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $x(){}function $V(){}$x.prototype.h=null;var Wx,rg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qx(){ar.call(this,"d")}function Gx(){ar.call(this,"c")}function Kb(){}function og(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new tg(this),this.P=aJ,this.V=new $b(n=Dx?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qV}function qV(){this.i=null,this.g="",this.h=!1}Ai(qx,ar),Ai(Gx,ar),Ai(Kb,$x),Kb.prototype.g=function(){return new XMLHttpRequest},Kb.prototype.i=function(){return{}},Wx=new Kb;var aJ=45e3,GV={},Kx={};function Yx(n,e,t){n.L=1,n.A=Xb(_a(e)),n.u=t,n.S=!0,WV(n,null)}function WV(n,e){n.G=Date.now(),sg(n),n.B=_a(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),r2(t.i,"t",i),n.o=0,t=n.l.J,n.h=new qV,n.g=A2(n.l,t?e:null,!n.u),0<n.O&&(n.M=new nJ(sr(n.Pa,n,n.g),n.O)),FV(n.U,n.g,"readystatechange",n.nb),e=n.I?IV(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),ng(),function iJ(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var m=h.split("_");s=2<=m.length&&"type"==m[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function KV(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function YV(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=lJ(n,t),r==Kx){4==e&&(n.s=4,Tr(14),i=!1),Ah(n.j,n.m,null,"[Incomplete Response]");break}if(r==GV){n.s=4,Tr(15),Ah(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ah(n.j,n.m,r,null),Zx(n,r)}KV(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Tr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),iT(e),e.M=!0,Tr(11))):(Ah(n.j,n.m,t,"[Invalid Chunked Response]"),su(n),ag(n))}function lJ(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?Kx:(t=Number(e.substring(t,i)),isNaN(t)?GV:(i+=1)+t>e.length?Kx:(e=e.slice(i,i+t),n.o=i+t,e))}function sg(n){n.Y=Date.now()+n.P,ZV(n,n.P)}function ZV(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=ig(sr(n.lb,n),e)}function Yb(n){n.C&&(tt.clearTimeout(n.C),n.C=null)}function ag(n){0==n.l.H||n.J||I2(n.l,n)}function su(n){Yb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,zx(n.V),LV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Zx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Qx(t.i,n)))if(!n.K&&Qx(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;o0(t),n0(t)}nT(t),Tr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=ig(sr(t.ib,t),6e3));if(1>=a2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lu(t,11)}else if((n.K||t.g==n)&&o0(t),!Zm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const h=u[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const m=u[4];null!=m&&(t.Ga=m,t.l.info("SVER="+t.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const y=n.g;if(y){const b=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Xx(o,o.h),o.h=null))}if(i.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,In(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=T2(i,i.J?i.pa:null,i.Y),s.K){l2(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(Yb(a),sg(a)),i.g=s}else E2(i);0<t.j.length&&r0(t)}else"stop"!=u[0]&&"close"!=u[0]||lu(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?lu(t,7):tT(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}ng()}catch{}}function QV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Vb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uJ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Vb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function cJ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Vb(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(Ee=og.prototype).setTimeout=function(n){this.P=n},Ee.nb=function(n){n=n.target;const e=this.M;e&&3==Fs(n)?e.l():this.Pa(n)},Ee.Pa=function(n){try{if(n==this.g)e:{const h=Fs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||Dx||this.g&&(this.h.h||this.g.ja()||g2(this.g)))){this.J||4!=h||7==e||ng(),Yb(this);var t=this.g.da();this.ca=t;t:if(KV(this)){var i=g2(this.g);n="";var r=i.length,o=4==Fs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){su(this),ag(this);var s="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function rJ(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zm(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.s=3,Tr(12),su(this),ag(this);break e}Ah(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zx(this,t)}this.S?(YV(this,h,s),Dx&&this.i&&3==h&&(FV(this.U,this.V,"tick",this.mb),this.V.start())):(Ah(this.j,this.m,s,null),Zx(this,s)),4==h&&su(this),this.i&&!this.J&&(4==h?I2(this.l,this):(this.i=!1,sg(this)))}else(function AJ(n){const e={};n=(n.g&&2<=Fs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Zm(n[i]))continue;var t=JX(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function GX(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),su(this),ag(this)}}}catch{}},Ee.mb=function(){if(this.g){var n=Fs(this.g),e=this.g.ja();this.o<e.length&&(Yb(this),YV(this,n,e),this.i&&4!=n&&sg(this))}},Ee.cancel=function(){this.J=!0,su(this)},Ee.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function oJ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ng(),Tr(17)),su(this),this.s=2,ag(this)):ZV(this,this.Y-n)};var XV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function au(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof au){this.h=n.h,Zb(this,n.j),this.s=n.s,this.g=n.g,Qb(this,n.m),this.l=n.l;var e=n.i,t=new ug;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),JV(this,t),this.o=n.o}else n&&(e=String(n).match(XV))?(this.h=!1,Zb(this,e[1]||"",!0),this.s=lg(e[2]||""),this.g=lg(e[3]||"",!0),Qb(this,e[4]),this.l=lg(e[5]||"",!0),JV(this,e[6]||"",!0),this.o=lg(e[7]||"")):(this.h=!1,this.i=new ug(null,this.h))}function _a(n){return new au(n)}function Zb(n,e,t){n.j=t?lg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Qb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function JV(n,e,t){e instanceof ug?(n.i=e,function _J(n,e){e&&!n.j&&(Dl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(t2(this,i),r2(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=cg(e,mJ)),n.i=new ug(e,n.h))}function In(n,e,t){n.i.set(e,t)}function Xb(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}au.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cg(e,e2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cg(e,e2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(cg(t,"/"==t.charAt(0)?pJ:fJ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cg(t,gJ)),n.join("")};var e2=/[#\/\?@]/g,fJ=/[#\?:]/g,pJ=/[#\?]/g,mJ=/[#\?@]/g,gJ=/#/g;function ug(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Dl(n){n.g||(n.g=new Map,n.h=0,n.i&&function dJ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function t2(n,e){Dl(n),e=Sh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function n2(n,e){return Dl(n),e=Sh(n,e),n.g.has(e)}function r2(n,e,t){t2(n,e),0<t.length&&(n.i=null,n.g.set(Sh(n,e),Cx(t)),n.h+=t.length)}function Sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function o2(n){this.l=n||vJ,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=ug.prototype).add=function(n,e){Dl(this),this.i=null,n=Sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(n,e){Dl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Ee.ta=function(){Dl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},Ee.Z=function(n){Dl(this);let e=[];if("string"==typeof n)n2(this,n)&&(e=e.concat(this.g.get(Sh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ee.set=function(n,e){return Dl(this),this.i=null,n2(this,n=Sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ee.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var vJ=10;function s2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function a2(n){return n.h?1:n.g?n.g.size:0}function Qx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xx(n,e){n.g?n.g.add(e):n.h=e}function l2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function c2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Cx(n.i)}o2.prototype.cancel=function(){if(this.i=c2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var bJ=class{stringify(n){return tt.JSON.stringify(n,void 0)}parse(n){return tt.JSON.parse(n,void 0)}};function wJ(){this.g=new bJ}function EJ(n,e,t){const i=t||"";try{QV(n,function(r,o){let s=r;Ym(r)&&(s=Ux(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Jb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function dg(n){this.l=n.ec||null,this.j=n.ob||!1}function e0(n,e){Si.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Jx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ai(dg,$x),dg.prototype.g=function(){return new e0(this.l,this.j)},dg.prototype.i=function(n){return function(){return n}}({}),Ai(e0,Si);var Jx=0;function u2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fg(n)}function fg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ee=e0.prototype).open=function(n,e){if(this.readyState!=Jx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fg(this)},Ee.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hg(this)),this.readyState=Jx},Ee.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fg(this)),this.g&&(this.readyState=3,fg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;u2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hg(this):fg(this),3==this.readyState&&u2(this)}},Ee.Za=function(n){this.g&&(this.response=this.responseText=n,hg(this))},Ee.Ya=function(n){this.g&&(this.response=n,hg(this))},Ee.ka=function(){this.g&&hg(this)},Ee.setRequestHeader=function(n,e){this.v.append(n,e)},Ee.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(e0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var IJ=tt.JSON.parse;function Hn(n){Si.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=d2,this.L=this.M=!1}Ai(Hn,Si);var d2="",DJ=/^https?$/i,xJ=["POST","PUT"];function h2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,f2(n),t0(n)}function f2(n){n.F||(n.F=!0,zi(n,"complete"),zi(n,"error"))}function p2(n){if(n.h&&typeof wx<"u"&&(!n.C[1]||4!=Fs(n)||2!=n.da()))if(n.v&&4==Fs(n))Hx(n.La,0,n);else if(zi(n,"readystatechange"),4==Fs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(XV)[1]||null;!r&&tt.self&&tt.self.location&&(r=tt.self.location.protocol.slice(0,-1)),i=!DJ.test(r?r.toLowerCase():"")}t=i}if(t)zi(n,"complete"),zi(n,"success");else{n.m=6;try{var o=2<Fs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",f2(n)}}finally{t0(n)}}}function t0(n,e){if(n.g){m2(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||zi(n,"ready");try{t.onreadystatechange=i}catch{}}}function m2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function Fs(n){return n.g?n.g.readyState:0}function g2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case d2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _2(n){let e="";return Rx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function eT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=_2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function pg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function y2(n){this.Ga=0,this.j=[],this.l=new qb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pg("baseRetryDelayMs",5e3,n),this.hb=pg("retryDelaySeedMs",1e4,n),this.eb=pg("forwardChannelMaxRetries",2,n),this.xa=pg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new o2(n&&n.concurrentRequestLimit),this.Ja=new wJ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tT(n){if(v2(n),3==n.H){var e=n.W++,t=_a(n.I);if(In(t,"SID",n.K),In(t,"RID",e),In(t,"TYPE","terminate"),mg(n,t),(e=new og(n,n.l,e)).L=2,e.A=Xb(_a(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.A,t=!0),t||(e.g=A2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),sg(e)}x2(n)}function n0(n){n.g&&(iT(n),n.g.cancel(),n.g=null)}function v2(n){n0(n),n.u&&(tt.clearTimeout(n.u),n.u=null),o0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function r0(n){if(!s2(n.i)&&!n.m){n.m=!0;var e=n.Na;Jm||kV(),eg||(Jm(),eg=!0),jx.add(e,n),n.C=0}}function b2(n,e){var t;t=e?e.m:n.W++;const i=_a(n.I);In(i,"SID",n.K),In(i,"RID",t),In(i,"AID",n.V),mg(n,i),n.o&&n.s&&eT(i,n.o,n.s),t=new og(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=w2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Xx(n.i,t),Yx(t,i,e)}function mg(n,e){n.na&&Rx(n.na,function(t,i){In(e,i,t)}),n.h&&QV({},function(t,i){In(e,i,t)})}function w2(n,e,t){t=Math.min(n.j.length,t);var i=n.h?sr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let u=r[l].g;const h=r[l].map;if(u-=o,0>u)o=Math.max(0,r[l].g-100),a=!1;else try{EJ(h,s,"req"+u+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function E2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Jm||kV(),eg||(Jm(),eg=!0),jx.add(e,n),n.A=0}}function nT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ig(sr(n.Ma,n),D2(n,n.A)),n.A++,0))}function iT(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function C2(n){n.g=new og(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_a(n.wa);In(e,"RID","rpc"),In(e,"SID",n.K),In(e,"AID",n.V),In(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&In(e,"TO",n.qa),In(e,"TYPE","xmlhttp"),mg(n,e),n.o&&n.s&&eT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Xb(_a(e)),t.u=null,t.S=!0,WV(t,n)}function o0(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function I2(n,e){var t=null;if(n.g==e){o0(n),iT(n),n.g=null;var i=2}else{if(!Qx(n.i,e))return;t=e.F,l2(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;zi(i=Gb(),new jV(i,t)),r0(n)}else E2(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function SJ(n,e){return!(a2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ig(sr(n.Na,n,e),D2(n,n.C)),n.C++,0)))}(n,e)||2==i&&nT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:lu(n,5);break;case 4:lu(n,10);break;case 3:lu(n,6);break;default:lu(n,2)}}function D2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=sr(n.pb,n);t||(t=new au("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Zb(t,"https"),Xb(t)),function CJ(n,e){const t=new qb;if(tt.Image){const i=new Image;i.onload=Bb(Jb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Bb(Jb,t,i,"TestLoadImage: error",!1,e),i.onabort=Bb(Jb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Bb(Jb,t,i,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Tr(2);n.H=0,n.h&&n.h.za(e),x2(n),v2(n)}function x2(n){if(n.H=0,n.ma=[],n.h){const e=c2(n.i);(0!=e.length||0!=n.j.length)&&(vV(n.ma,e),vV(n.ma,n.j),n.i.i.length=0,Cx(n.j),n.j.length=0),n.h.ya()}}function T2(n,e,t){var i=t instanceof au?_a(t):new au(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Qb(i,i.m);else{var r=tt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new au(null);i&&Zb(o,i),e&&(o.g=e),r&&Qb(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&In(i,t,e),In(i,"VER",n.ra),mg(n,i),i}function A2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(n.Ha&&!n.va?new dg({ob:t}):n.va)).Oa(n.J),e}function S2(){}function s0(){if(Th&&!(10<=Number(zX)))throw Error("Environmental error: no available transport.")}function no(n,e){Si.call(this),this.g=new y2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Zm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mh(this)}function M2(n){qx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function R2(){Gx.call(this),this.status=1}function Mh(n){this.g=n}function es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rT(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Wt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(Ee=Hn.prototype).Oa=function(n){this.M=n},Ee.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wx.g(),this.C=function HV(n){return n.h||(n.h=n.i())}(this.u?this.u:Wx),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void h2(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=tt.FormData&&n instanceof tt.FormData,!(0<=yV(xJ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{m2(this),0<this.B&&((this.L=function TJ(n){return Th&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=Hx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){h2(this,o)}},Ee.ua=function(){typeof wx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},Ee.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zi(this,"complete"),zi(this,"abort"),t0(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t0(this,!0)),Hn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?p2(this):this.kb())},Ee.kb=function(){p2(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<Fs(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),IJ(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=y2.prototype).ra=8,Ee.H=1,Ee.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new og(this,this.l,n);let o=this.s;if(this.U&&(o?(o=IV(o),xV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=w2(this,r,e),In(t=_a(this.I),"RID",n),In(t,"CVER",22),this.F&&In(t,"X-HTTP-Session-Id",this.F),mg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(_2(o)))+"&"+e:this.o&&eT(t,this.o,o)),Xx(this.i,r),this.bb&&In(t,"TYPE","init"),this.P?(In(t,"$req",e),In(t,"SID","null"),r.aa=!0,Yx(r,t,null)):Yx(r,t,e),this.H=2}}else 3==this.H&&(n?b2(this,n):0==this.j.length||s2(this.i)||b2(this))},Ee.Ma=function(){if(this.u=null,C2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ig(sr(this.jb,this),n)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),n0(this),C2(this))},Ee.ib=function(){null!=this.v&&(this.v=null,n0(this),nT(this),Tr(19))},Ee.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=S2.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},s0.prototype.g=function(n,e){return new no(n,e)},Ai(no,Si),no.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Tr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=T2(n,null,n.Y),r0(n)},no.prototype.close=function(){tT(this.g)},no.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ux(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&r0(e)},no.prototype.N=function(){this.g.h=null,delete this.j,tT(this.g),delete this.g,no.$.N.call(this)},Ai(M2,qx),Ai(R2,Gx),Ai(Mh,S2),Mh.prototype.Ba=function(){zi(this.g,"a")},Mh.prototype.Aa=function(n){zi(this.g,new M2(n))},Mh.prototype.za=function(n){zi(this.g,new R2)},Mh.prototype.ya=function(){zi(this.g,"b")},Ai(es,function MJ(){this.blockSize=-1}),es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},es.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)rT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){rT(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){rT(this,i),r=0;break}}this.h=r,this.i+=e},es.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var RJ={};function oT(n){return-128<=n&&128>n?function BX(n,e){var t=RJ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Wt([0|e],0>e?-1:0)}):new Wt([0|n],0>n?-1:0)}function Ls(n){if(isNaN(n)||!isFinite(n))return Rh;if(0>n)return Hi(Ls(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=sT;return new Wt(e,0)}var sT=4294967296,Rh=oT(0),aT=oT(1),k2=oT(16777216);function ya(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Po(n){return-1==n.h}function Hi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Wt(t,~n.h).add(aT)}function a0(n,e){return n.add(Hi(e))}function l0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gg(n,e){this.g=n,this.h=e}function c0(n,e){if(ya(e))throw Error("division by zero");if(ya(n))return new gg(Rh,Rh);if(Po(n))return e=c0(Hi(n),e),new gg(Hi(e.g),Hi(e.h));if(Po(e))return e=c0(n,Hi(e)),new gg(Hi(e.g),e.h);if(30<n.g.length){if(Po(n)||Po(e))throw Error("slowDivide_ only works with positive integers.");for(var t=aT,i=e;0>=i.X(n);)t=O2(t),i=O2(i);var r=Ph(t,1),o=Ph(i,1);for(i=Ph(i,2),t=Ph(t,2);!ya(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Ph(i,1),t=Ph(t,1)}return e=a0(n,r.R(e)),new gg(r,e)}for(r=Rh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ls(t)).R(e);Po(s)||0<s.X(n);)s=(o=Ls(t-=i)).R(e);ya(o)&&(o=aT),r=r.add(o),n=a0(n,s)}return new gg(r,n)}function O2(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Wt(t,n.h)}function Ph(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Wt(r,n.h)}(Ee=Wt.prototype).ea=function(){if(Po(this))return-Hi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:sT+i)*e,e*=sT}return n},Ee.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ya(this))return"0";if(Po(this))return"-"+Hi(this).toString(n);for(var e=Ls(Math.pow(n,6)),t=this,i="";;){var r=c0(t,e).g,o=((0<(t=a0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ya(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Ee.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ee.X=function(n){return Po(n=a0(this,n))?-1:ya(n)?0:1},Ee.abs=function(){return Po(this)?Hi(this):this},Ee.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Wt(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(n){if(ya(this)||ya(n))return Rh;if(Po(this))return Po(n)?Hi(this).R(Hi(n)):Hi(Hi(this).R(n));if(Po(n))return Hi(this.R(Hi(n)));if(0>this.X(k2)&&0>n.X(k2))return Ls(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,l0(t,2*i+2*r),t[2*i+2*r+1]+=o*l,l0(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,l0(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,l0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Wt(t,0)},Ee.gb=function(n){return c0(this,n).h},Ee.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Wt(t,this.h&n.h)},Ee.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Wt(t,this.h|n.h)},Ee.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Wt(t,this.h^n.h)},s0.prototype.createWebChannel=s0.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,Wb.NO_ERROR=0,Wb.TIMEOUT=8,Wb.HTTP_ERROR=6,zV.COMPLETE="complete",$V.EventType=rg,rg.OPEN="a",rg.CLOSE="b",rg.ERROR="c",rg.MESSAGE="d",Si.prototype.listen=Si.prototype.O,Hn.prototype.listenOnce=Hn.prototype.P,Hn.prototype.getLastError=Hn.prototype.Sa,Hn.prototype.getLastErrorCode=Hn.prototype.Ia,Hn.prototype.getStatus=Hn.prototype.da,Hn.prototype.getResponseJson=Hn.prototype.Wa,Hn.prototype.getResponseText=Hn.prototype.ja,Hn.prototype.send=Hn.prototype.ha,Hn.prototype.setWithCredentials=Hn.prototype.Oa,es.prototype.digest=es.prototype.l,es.prototype.reset=es.prototype.reset,es.prototype.update=es.prototype.j,Wt.prototype.add=Wt.prototype.add,Wt.prototype.multiply=Wt.prototype.R,Wt.prototype.modulo=Wt.prototype.gb,Wt.prototype.compare=Wt.prototype.X,Wt.prototype.toNumber=Wt.prototype.ea,Wt.prototype.toString=Wt.prototype.toString,Wt.prototype.getBits=Wt.prototype.D,Wt.fromNumber=Ls,Wt.fromString=function P2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hi(P2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ls(Math.pow(e,8)),i=Rh,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Ls(Math.pow(e,o)),i=i.R(o).add(Ls(s))):i=(i=i.R(t)).add(Ls(s))}return i};var PJ=Jo.createWebChannelTransport=function(){return new s0},kJ=Jo.getStatEventTarget=function(){return Gb()},lT=Jo.ErrorCode=Wb,OJ=Jo.EventType=zV,NJ=Jo.Event=ou,N2=Jo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},u0=(Jo.FetchXmlHttpFactory=dg,Jo.WebChannel=$V),FJ=Jo.XhrIo=Hn,LJ=Jo.Md5=es,kh=Jo.Integer=Wt;const F2="@firebase/firestore";class Mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");let Oh="10.7.0";const xl=new Os.Yd("@firebase/firestore");function Nh(){return xl.logLevel}function ce(n,...e){if(xl.logLevel<=Os.in.DEBUG){const t=e.map(cT);xl.debug(`Firestore (${Oh}): ${n}`,...t)}}function Zn(n,...e){if(xl.logLevel<=Os.in.ERROR){const t=e.map(cT);xl.error(`Firestore (${Oh}): ${n}`,...t)}}function jr(n,...e){if(xl.logLevel<=Os.in.WARN){const t=e.map(cT);xl.warn(`Firestore (${Oh}): ${n}`,...t)}}function cT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function De(n="Unexpected state"){const e=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function Oe(n,e){n||De()}function _e(n,e){return n}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class L2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mi.UNAUTHENTICATED))}shutdown(){}}class jJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zJ{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,te.Z)(function*(){yield u.promise,yield o(i.currentUser)}))},l=u=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe("string"==typeof i.accessToken),new L2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(null===e||"string"==typeof e),new Mi(e)}}class HJ{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $J{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new HJ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe("string"==typeof t.token),this.R=t.token,new V2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class B2{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=GJ(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function Fh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function U2(n){return n+"\0"}class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Pn(0,0))}static max(){return new Le(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _g{constructor(e,t,i){void 0===t?t=0:t>e.length&&De(),void 0===i?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===_g.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _g?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mt extends _g{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const WJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends _g{construct(e,t,i){return new Dn(e,t,i)}static isValidIdentifier(e){return WJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Mt.fromString(e))}static fromName(e){return new ve(Mt.fromString(e).popFirst(5))}static empty(){return new ve(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Mt(e.slice()))}}class Lh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function uT(n){return n.fields.find(e=>2===e.kind)}function cu(n){return n.fields.filter(e=>2!==e.kind)}Lh.UNKNOWN_ID=-1;class uu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vh(0,io.min())}}function j2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Le.fromTimestamp(1e9===i?new Pn(t+1,0):new Pn(t,i));return new io(r,ve.empty(),e)}function z2(n){return new io(n.readTime,n.key,-1)}class io{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new io(Le.min(),ve.empty(),-1)}static max(){return new io(Le.max(),ve.empty(),-1)}}function dT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ve.comparator(n.documentKey,e.documentKey),0!==t?t:Xe(n.largestBatchId,e.largestBatchId))}const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Tl(n){return hT.apply(this,arguments)}function hT(){return hT=(0,te.Z)(function*(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==H2)throw n;ce("LocalStore","Unexpectedly lost primary lease")}),hT.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,i)=>{t(e)})}static reject(e){return new L((t,i)=>{i(e)})}static waitFor(e){return new L((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=L.resolve(!1);for(const i of e)t=t.next(r=>r?L.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new L((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new L((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class d0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new yg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=fT(i.target.error);this.V.reject(new yg(e,r))}}static open(e,t,i,r){try{return new d0(t,e.transaction(r,i))}catch(o){throw new yg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new QJ(t)}}class ts{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===ts.S((0,sn.z$)())&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ce("SimpleDb","Removing database:",e),du(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,sn.hl)())return!1;if(ts.C())return!0;const e=(0,sn.z$)(),t=ts.S(e),i=0<t&&t<10,r=ts.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,te.Z)(function*(){return t.db||(ce("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new yg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ae($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ae($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new yg(e,a))},o.onupgradeneeded=s=>{ce("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{ce("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,te.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=d0.open(o.db,e,s?"readonly":"readwrite",i),u=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),L.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if(ce("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZJ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return du(this.k.delete())}}class yg extends ae{constructor(e,t){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Al(n){return"IndexedDbTransactionError"===n.name}class QJ{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ce("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),du(i)}add(e){return ce("SimpleDb","ADD",this.store.name,e,e),du(this.store.add(e))}get(e){return du(this.store.get(e)).next(t=>(void 0===t&&(t=null),ce("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ce("SimpleDb","DELETE",this.store.name,e),du(this.store.delete(e))}count(){return ce("SimpleDb","COUNT",this.store.name),du(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new L((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new L((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){ce("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new L((i,r)=>{t.onerror=o=>{const s=fT(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new L((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new ZJ(a),u=t(a.primaryKey,a.value,l);if(u instanceof L){const h=u.catch(m=>(l.done(),L.reject(m)));i.push(h)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>L.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function du(n){return new L((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=fT(i.target.error);t(r)}})}let q2=!1;function fT(n){const e=ts.S((0,sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q2||(q2=!0,setTimeout(()=>{throw i},0)),i}}return n}class XJ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ce("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,te.Z)(function*(){t.task=null;try{ce("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){Al(i)?ce("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tl(i)}yield t.ee(6e4)}))}}class JJ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return L.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return ce("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(ce("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=z2(o);dT(s,i)>0&&(i=s)}),new io(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ro=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function vg(n){return null==n}function bg(n){return 0===n&&1/n==-1/0}function G2(n){return"number"==typeof n&&Number.isInteger(n)&&!bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function lr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=W2(e)),e=eee(n.get(t),e);return W2(e)}function eee(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function W2(n){return n+"\x01\x01"}function Vs(n){const e=n.length;if(Oe(e>=2),2===e)return Oe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&De(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:De()}o=s+2}return new Mt(i)}const K2=["userId","batchId"];function h0(n,e){return[n,lr(e)]}function Y2(n,e,t){return[n,lr(e),t]}const tee={},nee=["prefixPath","collectionGroup","readTime","documentId"],iee=["prefixPath","collectionGroup","documentId"],ree=["collectionGroup","readTime","prefixPath","documentId"],oee=["canonicalId","targetId"],see=["targetId","path"],aee=["path","targetId"],lee=["collectionId","parent"],cee=["indexId","uid"],uee=["uid","sequenceNumber"],dee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hee=["indexId","uid","orderedDocumentKey"],fee=["userId","collectionPath","documentId"],pee=["userId","collectionPath","largestBatchId"],mee=["userId","collectionGroup","largestBatchId"],Z2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gee=[...Z2,"documentOverlays"],Q2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],X2=Q2,_ee=[...X2,"indexConfiguration","indexState","indexEntries"];class pT extends $2{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ri(n,e){const t=_e(n);return ts.M(t.ae,e)}function J2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mn{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new f0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new f0(this.root,e,this.comparator,!1)}getReverseIterator(){return new f0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new f0(this.root,e,this.comparator,!0)}}class f0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??$i.RED,this.left=r??$i.EMPTY,this.right=o??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new $i(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $i.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,r,o){return this}insert(e,t,i){return new $i(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tB(this.data.getIterator())}getIteratorFrom(e){return new tB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class tB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bh(n){return n.hasNext()?n.getNext():void 0}class zr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new zr([])}unionWith(e){let t=new Xt(Dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class nB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nB("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const vee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(n){if(Oe(!!n),"string"==typeof n){let e=0;const t=vee.exec(n);if(Oe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$n(n.seconds),nanos:$n(n.nanos)}}function $n(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function va(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function p0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function m0(n){const e=n.mapValue.fields.__previous_value__;return p0(e)?m0(e):e}function wg(n){const e=Ml(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}class bee{constructor(e,t,i,r,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}const Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},g0={nullValue:"NULL_VALUE"};function kl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?p0(n)?4:sB(n)?9007199254740991:10:De()}function Bs(n,e){if(n===e)return!0;const t=kl(n);if(t!==kl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wg(n).isEqual(wg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Ml(r.timestampValue),a=Ml(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,va(n.bytesValue).isEqual(va(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return $n(r.geoPointValue.latitude)===$n(o.geoPointValue.latitude)&&$n(r.geoPointValue.longitude)===$n(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return $n(r.integerValue)===$n(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=$n(r.doubleValue),a=$n(o.doubleValue);return s===a?bg(s)===bg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Fh(n.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(J2(s)!==J2(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Bs(s[l],a[l])))return!1;return!0}(n,e);default:return De()}var o}function Eg(n,e){return void 0!==(n.values||[]).find(t=>Bs(t,e))}function Ol(n,e){if(n===e)return 0;const t=kl(n),i=kl(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=$n(o.integerValue||o.doubleValue),l=$n(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return iB(n.timestampValue,e.timestampValue);case 4:return iB(wg(n),wg(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=va(o),l=va(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Xe(a[u],l[u]);if(0!==h)return h}return Xe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Xe($n(o.latitude),$n(s.latitude));return 0!==a?a:Xe($n(o.longitude),$n(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Ol(a[u],l[u]);if(h)return h}return Xe(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Pl.mapValue&&s===Pl.mapValue)return 0;if(o===Pl.mapValue)return 1;if(s===Pl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const g=Xe(l[m],h[m]);if(0!==g)return g;const y=Ol(a[l[m]],u[h[m]]);if(0!==y)return y}return Xe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw De()}}function iB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xe(n,e);const t=Ml(n),i=Ml(e),r=Xe(t.seconds,i.seconds);return 0!==r?r:Xe(t.nanos,i.nanos)}function Uh(n){return mT(n)}function mT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ml(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?va(n.bytesValue).toBase64():"referenceValue"in n?ve.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=mT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${mT(t.fields[s])}`;return r+"}"}(n.mapValue):De()}function hu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gT(n){return!!n&&"integerValue"in n}function Cg(n){return!!n&&"arrayValue"in n}function rB(n){return!!n&&"nullValue"in n}function oB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function y0(n){return!!n&&"mapValue"in n}function Ig(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ig(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ig(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wee(n){return"nullValue"in n?g0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hu(Rl.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:De()}function Eee(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hu(Rl.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Pl:De()}function aB(n,e){const t=Ol(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function lB(n,e){const t=Ol(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!y0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ig(t)}setAll(e){let t=Dn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Ig(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());y0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];y0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Sl(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new qi(Ig(this.value))}}function cB(n){const e=[];return Sl(n.fields,(t,i)=>{const r=new Dn([t]);if(y0(i)){const o=cB(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new zr(e)}class xn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new xn(e,0,Le.min(),Le.min(),Le.min(),qi.empty(),0)}static newFoundDocument(e,t,i,r){return new xn(e,1,t,Le.min(),i,r,0)}static newNoDocument(e,t){return new xn(e,2,t,Le.min(),Le.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,Le.min(),Le.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nl{constructor(e,t){this.position=e,this.inclusive=t}}function uB(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ve.comparator(ve.fromName(s.referenceValue),t.key):Ol(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function dB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bs(n.position[t],e.position[t]))return!1;return!0}class Dg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hB{}class Dt extends hB{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Iee(e,t,i):"array-contains"===t?new Tee(e,i):"in"===t?new yB(e,i):"not-in"===t?new Aee(e,i):"array-contains-any"===t?new See(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Dee(e,i):new xee(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ol(t,this.value)):null!==t&&kl(this.value)===kl(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends hB{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Kt(e,t)}matches(e){return jh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jh(n){return"and"===n.op}function _T(n){return"or"===n.op}function yT(n){return fB(n)&&jh(n)}function fB(n){for(const e of n.filters)if(e instanceof Kt)return!1;return!0}function vT(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Uh(n.value);if(yT(n))return n.filters.map(e=>vT(e)).join(",");{const e=n.filters.map(t=>vT(t)).join(",");return`${n.op}(${e})`}}function pB(n,e){return n instanceof Dt?(i=n,(r=e)instanceof Dt&&i.op===r.op&&i.field.isEqual(r.field)&&Bs(i.value,r.value)):n instanceof Kt?function(i,r){return r instanceof Kt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&pB(s,r.filters[a]),!0)}(n,e):void De();var i,r}function mB(n,e){const t=n.filters.concat(e);return Kt.create(t,n.op)}function gB(n){return n instanceof Dt?`${(t=n).field.canonicalString()} ${t.op} ${Uh(t.value)}`:n instanceof Kt?function(t){return t.op.toString()+" {"+t.getFilters().map(gB).join(" ,")+"}"}(n):"Filter";var t}class Iee extends Dt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dee extends Dt{constructor(e,t){super(e,"in",t),this.keys=_B(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xee extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=_B(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _B(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class Tee extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cg(t)&&Eg(t.arrayValue,this.value)}}class yB extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class Aee extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class See extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Eg(this.value.arrayValue,i))}}class Mee{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function bT(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Mee(n,e,t,i,r,o,s)}function fu(n){const e=_e(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),vg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Uh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Uh(i)).join(",")),e.ce=t}return e.ce}function xg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Cee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dB(n.startAt,e.startAt)&&dB(n.endAt,e.endAt)}function v0(n){return ve.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function b0(n,e){return n.filters.filter(t=>t instanceof Dt&&t.field.isEqual(e))}function vB(n,e,t){let i=g0,r=!0;for(const o of b0(n,e)){let s=g0,a=!0;switch(o.op){case"<":case"<=":s=wee(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=g0}aB({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];aB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function bB(n,e,t){let i=Pl,r=!0;for(const o of b0(n,e)){let s=Pl,a=!0;switch(o.op){case">=":case">":s=Eee(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Pl}lB({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];lB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class ba{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function wB(n,e,t,i,r,o,s,a){return new ba(n,e,t,i,r,o,s,a)}function zh(n){return new ba(n)}function EB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wT(n){return null!==n.collectionGroup}function Hh(n){const e=_e(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xt(Dn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Dg(o,i))}),t.has(Dn.keyField().canonicalString())||e.le.push(new Dg(Dn.keyField(),i))}return e.le}function Ar(n){const e=_e(n);return e.he||(e.he=function CB(n,e){if("F"===n.limitType)return bT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new Dg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Nl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nl(n.startAt.position,n.startAt.inclusive):null;return bT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Hh(n))),e.he}function ET(n,e){const t=n.filters.concat([e]);return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function w0(n,e,t){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tg(n,e){return xg(Ar(n),Ar(e))&&n.limitType===e.limitType}function IB(n){return`${fu(Ar(n))}|lt:${n.limitType}`}function $h(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>gB(r)).join(", ")}]`),vg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Uh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Uh(r)).join(",")),`Target(${i})`}(Ar(n))}; limitType=${n.limitType})`}function Ag(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ve.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Hh(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const u=uB(s,a,l);return s.inclusive?u<=0:u<0}(i.startAt,Hh(i),r)||i.endAt&&!function(s,a,l){const u=uB(s,a,l);return s.inclusive?u>=0:u>0}(i.endAt,Hh(i),r)));var i,r}function DB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xB(n){return(e,t)=>{let i=!1;for(const r of Hh(n)){const o=Ree(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Ree(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?Ol(l,u):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return eB(this.inner)}size(){return this.innerSize}}const Pee=new mn(ve.comparator);function Hr(){return Pee}const TB=new mn(ve.comparator);function Sg(...n){let e=TB;for(const t of n)e=e.insert(t.key,t);return e}function AB(n){let e=TB;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Us(){return Mg()}function SB(){return Mg()}function Mg(){return new wa(n=>n.toString(),(n,e)=>n.isEqual(e))}const kee=new mn(ve.comparator),Oee=new Xt(ve.comparator);function lt(...n){let e=Oee;for(const t of n)e=e.add(t);return e}const Nee=new Xt(Xe);function CT(){return Nee}function MB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(e)?"-0":e}}function RB(n){return{integerValue:""+n}}function PB(n,e){return G2(e)?RB(e):MB(n,e)}class E0{constructor(){this._=void 0}}function Fee(n,e,t){return n instanceof qh?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&p0(o)&&(o=m0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof pu?OB(n,e):n instanceof mu?NB(n,e):function(r,o){const s=kB(r,o),a=FB(s)+FB(r.Ie);return gT(s)&&gT(r.Ie)?RB(a):MB(r.serializer,a)}(n,e)}function Lee(n,e,t){return n instanceof pu?OB(n,e):n instanceof mu?NB(n,e):t}function kB(n,e){return n instanceof Gh?gT(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class qh extends E0{}class pu extends E0{constructor(e){super(),this.elements=e}}function OB(n,e){const t=LB(e);for(const i of n.elements)t.some(r=>Bs(r,i))||t.push(i);return{arrayValue:{values:t}}}class mu extends E0{constructor(e){super(),this.elements=e}}function NB(n,e){let t=LB(e);for(const i of n.elements)t=t.filter(r=>!Bs(r,i));return{arrayValue:{values:t}}}class Gh extends E0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function FB(n){return $n(n.integerValue||n.doubleValue)}function LB(n){return Cg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rg{constructor(e,t){this.field=e,this.transform=t}}class Bee{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class I0{}function VB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Kh(n.key,kn.none()):new Wh(n.key,n.data,kn.none());{const t=n.data,i=qi.empty();let r=new Xt(Dn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ea(n.key,i,new zr(r.toArray()),kn.none())}}function Uee(n,e,t){n instanceof Wh?function(r,o,s){const a=r.value.clone(),l=jB(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ea?function(r,o,s){if(!C0(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=jB(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(UB(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pg(n,e,t,i){return n instanceof Wh?function(o,s,a,l){if(!C0(o.precondition,s))return a;const u=o.value.clone(),h=zB(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ea?function(o,s,a,l){if(!C0(o.precondition,s))return a;const u=zB(o.fieldTransforms,l,s),h=s.data;return h.setAll(UB(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,i):(a=t,C0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function jee(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=kB(i.transform,r||null);null!=o&&(null===t&&(t=qi.empty()),t.set(i.field,o))}return t||null}function BB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Fh(i,r,(o,s)=>function Vee(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof pu&&r instanceof pu||i instanceof mu&&r instanceof mu?Fh(i.elements,r.elements,Bs):i instanceof Gh&&r instanceof Gh?Bs(i.Ie,r.Ie):i instanceof qh&&r instanceof qh);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Wh extends I0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ea extends I0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jB(n,e,t){const i=new Map;Oe(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Lee(s,a,t[r]))}return i}function zB(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Fee(o,s,e))}return i}class Kh extends I0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IT extends I0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Uee(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=SB();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=VB(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Le.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&Fh(this.mutations,e.mutations,(t,i)=>BB(t,i))&&Fh(this.baseMutations,e.baseMutations,(t,i)=>BB(t,i))}}class xT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Oe(e.mutations.length===i.length);let r=kee;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new xT(e,t,i,r)}}class TT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hee{constructor(e,t){this.count=e,this.unchangedNames=t}}var ai,Rt;function HB(n){switch(n){default:return De();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function $B(n){if(void 0===n)return Zn("GRPC error has no .code"),$.UNKNOWN;switch(n){case ai.OK:return $.OK;case ai.CANCELLED:return $.CANCELLED;case ai.UNKNOWN:return $.UNKNOWN;case ai.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ai.INTERNAL:return $.INTERNAL;case ai.UNAVAILABLE:return $.UNAVAILABLE;case ai.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ai.NOT_FOUND:return $.NOT_FOUND;case ai.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ai.ABORTED:return $.ABORTED;case ai.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ai.DATA_LOSS:return $.DATA_LOSS;default:return De()}}(Rt=ai||(ai={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";function qB(){return new TextEncoder}const $ee=new kh([4294967295,4294967295],0);function GB(n){const e=qB().encode(n),t=new LJ;return t.update(e),new Uint8Array(t.digest())}function WB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kh([t,i],0),new kh([r,o],0)]}class AT{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new kg(`Invalid padding: ${t}`);if(i<0)throw new kg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new kg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new kg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=kh.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(kh.fromNumber(i)));return 1===r.compare($ee)&&(r=new kh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=GB(e),[i,r]=WB(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new AT(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=GB(e),[i,r]=WB(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Og{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Ng.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Og(Le.min(),r,new mn(Xe),Hr(),lt())}}class Ng{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ng(i,t,lt(),lt(),lt())}}class x0{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class KB{constructor(e,t){this.targetId=e,this.fe=t}}class YB{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ZB{constructor(){this.ge=0,this.pe=XB(),this.ye=Ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=lt(),t=lt(),i=lt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:De()}}),new Ng(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=XB()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class qee{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hr(),this.Qe=QB(),this.Ke=new mn(Xe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(v0(o))if(0===i){const s=new ve(o.path);this.We(t,s,xn.newNoDocument(s,Le.min()))}else Oe(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=va(i).toUint8Array()}catch(l){if(l instanceof nB)return jr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new AT(s,r,o)}catch(l){return jr(l instanceof kg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&v0(a.target)){const l=new ve(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,xn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=lt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Og(e,t,this.Ke,this.qe,i);return this.qe=Hr(),this.Qe=QB(),this.Ke=new mn(Xe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ZB,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Xt(Xe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ZB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function QB(){return new mn(ve.comparator)}function XB(){return new mn(ve.comparator)}const Gee={asc:"ASCENDING",desc:"DESCENDING"},Wee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kee={and:"AND",or:"OR"};class Yee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ST(n,e){return n.useProto3Json||vg(e)?e:{value:e}}function Yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Zee(n,e){return Yh(n,e.toTimestamp())}function Qn(n){return Oe(!!n),Le.fromTimestamp(function(t){const i=Ml(t);return new Pn(i.seconds,i.nanos)}(n))}function MT(n,e){return(i=n,new Mt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function eU(n){const e=Mt.fromString(n);return Oe(cU(e)),e}function Fg(n,e){return MT(n.databaseId,e.path)}function js(n,e){const t=eU(e);if(t.get(1)!==n.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(nU(t))}function RT(n,e){return MT(n.databaseId,e)}function tU(n){const e=eU(n);return 4===e.length?Mt.emptyPath():nU(e)}function Lg(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nU(n){return Oe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iU(n,e,t){return{name:Fg(n,e),fields:t.value.mapValue.fields}}function rU(n,e,t){const i=js(n,e.name),r=Qn(e.updateTime),o=e.createTime?Qn(e.createTime):Le.min(),s=new qi({mapValue:{fields:e.fields}}),a=xn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Vg(n,e){let t;if(e instanceof Wh)t={update:iU(n,e.key,e.value)};else if(e instanceof Kh)t={delete:Fg(n,e.key)};else if(e instanceof Ea)t={update:iU(n,e.key,e.data),updateMask:rte(e.fieldMask)};else{if(!(e instanceof IT))return De();t={verify:Fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof qh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gh)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Zee(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:De()),t;var o}function PT(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?kn.updateTime(Qn(o.updateTime)):void 0!==o.exists?kn.exists(o.exists):kn.none():kn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(Oe("REQUEST_TIME"===a.setToServerValue),l=new qh):"appendMissingElements"in a?l=new pu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new mu(a.removeAllFromArray.values||[]):"increment"in a?l=new Gh(s,a.increment):De();const u=Dn.fromServerFormat(a.fieldPath);return new Rg(u,l)}(n,r)):[];var o;if(e.update){const r=js(n,e.update.name),o=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new zr((e.updateMask.fieldPaths||[]).map(h=>Dn.fromServerFormat(h)));return new Ea(r,o,s,t,i)}return new Wh(r,o,t,i)}if(e.delete){const r=js(n,e.delete);return new Kh(r,t)}if(e.verify){const r=js(n,e.verify);return new IT(r,t)}return De()}function oU(n,e){return{documents:[RT(n,e.path)]}}function kT(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=RT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=RT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return lU(Kt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(u=>{return{field:Fl((m=u).field),direction:tte(m.dir)};var m})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=ST(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function sU(n){let e=tU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Oe(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(m){const g=aU(m);return g instanceof Kt&&yT(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new Dg(Zh((b=g).field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(m){let g;return g="object"==typeof m?m.value:m,vg(g)?null:g}(t.limit));let l=null;var m;t.startAt&&(l=new Nl((m=t.startAt).values||[],!!m.before));let u=null;return t.endAt&&(u=function(m){return new Nl(m.values||[],!m.before)}(t.endAt)),wB(e,r,s,o,a,"F",l,u)}function aU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zh(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Zh(t.unaryFilter.field);return Dt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zh(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zh(t.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):void 0!==n.fieldFilter?Dt.create(Zh((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Kt.create(t.compositeFilter.filters.map(i=>aU(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De();var t}function tte(n){return Gee[n]}function nte(n){return Wee[n]}function ite(n){return Kee[n]}function Fl(n){return{fieldPath:n.canonicalString()}}function Zh(n){return Dn.fromServerFormat(n.fieldPath)}function lU(n){return n instanceof Dt?function(t){if("=="===t.op){if(oB(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NAN"}};if(rB(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(oB(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NAN"}};if(rB(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(t.field),op:nte(t.op),value:t.value}}}(n):n instanceof Kt?function(t){const i=t.getFilters().map(r=>lU(r));return 1===i.length?i[0]:{compositeFilter:{op:ite(t.op),filters:i}}}(n):De()}function rte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ca{constructor(e,t,i,r,o=Le.min(),s=Le.min(),a=Ei.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uU{constructor(e){this.ut=e}}function dU(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:T0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Fg(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Yh(o,s.version.toTimestamp()),createTime:Yh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:gu(e.version)};else{if(!e.isUnknownDocument())return De();i.unknownDocument={path:t.path.toArray(),version:gu(e.version)}}var o,s;return i}function T0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _u(n){const e=new Pn(n.seconds,n.nanoseconds);return Le.fromTimestamp(e)}function yu(n,e){const t=(e.baseMutations||[]).map(o=>PT(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>PT(n.ut,o)),r=Pn.fromMillis(e.localWriteTimeMs);return new DT(e.batchId,r,t,i)}function Bg(n){const e=_u(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_u(n.lastLimboFreeSnapshotVersion):Le.min();let i;return i=void 0!==n.query.documents?(Oe(1===(o=n.query).documents.length),Ar(zh(tU(o.documents[0])))):function(o){return Ar(sU(o))}(n.query),new Ca(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken));var o}function hU(n,e){const t=gu(e.snapshotVersion),i=gu(e.lastLimboFreeSnapshotVersion);let r;r=v0(e.target)?oU(n.ut,e.target):kT(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fu(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OT(n){const e=sU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?w0(e,e.limit,"L"):e}function NT(n,e){return new TT(e.largestBatchId,PT(n.ut,e.overlayMutation))}function fU(n,e){const t=e.path.lastSegment();return[n,lr(e.path.popLast()),t]}function pU(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:gu(i.readTime),documentKey:lr(i.documentKey.path),largestBatchId:i.largestBatchId}}class ste{getBundleMetadata(e,t){return mU(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:_u(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return mU(e).put({bundleId:(r=t).id,createTime:gu(Qn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return gU(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:OT(o.bundledQuery),readTime:_u(o.readTime)};var o})}saveNamedQuery(e,t){return gU(e).put({name:(r=t).name,readTime:gu(Qn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mU(n){return Ri(n,"bundles")}function gU(n){return Ri(n,"namedQueries")}class A0{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new A0(e,t.uid||"")}getOverlay(e,t){return Ug(e).get(fU(this.userId,t)).next(i=>i?NT(this.serializer,i):null)}getOverlays(e,t){const i=Us();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new TT(t,s);r.push(this.lt(e,a))}),L.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(lr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Ug(e).H("collectionPathOverlayIndex",a))}),L.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Us(),o=lr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ug(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=NT(this.serializer,l);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Us();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ug(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const m=NT(this.serializer,u);o.size()<r||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return Ug(e).put(function(r,o,s){const[a,l,u]=fU(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vg(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function Ug(n){return Ri(n,"documentOverlays")}class vu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et($n(e.integerValue));else if("doubleValue"in e){const i=$n(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),bg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(va(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?sB(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):De()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ve.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function ate(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _U(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=ate(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}vu.St=new vu;class lte{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=_U(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=_U(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class cte{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class ute{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class jg{constructor(){this.Wt=new lte,this.Gt=new cte(this.Wt),this.zt=new ute(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class bu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new bu(this.indexId,this.documentKey,this.arrayValue,i)}}function Ll(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yU(n.arrayValue,e.arrayValue),0!==t?t:(t=yU(n.directionalValue,e.directionalValue),0!==t?t:ve.comparator(n.documentKey,e.documentKey)))}function yU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class vU{constructor(e){this.Jt=new Xt((t,i)=>Dn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Oe(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=uT(e);if(void 0!==t&&!this.tn(t))return!1;const i=cu(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Xt(Dn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new uu(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new uu(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new uu(i.field,"asc"===i.dir?0:1)));return new Lh(Lh.UNKNOWN_ID,this.collectionId,t,Vh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bU(n){var e,t;if(Oe(n instanceof Dt||n instanceof Kt),n instanceof Dt){if(n instanceof yB){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Dt.create(n.field,"==",o)))||[];return Kt.create(r,"or")}return n}const i=n.filters.map(r=>bU(r));return Kt.create(i,n.op)}function dte(n){if(0===n.getFilters().length)return[];const e=VT(bU(n));return Oe(wU(e)),FT(e)||LT(e)?[e]:e.getFilters()}function FT(n){return n instanceof Dt}function LT(n){return n instanceof Kt&&yT(n)}function wU(n){return FT(n)||LT(n)||function(t){if(t instanceof Kt&&_T(t)){for(const i of t.getFilters())if(!FT(i)&&!LT(i))return!1;return!0}return!1}(n)}function VT(n){if(Oe(n instanceof Dt||n instanceof Kt),n instanceof Dt)return n;if(1===n.filters.length)return VT(n.filters[0]);const e=n.filters.map(i=>VT(i));let t=Kt.create(e,n.op);return t=S0(t),wU(t)?t:(Oe(t instanceof Kt),Oe(jh(t)),Oe(t.filters.length>1),t.filters.reduce((i,r)=>BT(i,r)))}function BT(n,e){let t;return Oe(n instanceof Dt||n instanceof Kt),Oe(e instanceof Dt||e instanceof Kt),t=n instanceof Dt?e instanceof Dt?Kt.create([n,e],"and"):EU(n,e):e instanceof Dt?EU(e,n):function(r,o){if(Oe(r.filters.length>0&&o.filters.length>0),jh(r)&&jh(o))return mB(r,o.getFilters());const s=_T(r)?r:o,a=_T(r)?o:r,l=s.filters.map(u=>BT(u,a));return Kt.create(l,"or")}(n,e),S0(t)}function EU(n,e){if(jh(e))return mB(e,n.getFilters());{const t=e.filters.map(i=>BT(n,i));return Kt.create(t,"or")}}function S0(n){if(Oe(n instanceof Dt||n instanceof Kt),n instanceof Dt)return n;const e=n.getFilters();if(1===e.length)return S0(e[0]);if(fB(n))return n;const t=e.map(r=>S0(r)),i=[];return t.forEach(r=>{r instanceof Dt?i.push(r):r instanceof Kt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Kt.create(i,n.op)}class hte{constructor(){this.on=new UT}addToCollectionParentIndex(e,t){return this.on.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(io.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class UT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Xt(Mt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xt(Mt.comparator)).toArray()}}const M0=new Uint8Array(0);class fte{constructor(e,t){this.user=e,this.databaseId=t,this._n=new UT,this.an=new wa(i=>fu(i),(i,r)=>xg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:lr(r)};return CU(e).put(o)}return L.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[U2(t),""],!1,!0);return CU(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Vs(s.parent))}return i})}addFieldIndex(e,t){const i=zg(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Xh(e);return o.next(a=>{s.put(pU(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=zg(e),r=Xh(e),o=Qh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=zg(e),i=Qh(e),r=Xh(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return L.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new vU(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=Qh(e);let r=!0;const o=new Map;return L.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=lt();const a=[];return L.forEach(o,(l,u)=>{var V;ce("IndexedDbIndexManager",`Using index ${V=l,`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`} to execute ${fu(t)}`);const h=function(V,ee){const pe=uT(ee);if(void 0===pe)return null;for(const Ne of b0(V,pe.fieldPath))switch(Ne.op){case"array-contains-any":return Ne.value.arrayValue.values||[];case"array-contains":return[Ne.value]}return null}(u,l),m=function(V,ee){const pe=new Map;for(const Ne of cu(ee))for(const Ye of b0(V,Ne.fieldPath))switch(Ye.op){case"==":case"in":pe.set(Ne.fieldPath.canonicalString(),Ye.value);break;case"not-in":case"!=":return pe.set(Ne.fieldPath.canonicalString(),Ye.value),Array.from(pe.values())}return null}(u,l),g=function(V,ee){const pe=[];let Ne=!0;for(const Ye of cu(ee)){const $t=0===Ye.kind?vB(V,Ye.fieldPath,V.startAt):bB(V,Ye.fieldPath,V.startAt);pe.push($t.value),Ne&&(Ne=$t.inclusive)}return new Nl(pe,Ne)}(u,l),y=function(V,ee){const pe=[];let Ne=!0;for(const Ye of cu(ee)){const $t=0===Ye.kind?bB(V,Ye.fieldPath,V.endAt):vB(V,Ye.fieldPath,V.endAt);pe.push($t.value),Ne&&(Ne=$t.inclusive)}return new Nl(pe,Ne)}(u,l),b=this.ln(l,u,g),w=this.ln(l,u,y),C=this.hn(l,u,m),k=this.Pn(l.indexId,h,b,g.inclusive,w,y.inclusive,C);return L.forEach(k,M=>i.j(M,t.limit).next(V=>{V.forEach(ee=>{const pe=ve.fromSegments(ee.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return L.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:dte(Kt.create(e.filters,"and")).map(i=>bT(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const l=(null!=t?t.length:1)*Math.max(i.length,o.length),u=l/(null!=t?t.length:1),h=[];for(let m=0;m<l;++m){const g=t?this.In(t[m/u]):M0,y=this.Tn(e,g,i[m%u],r),b=this.En(e,g,o[m%u],s),w=a.map(C=>this.Tn(e,g,C,!0));h.push(...this.createRange(y,b,w))}return h}Tn(e,t,i,r){const o=new bu(e,ve.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new bu(e,ve.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new vU(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return L.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(l){let u=new Xt(Dn.comparator),h=!1;for(const m of l.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field));for(const m of l.orderBy)m.field.isKeyField()||(u=u.add(m.field));return u.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new jg;for(const r of cu(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);vu.St.ht(o,s)}return i.Ut()}In(e){const t=new jg;return vu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new jg;return vu.St.ht(hu(this.databaseId,t),i.jt(function(o){const s=cu(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new jg);let o=0;for(const s of cu(e)){const a=i[o++];for(const l of r)if(this.Rn(t,s.fieldPath)&&Cg(a))r=this.Vn(r,s,a);else{const u=l.jt(s.kind);vu.St.ht(a,u)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new jg;l.seed(a.Ut()),vu.St.ht(s,l.jt(t.kind)),o.push(l)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof Dt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=zg(e),r=Xh(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return L.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(h,m){const g=m?new Vh(m.sequenceNumber,new io(_u(m.readTime),new ve(Vs(m.documentKey)),m.largestBatchId)):Vh.empty(),y=h.fields.map(([b,w])=>new uu(Dn.fromServerFormat(b),w));return new Lh(h.indexId,h.collectionGroup,y,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Xe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=zg(e),o=Xh(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>L.forEach(a,l=>o.put(pU(l.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return L.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?L.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),L.forEach(a,l=>this.gn(e,r,l).next(u=>{const h=this.pn(o,l);return u.isEqual(h)?L.resolve():this.yn(e,o,l,u,h)}))))})}wn(e,t,i,r){return Qh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return Qh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=Qh(e);let o=new Xt(Ll);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new bu(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new Xt(Ll);const r=this.dn(t,e);if(null==r)return i;const o=uT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Cg(s))for(const a of s.arrayValue.values||[])i=i.add(new bu(t.indexId,e.key,this.In(a),r))}else i=i.add(new bu(t.indexId,e.key,M0,r));return i}yn(e,t,i,r,o){ce("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,u,h,m,g){const y=l.getIterator(),b=u.getIterator();let w=Bh(y),C=Bh(b);for(;w||C;){let k=!1,M=!1;if(w&&C){const V=h(w,C);V<0?M=!0:V>0&&(k=!0)}else null!=w?M=!0:k=!0;k?(m(C),C=Bh(b)):M?(g(w),w=Bh(y)):(w=Bh(y),C=Bh(b))}}(r,o,Ll,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),L.waitFor(s)}fn(e){let t=1;return Xh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Ll(s,a)).filter((s,a,l)=>!a||0!==Ll(s,l[a-1]));const r=[];r.push(e);for(const s of i){const a=Ll(s,e),l=Ll(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,M0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,M0,[]]))}return o}bn(e,t){return Ll(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(IU)}getMinOffset(e,t){return L.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||De())).next(IU)}}function CU(n){return Ri(n,"collectionParents")}function Qh(n){return Ri(n,"indexEntries")}function zg(n){return Ri(n,"indexConfiguration")}function Xh(n){return Ri(n,"indexState")}function IU(n){Oe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;dT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new io(e.readTime,e.documentKey,t)}const DU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xU(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=i.Y({range:s},(h,m,g)=>(a++,g.delete()));o.push(l.next(()=>{Oe(1===a)}));const u=[];for(const h of t.mutations){const m=Y2(e,h.key.path,t.batchId);o.push(r.delete(m)),u.push(h.key)}return L.waitFor(o).next(()=>u)}function R0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De();e=n.noDocument}return JSON.stringify(e).length}cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);class P0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Oe(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new P0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Jh(e),s=Vl(e);return s.add({}).next(a=>{Oe("number"==typeof a);const l=new DT(a,t,i,r),u=function(y,b,w){const C=w.baseMutations.map(M=>Vg(y.ut,M)),k=w.mutations.map(M=>Vg(y.ut,M));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:C,mutations:k}}(this.serializer,this.userId,l),h=[];let m=new Xt((g,y)=>Xe(g.canonicalString(),y.canonicalString()));for(const g of r){const y=Y2(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(s.put(u)),h.push(o.put(y,tee))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),L.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return Vl(e).get(t).next(i=>i?(Oe(i.userId===this.userId),yu(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?L.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Vl(e).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(Oe(a.batchId>=i),o=yu(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Vl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).W("userMutationsIndex",t).next(i=>i.map(r=>yu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=h0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Jh(e).Y({range:r},(s,a,l)=>{const[u,h,m]=s,g=Vs(h);if(u===this.userId&&t.path.isEqual(g))return Vl(e).get(m).next(y=>{if(!y)throw De();Oe(y.userId===this.userId),o.push(yu(this.serializer,y))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xt(Xe);const r=[];return t.forEach(o=>{const s=h0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Jh(e).Y({range:a},(u,h,m)=>{const[g,y,b]=u,w=Vs(y);g===this.userId&&o.path.isEqual(w)?i=i.add(b):m.done()});r.push(l)}),L.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=h0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Xt(Xe);return Jh(e).Y({range:s},(l,u,h)=>{const[m,g,y]=l,b=Vs(g);m===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Vl(e).get(o).next(s=>{if(null===s)throw De();Oe(s.userId===this.userId),i.push(yu(this.serializer,s))}))}),L.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return xU(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),L.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Jh(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Vs(o[1]);r.push(l)}else a.done()}).next(()=>{Oe(0===r.length)})})}containsKey(e,t){return TU(e,this.userId,t)}Mn(e){return AU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TU(n,e,t){const i=h0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Jh(n).Y({range:o,J:!0},(a,l,u)=>{const[h,m,g]=a;h===e&&m===r&&(s=!0),u.done()}).next(()=>s)}function Vl(n){return Ri(n,"mutations")}function Jh(n){return Ri(n,"documentMutations")}function AU(n){return Ri(n,"mutationQueues")}class wu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new wu(0)}static Nn(){return new wu(-1)}}class pte{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new wu(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Le.fromTimestamp(new Pn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ef(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Oe(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return ef(e).Y((s,a)=>{const l=Bg(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(o)).next(()=>r)}forEachTarget(e,t){return ef(e).Y((i,r)=>{const o=Bg(r);t(o)})}Bn(e){return SU(e).get("targetGlobalKey").next(t=>(Oe(null!==t),t))}Ln(e,t){return SU(e).put("targetGlobalKey",t)}kn(e,t){return ef(e).put(hU(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=fu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ef(e).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const u=Bg(a);xg(t,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Bl(e);return t.forEach(s=>{const a=lr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),L.waitFor(r)}removeMatchingKeys(e,t,i){const r=Bl(e);return L.forEach(t,o=>{const s=lr(o.path);return L.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Bl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bl(e);let o=lt();return r.Y({range:i,J:!0},(s,a,l)=>{const u=Vs(s[1]),h=new ve(u);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=lr(t.path),r=IDBKeyRange.bound([i],[U2(i)],!1,!0);let o=0;return Bl(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,t){return ef(e).get(t).next(i=>i?Bg(i):null)}}function ef(n){return Ri(n,"targets")}function SU(n){return Ri(n,"targetGlobal")}function Bl(n){return Ri(n,"targetDocuments")}function MU([n,e],[t,i]){const r=Xe(n,t);return 0===r?Xe(e,i):r}class mte{constructor(e){this.Qn=e,this.buffer=new Xt(MU),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();MU(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,te.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Al(i)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tl(i)}yield t.Gn(3e5)}))}}class gte{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return L.resolve(ro._e);const i=new mte(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(DU)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DU):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,a=Date.now(),this.removeTargets(e,i,t))).next(m=>(o=m,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(u=Date.now(),Nh()<=Os.in.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m})))}}class _te{constructor(e,t){this.db=e,this.garbageCollector=function PU(n,e){return new gte(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return k0(e,i)}removeReference(e,t,i){return k0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return k0(e,t)}Xn(e,t){return function(r,o){let s=!1;return AU(r).Z(a=>TU(r,a,o).next(l=>(l&&(s=!0),L.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const l=this.Xn(e,s).next(u=>{if(!u)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Le.min()),Bl(e).delete([0,lr(s.path)])))});r.push(l)}}).next(()=>L.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return k0(e,t)}Zn(e,t){const i=Bl(e);let r,o=ro._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==ro._e&&t(new ve(Vs(r)),o),o=u,r=l):o=ro._e}).next(()=>{o!==ro._e&&t(new ve(Vs(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function k0(n,e){return Bl(n).put((r=n.currentSequenceNumber,{targetId:0,path:lr(e.path),sequenceNumber:r}));var r}class kU{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yte{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Eu(e).put(i)}removeEntry(e,t,i){return Eu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],T0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=xn.newInvalidDocument(t);return Eu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Hg(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:xn.newInvalidDocument(t)};return Eu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Hg(t))},(r,o)=>{i={document:this.tr(t,o),size:R0(o)}}).next(()=>i)}getEntries(e,t){let i=Hr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Hr(),r=new mn(ve.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,R0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return L.resolve();let r=new Xt(LU);t.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Hg(r.first()),Hg(r.last())),s=r.getIterator();let a=s.getNext();return Eu(e).Y({index:"documentKeyIndex",range:o},(l,u,h)=>{const m=ve.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&LU(a,m)<0;)i(a,null),a=s.getNext();a&&a.isEqual(m)&&(i(a,u),a=s.hasNext()?s.getNext():null),a?h.U(Hg(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),T0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eu(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let h=Hr();for(const m of u){const g=this.tr(ve.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(Ag(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Hr();const s=FU(t,i),a=FU(t,io.max());return Eu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,h)=>{const m=this.tr(ve.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(m.key,m),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new vte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return NU(e).get("remoteDocumentGlobalKey").next(t=>(Oe(!!t),t))}er(e,t){return NU(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function ote(n,e){let t;if(e.document)t=rU(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ve.fromSegments(e.noDocument.path),r=_u(e.noDocument.readTime);t=xn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De();{const i=ve.fromSegments(e.unknownDocument.path),r=_u(e.unknownDocument.version);t=xn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Pn(r[0],r[1]);return Le.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Le.min()))return i}return xn.newInvalidDocument(e)}}function OU(n){return new yte(n)}class vte extends kU{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new wa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Xt((o,s)=>Xe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=dU(this._r.serializer,s);r=r.add(o.path.popLast());const u=R0(l);i+=u-a.size,t.push(this._r.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=dU(this._r.serializer,s.convertToNoDocument(Le.min()));t.push(this._r.addEntry(e,o,l))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),L.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function NU(n){return Ri(n,"remoteDocumentGlobal")}function Eu(n){return Ri(n,"remoteDocumentsV14")}function Hg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FU(n,e){const t=e.documentKey.path.toArray();return[n,T0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LU(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Xe(t[o],i[o]),r)return r;return r=Xe(t.length,i.length),r||(r=Xe(t[t.length-2],i[i.length-2]),r||Xe(t[t.length-1],i[i.length-1]))}class bte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class VU{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Pg(i.mutation,r,zr.empty(),Pn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,lt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=lt()){const r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Sg();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,lt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Hr();const s=Mg(),a=Mg();return t.forEach((l,u)=>{const h=i.get(u.key);r.has(u.key)&&(void 0===h||h.mutation instanceof Ea)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),Pg(h.mutation,u,h.mutation.getFieldMask(),Pn.now())):s.set(u.key,zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var m;return a.set(u,new bte(h,null!==(m=s.get(u))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Mg();let r=new mn((s,a)=>s-a),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let h=i.get(l)||zr.empty();h=a.applyToLocalView(u,h),i.set(l,h);const m=(r.get(a.batchId)||lt()).add(l);r=r.insert(a.batchId,m)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,m=SB();h.forEach(g=>{if(!o.has(g)){const y=VB(t.get(g),i.get(g));null!==y&&m.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ve.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(Us());let a=-1,l=o;return s.next(u=>L.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,lt())).next(h=>({batchId:a,changes:AB(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let r=Sg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Sg();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,l=>{const u=(m=t,g=l.child(o),new ba(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,g;return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,xn.newInvalidDocument(h)))});let a=Sg();return s.forEach((l,u)=>{const h=o.get(l);void 0!==h&&Pg(h.mutation,u,zr.empty(),Pn.now()),Ag(t,u)&&(a=a.insert(l,u))}),a})}}class wte{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return L.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Qn(r.createTime)}),L.resolve();var r}getNamedQuery(e,t){return L.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:OT(r.bundledQuery),readTime:Qn(r.readTime)}),L.resolve();var r}}class Ete{constructor(){this.overlays=new mn(ve.comparator),this.lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Us();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){const r=Us(),o=t.length+1,s=new ve(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new mn((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=o.get(u.largestBatchId);null===h&&(h=Us(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Us(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return L.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new TT(t,i));let o=this.lr.get(t);void 0===o&&(o=lt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class jT{constructor(){this.hr=new Xt(Pi.Pr),this.Ir=new Xt(Pi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Pi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Pi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ve(new Mt([])),i=new Pi(t,e),r=new Pi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ve(new Mt([])),i=new Pi(t,e),r=new Pi(t,e+1);let o=lt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Pi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Pi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ve.comparator(e.key,t.key)||Xe(e.gr,t.gr)}static Tr(e,t){return Xe(e.gr,t.gr)||ve.comparator(e.key,t.key)}}class Cte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Xt(Pi.Pr)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new DT(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Pi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pi(t,0),r=new Pi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xt(Xe);return t.forEach(r=>{const o=new Pi(r,0),s=new Pi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),L.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ve.isDocumentKey(o)||(o=o.child(""));const s=new Pi(new ve(o),0);let a=new Xt(Xe);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.gr)),!0)},s),L.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Oe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return L.forEach(t.mutations,r=>{const o=new Pi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Pi(t,0),r=this.yr.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return L.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ite{constructor(e){this.Cr=e,this.docs=new mn(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let i=Hr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():xn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Hr();const s=t.path,a=new ve(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||dT(z2(h),i)<=0||(r.has(h.key)||Ag(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){De()}vr(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Dte(this)}getSize(e){return L.resolve(this.size)}}class Dte extends kU{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class xte{constructor(e){this.persistence=e,this.Fr=new wa(t=>fu(t),xg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new jT,this.targetCount=0,this.Nr=wu.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),L.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new wu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.kn(t),L.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.Or.containsKey(t))}}class zT{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ro(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new xte(this),this.indexManager=new hte,this.remoteDocumentCache=new Ite(i=>this.referenceDelegate.Qr(i)),this.serializer=new uU(t),this.Kr=new wte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ete,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new Cte(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const r=new Tte(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return L.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class Tte extends $2{constructor(e){super(),this.currentSequenceNumber=e}}class O0{constructor(e){this.persistence=e,this.Gr=new jT,this.zr=null}static jr(e){return new O0(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,i=>{const r=ve.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Le.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return L.or([()=>L.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Ate{constructor(e){this.serializer=e}N(e,t,i,r){const o=new d0("createOrUpgrade",t);var l;i<1&&r>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K2,{unique:!0}),l.createObjectStore("documentMutations"),BU(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=L.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),BU(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K2,{unique:!0});const m=u.store("mutations"),g=h.map(y=>m.put(y));return L.waitFor(g)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:fee});u.createIndex("collectionPathOverlayIndex",pee,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",mee,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:nee});u.createIndex("documentKeyIndex",iee),u.createIndex("collectionGroupIndex",ree)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:cee}).createIndex("sequenceNumberIndex",uee,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:dee}).createIndex("documentKeyIndex",hee,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=R0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>L.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>L.forEach(a,l=>{Oe(l.userId===o.userId);const u=yu(this.serializer,l);return xU(e,o.userId,u).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new Mt(s),u=[0,lr(l)];o.push(t.get(u).next(h=>h?L.resolve():t.put({targetId:0,path:lr(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>L.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:lee});const i=t.store("collectionParents"),r=new UT,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:lr(l)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new Mt(s);return o(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const h=Vs(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=Bg(r),s=hU(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),l=(m=s,m.document?new ve(Mt.fromString(m.document.name).popFirst(5)):m.noDocument?ve.fromSegments(m.noDocument.path):m.unknownDocument?ve.fromSegments(m.unknownDocument.path):De()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;r.push(a.put(u))}).next(()=>L.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=OU(this.serializer),o=new zT(O0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:lt();yu(this.serializer,l).keys().forEach(m=>h=h.add(m)),a.set(l.userId,h)}),L.forEach(a,(l,u)=>{const h=new Mi(u),m=A0.ct(this.serializer,h),g=o.getIndexManager(h),y=P0.ct(h,this.serializer,g,o.referenceDelegate);return new VU(r,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new pT(t,ro._e),l).next()})})}}function BU(n){n.createObjectStore("targetDocuments",{keyPath:see}).createIndex("documentTargetsIndex",aee,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oee,{unique:!0}),n.createObjectStore("targetGlobal")}const HT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $T{constructor(e,t,i,r,o,s,a,l,u,h,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=u,this._i=h,this.ai=m,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!$T.D())throw new ae($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _te(this,r),this.Ii=t+"main",this.serializer=new uU(l),this.Ti=new ts(this.Ii,this.ai,new Ate(this.serializer)),this.qr=new pte(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OU(this.serializer),this.Kr=new ste,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae($.FAILED_PRECONDITION,HT);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ro(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,te.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,te.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>F0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Al(e))return ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return $g(e).get("owner").next(t=>L.resolve(this.wi(t)))}Si(e){return F0(e).delete(this.clientId)}bi(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ri(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return L.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?L.resolve(!0):$g(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ae($.FAILED_PRECONDITION,HT);return!1}}return!(!this.networkEnabled||!this.inForeground)||F0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ce("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,te.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new pT(t,ro._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>F0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return P0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fte(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return A0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){ce("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(l=this.ai)?_ee:14===l?X2:13===l?Q2:12===l?gee:11===l?Z2:void De();var l;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new pT(a,this.Lr?this.Lr.next():ro._e),"readwrite-primary"===t?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw Zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ae($.FAILED_PRECONDITION,H2);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return $g(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae($.FAILED_PRECONDITION,HT)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $g(e).put("owner",t)}static D(){return ts.D()}pi(e){const t=$g(e);return t.get("owner").next(i=>this.wi(i)?(ce("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Zn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,sn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ce("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Zn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Zn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $g(n){return Ri(n,"owner")}function F0(n){return Ri(n,"clientMetadata")}function qT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=lt(),r=lt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new GT(e,t.fromCache,i,r)}}class Ste{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Ste;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Nh()<=Os.in.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(Nh()<=Os.in.DEBUG&&ce("QueryEngine","Query:",$h(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Nh()<=Os.in.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):L.resolve())}zi(e,t){if(EB(t))return L.resolve(null);let i=Ar(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=w0(t,null,"F"),i=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=lt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.Yi(t,a);return this.Zi(t,u,s,l.readTime)?this.zi(e,w0(t,null,"F")):this.Xi(e,u,t,l)}))})))}ji(e,t,i,r){return EB(t)||r.isEqual(Le.min())?L.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?L.resolve(null):(Nh()<=Os.in.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$h(t)),this.Xi(e,s,t,j2(r,-1)).next(a=>a))})}Yi(e,t){let i=new Xt(xB(e));return t.forEach((r,o)=>{Ag(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return Nh()<=Os.in.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$h(t)),this.Gi.getDocumentsMatchingQuery(e,t,io.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Mte{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new mn(Xe),this.ns=new wa(o=>fu(o),xg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function jU(n,e,t,i){return new Mte(n,e,t,i)}function zU(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,te.Z)(function*(n,e){const t=_e(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=lt();for(const u of r){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}),WT.apply(this,arguments)}function HU(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function $U(n,e,t){let i=lt(),r=lt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Hr();return t.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:r}})}function kte(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function tf(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Ca(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function nf(n,e,t){return KT.apply(this,arguments)}function KT(){return KT=(0,te.Z)(function*(n,e,t){const i=_e(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Al(s))throw s;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),KT.apply(this,arguments)}function L0(n,e,t){const i=_e(n);let r=Le.min(),o=lt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const m=_e(l),g=m.ns.get(h);return void 0!==g?L.resolve(m.ts.get(g)):m.qr.getTargetData(u,h)}(i,s,Ar(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Le.min(),t?o:lt())).next(a=>(WU(i,DB(e),a),{documents:a,ls:o})))}function qU(n,e){const t=_e(n),i=_e(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function GU(n,e){const t=_e(n),i=t.rs.get(e)||Le.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,j2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(WU(t,e,r),r))}function WU(n,e,t){let i=n.rs.get(e)||Le.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function YT(){return YT=(0,te.Z)(function*(n,e,t,i){const r=_e(n);let o=lt(),s=Hr();for(const u of t){const h=e.hs(u.metadata.name);u.document&&(o=o.add(h));const m=e.Ps(u);m.setReadTime(e.Is(u.metadata.readTime)),s=s.insert(h,m)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield tf(r,(h=i,Ar(zh(Mt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>$U(u,a,s).next(h=>(a.apply(u),h)).next(h=>r.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>r.qr.addMatchingKeys(u,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,h.us,h.cs)).next(()=>h.us)))}),YT.apply(this,arguments)}function Nte(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,te.Z)(function*(n,e,t=lt()){const i=yield tf(n,Ar(OT(e.bundledQuery))),r=_e(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Qn(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ei.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),ZT.apply(this,arguments)}function KU(n,e){return`firestore_clients_${n}_${e}`}function YU(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function QT(n,e){return`firestore_targets_${n}_${e}`}class V0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ae(r.error.code,r.error.message))),s?new V0(e,t,r.state,o):(Zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ae(i.error.code,i.error.message))),o?new qg(e,i.state,r):(Zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class B0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=CT();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=G2(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new B0(e,o):(Zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XT{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XT(t.clientId,t.onlineState):(Zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JT{constructor(){this.activeTargetIds=CT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eA{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new mn(Xe),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=KU(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new JT),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(KU(e.persistenceKey,r));if(o){const s=B0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(QT(this.persistenceKey,e));if(i){const r=qg.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(QT(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ce("SharedClientState","READ",e,t),t}setItem(e,t){ce("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ce("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=ro._e;if(null!=s)try{const l=JSON.parse(s);Oe("number"==typeof l),a=l}catch(l){Zn("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==ro._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new V0(this.currentUser,e,t,i),o=YU(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=YU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=QT(this.persistenceKey,e),o=new qg(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return B0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return V0.Ts(new Mi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return qg.Ts(r,t)}Ms(e){return XT.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ce("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=CT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ZU{constructor(){this.eo=new JT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new JT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fte{ro(e){}shutdown(){}}class QU{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let U0=null;function tA(){return null===U0?U0=268435456+Math.round(2147483648*Math.random()):U0++,"0x"+U0.toString(16)}const Lte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vte{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ur="WebChannelConnection";class Bte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=tA(),l=this.So(t,i);ce("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(t,l,u,r).then(h=>(ce("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw jr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Oh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${Lte[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=tA();return new Promise((s,a)=>{const l=new FJ;l.setWithCredentials(!0),l.listenOnce(OJ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lT.NO_ERROR:const h=l.getResponseJson();ce(ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case lT.TIMEOUT:ce(ur,`RPC '${e}' ${o} timed out`),a(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case lT.HTTP_ERROR:const m=l.getStatus();if(ce(ur,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const b=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(k)>=0?k:$.UNKNOWN}(y.status);a(new ae(b,y.message))}else a(new ae($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae($.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ce(ur,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(r);ce(ur,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",u,i,15)})}vo(e,t,i){const r=tA(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PJ(),a=kJ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=o.join("");ce(ur,`Creating RPC '${e}' stream ${r}: ${h}`,l);const m=s.createWebChannel(h,l);let g=!1,y=!1;const b=new Vte({co:C=>{y?ce(ur,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(g||(ce(ur,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),ce(ur,`RPC '${e}' stream ${r} sending:`,C),m.send(C))},lo:()=>m.close()}),w=(C,k,M)=>{C.listen(k,V=>{try{M(V)}catch(ee){setTimeout(()=>{throw ee},0)}})};return w(m,u0.EventType.OPEN,()=>{y||ce(ur,`RPC '${e}' stream ${r} transport opened.`)}),w(m,u0.EventType.CLOSE,()=>{y||(y=!0,ce(ur,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(m,u0.EventType.ERROR,C=>{y||(y=!0,jr(ur,`RPC '${e}' stream ${r} transport errored:`,C),b.Ro(new ae($.UNAVAILABLE,"The operation could not be completed")))}),w(m,u0.EventType.MESSAGE,C=>{var k;if(!y){const M=C.data[0];Oe(!!M);const ee=M.error||(null===(k=M[0])||void 0===k?void 0:k.error);if(ee){ce(ur,`RPC '${e}' stream ${r} received error:`,ee);const pe=ee.status;let Ne=function(Pr){const $r=ai[Pr];if(void 0!==$r)return $B($r)}(pe),Ye=ee.message;void 0===Ne&&(Ne=$.INTERNAL,Ye="Unknown error status: "+pe+" with message "+ee.message),y=!0,b.Ro(new ae(Ne,Ye)),m.close()}else ce(ur,`RPC '${e}' stream ${r} received:`,M),b.Vo(M)}}),w(a,NJ.STAT_EVENT,C=>{C.stat===N2.PROXY?ce(ur,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===N2.NOPROXY&&ce(ur,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function XU(){return typeof window<"u"?window:null}function j0(){return typeof document<"u"?document:null}function Gg(n){return new Yee(n,!0)}class nA{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class JU{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new nA(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,te.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,te.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,te.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===$.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ae($.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,te.Z)(function*(){e.state=0,e.start()}))}o_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ute extends JU{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Xee(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:De(),r=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Oe(void 0===h||"string"==typeof h),Ei.fromBase64String(h||"")):(Oe(void 0===h||h instanceof Uint8Array),Ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?$.UNKNOWN:$B(u.code);return new ae(h,u.message||"")}(s);t=new YB(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=js(n,i.document.name),o=Qn(i.document.updateTime),s=i.document.createTime?Qn(i.document.createTime):Le.min(),a=new qi({mapValue:{fields:i.document.fields}}),l=xn.newFoundDocument(r,o,s,a);t=new x0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=js(n,i.document),o=i.readTime?Qn(i.readTime):Le.min(),s=xn.newNoDocument(r,o);t=new x0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=js(n,i.document);t=new x0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return De();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Hee(r,o);t=new KB(i.targetId,s)}}var u;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Le.min():s.readTime?Qn(s.readTime):Le.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Lg(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=v0(l)?{documents:oU(o,l)}:{query:kT(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JB(o,s.resumeToken);const u=ST(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Le.min())>0){a.readTime=Yh(o,s.snapshotVersion.toTimestamp());const u=ST(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const i=function ete(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Lg(this.serializer),t.removeTarget=e,this.e_(t)}}class jte extends JU{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Jee(n,e){return n&&n.length>0?(Oe(void 0!==e),n.map(t=>function(r,o){let s=Qn(r.updateTime?r.updateTime:o);return s.isEqual(Le.min())&&(s=Qn(o)),new Bee(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.I_(i,t)}return Oe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Lg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Vg(this.serializer,i))};this.e_(t)}}class zte extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ae($.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae($.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class $te{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Zn(t),this.f_=!1):ce("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qte{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,te.Z)(function*(){var l;Ul(s)&&(ce("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,te.Z)(function*(h){const m=_e(h);m.C_.add(4),yield rf(m),m.M_.set("Unknown"),m.C_.delete(4),yield Wg(m)}),function u(h){return l.apply(this,arguments)})(s))}))}),this.M_=new $te(i,r)}}function Wg(n){return rA.apply(this,arguments)}function rA(){return rA=(0,te.Z)(function*(n){if(Ul(n))for(const e of n.v_)yield e(!0)}),rA.apply(this,arguments)}function rf(n){return oA.apply(this,arguments)}function oA(){return oA=(0,te.Z)(function*(n){for(const e of n.v_)yield e(!1)}),oA.apply(this,arguments)}function z0(n,e){const t=_e(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),lA(t)?aA(t):af(t).Ho()&&sA(t,e))}function Kg(n,e){const t=_e(n),i=af(t);t.D_.delete(e),i.Ho()&&ej(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Ul(t)&&t.M_.set("Unknown"))}function sA(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}af(n).u_(e)}function ej(n,e){n.x_.Oe(e),af(n).c_(e)}function aA(n){n.x_=new qee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),af(n).start(),n.M_.g_()}function lA(n){return Ul(n)&&!af(n).jo()&&n.D_.size>0}function Ul(n){return 0===_e(n).C_.size}function tj(n){n.x_=void 0}function Gte(n){return cA.apply(this,arguments)}function cA(){return cA=(0,te.Z)(function*(n){n.D_.forEach((e,t)=>{sA(n,e)})}),cA.apply(this,arguments)}function Wte(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,te.Z)(function*(n,e){tj(n),lA(n)?(n.M_.w_(e),aA(n)):n.M_.set("Unknown")}),uA.apply(this,arguments)}function Kte(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,te.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof YB&&2===e.state&&e.cause)try{yield(i=(0,te.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield H0(n,i)}else if(e instanceof x0?n.x_.$e(e):e instanceof KB?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Le.min()))try{const i=yield HU(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.D_.get(u);h&&o.D_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.D_.get(l);if(!h)return;o.D_.set(l,h.withResumeToken(Ei.EMPTY_BYTE_STRING,h.snapshotVersion)),ej(o,l);const m=new Ca(h.target,l,u,h.sequenceNumber);sA(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),yield H0(n,i)}var i}),dA.apply(this,arguments)}function H0(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,te.Z)(function*(n,e,t){if(!Al(e))throw e;n.C_.add(1),yield rf(n),n.M_.set("Offline"),t||(t=()=>HU(n.localStore)),n.asyncQueue.enqueueRetryable((0,te.Z)(function*(){ce("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Wg(n)}))}),hA.apply(this,arguments)}function nj(n,e){return e().catch(t=>H0(n,t,e))}function sf(n){return fA.apply(this,arguments)}function fA(){return fA=(0,te.Z)(function*(n){const e=_e(n),t=jl(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Yte(e);)try{const r=yield kte(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Zte(e,r)}catch(r){yield H0(e,r)}ij(e)&&rj(e)}),fA.apply(this,arguments)}function Yte(n){return Ul(n)&&n.b_.length<10}function Zte(n,e){n.b_.push(e);const t=jl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function ij(n){return Ul(n)&&!jl(n).jo()&&n.b_.length>0}function rj(n){jl(n).start()}function Qte(n){return pA.apply(this,arguments)}function pA(){return pA=(0,te.Z)(function*(n){jl(n).E_()}),pA.apply(this,arguments)}function Xte(n){return mA.apply(this,arguments)}function mA(){return mA=(0,te.Z)(function*(n){const e=jl(n);for(const t of n.b_)e.P_(t.mutations)}),mA.apply(this,arguments)}function Jte(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,te.Z)(function*(n,e,t){const i=n.b_.shift(),r=xT.from(i,e,t);yield nj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield sf(n)}),gA.apply(this,arguments)}function ene(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,te.Z)(function*(n,e){var t;e&&jl(n).h_&&(yield(t=(0,te.Z)(function*(r,o){if(HB(a=o.code)&&a!==$.ABORTED){const s=r.b_.shift();jl(r).Yo(),yield nj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield sf(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),ij(n)&&rj(n)}),_A.apply(this,arguments)}function oj(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,te.Z)(function*(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=Ul(t);t.C_.add(3),yield rf(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Wg(t)}),yA.apply(this,arguments)}function vA(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,te.Z)(function*(n,e){const t=_e(n);e?(t.C_.delete(2),yield Wg(t)):e||(t.C_.add(2),yield rf(t),t.M_.set("Unknown"))}),bA.apply(this,arguments)}function af(n){return n.O_||(n.O_=function(t,i,r){const o=_e(t);return o.A_(),new Ute(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Gte.bind(null,n),Io:Wte.bind(null,n),a_:Kte.bind(null,n)}),n.v_.push(function(){var e=(0,te.Z)(function*(t){t?(n.O_.Yo(),lA(n)?aA(n):n.M_.set("Unknown")):(yield n.O_.stop(),tj(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function jl(n){return n.N_||(n.N_=function(t,i,r){const o=_e(t);return o.A_(),new jte(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Qte.bind(null,n),Io:ene.bind(null,n),T_:Xte.bind(null,n),I_:Jte.bind(null,n)}),n.v_.push(function(){var e=(0,te.Z)(function*(t){t?(n.N_.Yo(),yield sf(n)):(yield n.N_.stop(),n.b_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class wA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new wA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lf(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),Al(n))return new ae($.UNAVAILABLE,`${e}: ${n}`);throw n}class cf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Sg(),this.sortedSet=new mn(this.comparator)}static emptySet(e){return new cf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new cf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sj{constructor(){this.B_=new mn(ve.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class uf{constructor(e,t,i,r,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new uf(e,t,cf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class tne{constructor(){this.k_=void 0,this.listeners=[]}}class nne{constructor(){this.queries=new wa(e=>IB(e),Tg),this.onlineState="Unknown",this.q_=new Set}}function EA(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,te.Z)(function*(n,e){const t=_e(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new tne),r)try{o.k_=yield t.onListen(i)}catch(s){const a=lf(s,`Initialization of query '${$h(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&xA(t)}),CA.apply(this,arguments)}function IA(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,te.Z)(function*(n,e){const t=_e(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),DA.apply(this,arguments)}function ine(n,e){const t=_e(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&xA(t)}function rne(n,e,t){const i=_e(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function xA(n){n.q_.forEach(e=>{e.next()})}class TA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new uf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class one{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class aj{constructor(e){this.serializer=e}hs(e){return js(this.serializer,e)}Ps(e){return e.metadata.exists?rU(this.serializer,e.document,!1):xn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Qn(e)}}class sne{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lj(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Mt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new aj(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||lt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function Ote(n,e,t,i){return YT.apply(this,arguments)}(e.localStore,new aj(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Nte(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function lj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cj{constructor(e){this.key=e}}class uj{constructor(e){this.key=e}}class dj{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=lt(),this.mutatedKeys=lt(),this._a=xB(e),this.aa=new cf(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new sj,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{const g=r.get(h),y=Ag(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;g&&y?g.data.isEqual(y.data)?b!==w&&(i.track({type:3,doc:y}),C=!0):this.ha(g,y)||(i.track({type:2,doc:y}),C=!0,(l&&this._a(y,l)>0||u&&this._a(y,u)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),C=!0):g&&!y&&(i.track({type:1,doc:g}),C=!0,(l||u)&&(a=!0)),C&&(y?(s=s.add(y),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((h,m)=>function(y,b){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return w(y)-w(b)}(h.type,m.type)||this._a(h.doc,m.doc)),this.Pa(i),r=null!=r&&r;const a=t&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,u=l!==this.sa;return this.sa=l,0!==s.length||u?{snapshot:new uf(this.query,e.aa,o,s,e.mutatedKeys,0===l,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new sj,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=lt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new uj(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new cj(i))}),t}da(e){this.ia=e.ls,this.oa=lt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return uf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ane{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lne{constructor(e){this.key=e,this.Ra=!1}}class cne{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new wa(a=>IB(a),Tg),this.fa=new Map,this.ga=new Set,this.pa=new mn(ve.comparator),this.ya=new Map,this.wa=new jT,this.Sa={},this.ba=new Map,this.Da=wu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function une(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,te.Z)(function*(n,e){const t=QA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield tf(t.localStore,Ar(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield SA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&z0(t.remoteStore,s)}return r}),AA.apply(this,arguments)}function SA(n,e,t,i,r){return MA.apply(this,arguments)}function MA(){return MA=(0,te.Z)(function*(n,e,t,i,r){n.va=(m,g,y)=>{return(b=(0,te.Z)(function*(C,k,M,V){let ee=k.view.ca(M);ee.Zi&&(ee=yield L0(C.localStore,k.query,!1).then(({documents:$t})=>k.view.ca($t,ee)));const pe=V&&V.targetChanges.get(k.targetId),Ne=V&&null!=V.targetMismatches.get(k.targetId),Ye=k.view.applyChanges(ee,C.isPrimaryClient,pe,Ne);return UA(C,k.targetId,Ye.Ta),Ye.snapshot}),function w(C,k,M,V){return b.apply(this,arguments)})(n,m,g,y);var b};const o=yield L0(n.localStore,e,!0),s=new dj(e,o.ls),a=s.ca(o.documents),l=Ng.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),u=s.applyChanges(a,n.isPrimaryClient,l);UA(n,t,u.Ta);const h=new ane(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),MA.apply(this,arguments)}function dne(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,te.Z)(function*(n,e){const t=_e(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Tg(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Kg(t.remoteStore,i.targetId),df(t,i.targetId)}).catch(Tl))):(df(t,i.targetId),yield nf(t.localStore,i.targetId,!0))}),RA.apply(this,arguments)}function PA(){return PA=(0,te.Z)(function*(n,e,t){const i=XA(n);try{const r=yield function(s,a){const l=_e(s),u=Pn.now(),h=a.reduce((y,b)=>y.add(b.key),lt());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Hr(),w=lt();return l.ss.getEntries(y,h).next(C=>{b=C,b.forEach((k,M)=>{M.isValidDocument()||(w=w.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(C=>{m=C;const k=[];for(const M of a){const V=jee(M,m.get(M.key).overlayedDocument);null!=V&&k.push(new Ea(M.key,V,cB(V.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,k,a)}).next(C=>{g=C;const k=C.applyToLocalDocumentSet(m,w);return l.documentOverlayCache.saveOverlays(y,C.batchId,k)})}).then(()=>({batchId:g.batchId,changes:AB(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let u=s.Sa[s.currentUser.toKey()];u||(u=new mn(Xe)),u=u.insert(a,l),s.Sa[s.currentUser.toKey()]=u}(i,r.batchId,t),yield Ia(i,r.changes),yield sf(i.remoteStore)}catch(r){const o=lf(r,"Failed to persist write");t.reject(o)}}),PA.apply(this,arguments)}function hj(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,te.Z)(function*(n,e){const t=_e(n);try{const i=yield function Pte(n,e){const t=_e(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,m)=>{const g=r.get(m);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,m).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,m)));let y=g.withSequenceNumber(o.currentSequenceNumber);var w,C,k;null!==e.targetMismatches.get(m)?y=y.withResumeToken(Ei.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(m,y),C=y,k=h,(0===(w=g).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,y))});let l=Hr(),u=lt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($U(o,s,e.documentUpdates).next(h=>{l=h.us,u=h.cs})),!i.isEqual(Le.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(m=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Oe(s.Ra):r.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield Ia(t,i,e)}catch(i){yield Tl(i)}}),kA.apply(this,arguments)}function fj(n,e,t){const i=_e(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=_e(s);l.onlineState=a;let u=!1;l.queries.forEach((h,m)=>{for(const g of m.listeners)g.Q_(a)&&(u=!0)}),u&&xA(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function fne(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,te.Z)(function*(n,e,t){const i=_e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new mn(ve.comparator);s=s.insert(o,xn.newNoDocument(o,Le.min()));const a=lt().add(o),l=new Og(Le.min(),new Map,new mn(Xe),s,a);yield hj(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),jA(i)}else yield nf(i.localStore,e,!1).then(()=>df(i,e,t)).catch(Tl)}),OA.apply(this,arguments)}function pne(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,te.Z)(function*(n,e){const t=_e(n),i=e.batch.batchId;try{const r=yield function Rte(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const m=u.batch,g=m.keys();let y=L.resolve();return g.forEach(b=>{y=y.next(()=>h.getEntry(l,b)).next(w=>{const C=u.docVersions.get(b);Oe(null!==C),w.version.compareTo(C)<0&&(m.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=lt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);BA(t,i,null),VA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ia(t,r)}catch(r){yield Tl(r)}}),NA.apply(this,arguments)}function mne(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,te.Z)(function*(n,e,t){const i=_e(n);try{const r=yield function(s,a){const l=_e(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(m=>(Oe(null!==m),h=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(i.localStore,e);BA(i,e,t),VA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ia(i,r)}catch(r){yield Tl(r)}}),FA.apply(this,arguments)}function LA(){return LA=(0,te.Z)(function*(n,e){const t=_e(n);Ul(t.remoteStore)||ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=_e(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=lf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),LA.apply(this,arguments)}function VA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function BA(n,e,t){const i=_e(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function df(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||pj(n,i)})}function pj(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Kg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),jA(n))}function UA(n,e,t){for(const i of t)i instanceof cj?(n.wa.addReference(i.key,e),_ne(n,i)):i instanceof uj?(ce("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||pj(n,i.key)):De()}function _ne(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(ce("SyncEngine","New document in limbo: "+t),n.ga.add(i),jA(n))}function jA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ve(Mt.fromString(e)),i=n.Da.next();n.ya.set(i,new lne(t)),n.pa=n.pa.insert(t,i),z0(n.remoteStore,new Ca(Ar(zh(t.path)),i,"TargetPurposeLimboResolution",ro._e))}}function Ia(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,te.Z)(function*(n,e,t){const i=_e(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(u=>{if((u||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){r.push(u);const h=GT.Qi(l.targetId,u);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,te.Z)(function*(u,h){const m=_e(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,y=>L.forEach(y.ki,b=>m.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>L.forEach(y.qi,b=>m.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!Al(g))throw g;ce("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=m.ts.get(y),C=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);m.ts=m.ts.insert(y,C)}}}),function l(u,h){return a.apply(this,arguments)})(i.localStore,o))}),zA.apply(this,arguments)}function yne(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,te.Z)(function*(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=yield zU(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ae($.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ia(t,i._s)}var o}),HA.apply(this,arguments)}function vne(n,e){const t=_e(n),i=t.ya.get(e);if(i&&i.Ra)return lt().add(i.key);{let r=lt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function bne(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,te.Z)(function*(n,e){const t=_e(n),i=yield L0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&UA(t,e.targetId,r.Ta),r}),$A.apply(this,arguments)}function wne(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,te.Z)(function*(n,e){const t=_e(n);return GU(t.localStore,e).then(i=>Ia(t,i))}),qA.apply(this,arguments)}function Ene(n,e,t,i){return GA.apply(this,arguments)}function GA(){return GA=(0,te.Z)(function*(n,e,t,i){const r=_e(n),o=yield function(a,l){const u=_e(a),h=_e(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Cn(m,l).next(g=>g?u.localDocuments.getDocuments(m,g):L.resolve(null)))}(r.localStore,e);var l;null!==o?("pending"===t?yield sf(r.remoteStore):"acknowledged"===t||"rejected"===t?(BA(r,e,i||null),VA(r,e),l=e,_e(_e(r.localStore).mutationQueue).Fn(l)):De(),yield Ia(r,o)):ce("SyncEngine","Cannot apply mutation batch with id: "+e)}),GA.apply(this,arguments)}function WA(){return WA=(0,te.Z)(function*(n,e){const t=_e(n);if(QA(t),XA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield mj(t,i.toArray());t.Ca=!0,yield vA(t.remoteStore,!0);for(const o of r)z0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(df(t,s),nf(t.localStore,s,!0))),Kg(t.remoteStore,s)}),yield r,yield mj(t,i),function(s){const a=_e(s);a.ya.forEach((l,u)=>{Kg(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new mn(ve.comparator)}(t),t.Ca=!1,yield vA(t.remoteStore,!1)}}),WA.apply(this,arguments)}function mj(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,te.Z)(function*(n,e,t){const i=_e(n),r=[],o=[];for(const s of e){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield tf(i.localStore,Ar(l[0]));for(const u of l){const h=i.ma.get(u),m=yield bne(i,h);m.snapshot&&o.push(m.snapshot)}}else{const u=yield qU(i.localStore,s);a=yield tf(i.localStore,u),yield SA(i,gj(u),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),KA.apply(this,arguments)}function gj(n){return wB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ine(n){return t=_e(n).localStore,_e(_e(t).persistence).Bi();var t}function Dne(n,e,t,i){return YA.apply(this,arguments)}function YA(){return YA=(0,te.Z)(function*(n,e,t,i){const r=_e(n);if(r.Ca)return void ce("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield GU(r.localStore,DB(o[0])),a=Og.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield Ia(r,s,a);break}case"rejected":yield nf(r.localStore,e,!0),df(r,e,i);break;default:De()}}),YA.apply(this,arguments)}function xne(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,te.Z)(function*(n,e,t){const i=QA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){ce("SyncEngine","Adding an already active target "+r);continue}const o=yield qU(i.localStore,r),s=yield tf(i.localStore,o);yield SA(i,gj(o),s.targetId,!1,s.resumeToken),z0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield nf(i.localStore,r,!1).then(()=>{Kg(i.remoteStore,r),df(i,r)}).catch(Tl))}}),ZA.apply(this,arguments)}function QA(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fne.bind(null,e),e.Va.a_=ine.bind(null,e.eventManager),e.Va.Fa=rne.bind(null,e.eventManager),e}function XA(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mne.bind(null,e),e}class Yg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.serializer=Gg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return jU(this.persistence,new UU,e.initialUser,this.serializer)}createPersistence(e){return new zT(O0.jr,this.serializer)}createSharedClientState(e){return new ZU}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JA extends Yg{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,te.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield XA(i.xa.syncEngine),yield sf(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jU(this.persistence,new UU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new RU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new JJ(t,this.persistence);return new XJ(e.asyncQueue,i)}createPersistence(e){const t=qT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new $T(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,XU(),j0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ZU}}class _j extends JA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,te.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof eA&&(i.sharedClientState.syncEngine={Ys:Ene.bind(null,r),Zs:Dne.bind(null,r),Xs:xne.bind(null,r),Bi:Ine.bind(null,r),Js:wne.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,te.Z)(function*(s){yield function Cne(n,e){return WA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=XU();if(!eA.D(t))throw new ae($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class hf{initialize(e,t){var i=this;return(0,te.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=yne.bind(null,i.syncEngine),yield vA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nne}createDatastore(e){const t=Gg(e.databaseInfo.databaseId),i=new Bte(e.databaseInfo);return new zte(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>fj(this.syncEngine,t,0),a=QU.D()?new QU:new Fte,new qte(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,u,h){const m=new cne(r,o,s,a,l,u);return h&&(m.Ca=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(i){const r=_e(i);ce("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield rf(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function yj(n,e=10240){let t=0;return{read:()=>(0,te.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Sne{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,te.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new one(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,te.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,te.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Mne{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ae($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,te.Z)(function*(s,a){const l=_e(s),u=Lg(l.serializer)+"/documents",h={documents:a.map(b=>Fg(l.serializer,b))},m=yield l.Co("BatchGetDocuments",u,h,a.length),g=new Map;m.forEach(b=>{const w=function Qee(n,e){return"found"in e?function(i,r){Oe(!!r.found);const o=js(i,r.found.name),s=Qn(r.found.updateTime),a=r.found.createTime?Qn(r.found.createTime):Le.min(),l=new qi({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(o,s,a,l)}(n,e):"missing"in e?function(i,r){Oe(!!r.missing),Oe(!!r.readTime);const o=js(i,r.missing),s=Qn(r.readTime);return xn.newNoDocument(o,s)}(n,e):De()}(l.serializer,b);g.set(w.key.toString(),w)});const y=[];return a.forEach(b=>{const w=g.get(b.toString());Oe(!!w),y.push(w)}),y}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ve.fromPath(r);e.mutations.push(new IT(o,e.precondition(o)))}),yield(i=(0,te.Z)(function*(o,s){const a=_e(o),l=Lg(a.serializer)+"/documents",u={writes:s.map(h=>Vg(a.serializer,h))};yield a.wo("Commit",l,u)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw De();t=Le.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ae($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Le.min())?kn.exists(!1):kn.updateTime(t):kn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Le.min()))throw new ae($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kn.updateTime(t)}return kn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rne{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new nA(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,te.Z)(function*(){const t=new Mne(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!vg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!HB(t)}return!1}}class Pne{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Mi.UNAUTHENTICATED,this.clientId=B2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,te.Z)(function*(a){ce("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=lf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function q0(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,te.Z)(function*(o){i.isEqual(o)||(yield zU(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),eS.apply(this,arguments)}function tS(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iS(n);ce("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>oj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>oj(e.remoteStore,o)),n._onlineComponents=e}),nS.apply(this,arguments)}function vj(n){return"FirebaseError"===n.name?n.code===$.FAILED_PRECONDITION||n.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function iS(n){return rS.apply(this,arguments)}function rS(){return rS=(0,te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield q0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!vj(t))throw t;jr("Error using user provided cache. Falling back to memory cache: "+t),yield q0(n,new Yg)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),yield q0(n,new Yg);return n._offlineComponents}),rS.apply(this,arguments)}function G0(n){return oS.apply(this,arguments)}function oS(){return oS=(0,te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield tS(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),yield tS(n,new hf))),n._onlineComponents}),oS.apply(this,arguments)}function bj(n){return iS(n).then(e=>e.persistence)}function ff(n){return iS(n).then(e=>e.localStore)}function wj(n){return G0(n).then(e=>e.remoteStore)}function sS(n){return G0(n).then(e=>e.syncEngine)}function pf(n){return aS.apply(this,arguments)}function aS(){return aS=(0,te.Z)(function*(n){const e=yield G0(n),t=e.eventManager;return t.onListen=une.bind(null,e.syncEngine),t.onUnlisten=dne.bind(null,e.syncEngine),t}),aS.apply(this,arguments)}function Cj(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,s,a,l,u){const h=new $0({next:g=>{s.enqueueAndForget(()=>IA(o,m));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?u.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new TA(zh(a.path),h,{includeMetadataChanges:!0,J_:!0});return EA(o,m)}(yield pf(n),n.asyncQueue,e,t,i)})),i.promise}function Ij(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,s,a,l,u){const h=new $0({next:g=>{s.enqueueAndForget(()=>IA(o,m)),g.fromCache&&"server"===l.source?u.reject(new ae($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new TA(a,h,{includeMetadataChanges:!0,J_:!0});return EA(o,m)}(yield pf(n),n.asyncQueue,e,t,i)})),i.promise}function Dj(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const xj=new Map;function lS(n,e,t){if(!t)throw new ae($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Tj(n,e,t,i){if(!0===e&&!0===i)throw new ae($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Aj(n){if(!ve.isDocumentKey(n))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sj(n){if(ve.isDocumentKey(n))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function W0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":De()}function wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=W0(n);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mj(n,e){if(e<=0)throw new ae($.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Rj{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dj(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rj(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new UJ;switch(i.type){case"firstParty":return new $J(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=xj.get(t);i&&(ce("ComponentProvider","Removing Datastore"),xj.delete(t),i.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class zs extends Gi{constructor(e,t,i){super(e,t,zh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ve(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function kj(n,e,...t){if(n=(0,sn.m9)(n),lS("collection","path",e),n instanceof Zg){const i=Mt.fromString(e,...t);return Sj(i),new zs(n,null,i)}{if(!(n instanceof Tn||n instanceof zs))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return Sj(i),new zs(n.firestore,null,i)}}function K0(n,e,...t){if(n=(0,sn.m9)(n),1===arguments.length&&(e=B2.newId()),lS("doc","path",e),n instanceof Zg){const i=Mt.fromString(e,...t);return Aj(i),new Tn(n,null,new ve(i))}{if(!(n instanceof Tn||n instanceof zs))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return Aj(i),new Tn(n.firestore,n instanceof zs?n.converter:null,new ve(i))}}function Oj(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),(n instanceof Tn||n instanceof zs)&&(e instanceof Tn||e instanceof zs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cS(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),n instanceof Gi&&e instanceof Gi&&n.firestore===e.firestore&&Tg(n._query,e._query)&&n.converter===e.converter}class $ne{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new nA(this,"async_queue_retry"),this.iu=()=>{const t=j0();t&&ce("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=j0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=j0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,te.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Al(t))throw t;ce("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Zn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=wA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function uS(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class qne{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gn extends Zg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new $ne,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nj(this),this._firestoreClient.terminate()}}function qn(n){return n._firestoreClient||Nj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Nj(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bee(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Dj(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new Pne(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function Fj(n,e,t){const i=new wi;return n.asyncQueue.enqueue((0,te.Z)(function*(){try{yield q0(n,t),yield tS(n,e),i.resolve()}catch(r){const o=r;if(!vj(o))throw o;jr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function Lj(n){if(n._initialized||n._terminated)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(Ei.fromBase64String(e))}catch(t){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hs(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Da{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cu{constructor(e){this._methodName=e}}class Y0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}const nie=/^__.*__$/;class iie{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wh(e,this.data,t,this.fieldTransforms)}}class Vj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Z0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return J0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Bj(this.Iu)&&nie.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class rie{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Gg(e)}pu(e,t,i,r=!1){return new Z0({Iu:e,methodName:t,gu:i,path:Dn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(n){const e=n._freezeSettings(),t=Gg(n._databaseId);return new rie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Q0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);pS("Data must be an object, but it was:",s,i);const a=zj(i,s);let l,u;if(o.merge)l=new zr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const g=Jg(e,m,t);if(!s.contains(g))throw new ae($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$j(h,g)||h.push(g)}l=new zr(h),u=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=s.fieldTransforms;return new iie(new qi(a),l,u)}class Xg extends Cu{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xg}}function Uj(n,e,t){return new Z0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dS extends Cu{_toFieldTransform(e){return new Rg(e.path,new qh)}isEqual(e){return e instanceof dS}}class oie extends Cu{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Uj(this,e,!0),i=this.yu.map(o=>Du(o,t)),r=new pu(i);return new Rg(e.path,r)}isEqual(e){return this===e}}class sie extends Cu{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Uj(this,e,!0),i=this.yu.map(o=>Du(o,t)),r=new mu(i);return new Rg(e.path,r)}isEqual(e){return this===e}}class aie extends Cu{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Gh(e.serializer,PB(e.serializer,this.wu));return new Rg(e.path,t)}isEqual(e){return this===e}}function hS(n,e,t,i){const r=n.pu(1,e,t);pS("Data must be an object, but it was:",r,i);const o=[],s=qi.empty();Sl(i,(l,u)=>{const h=X0(e,l,t);u=(0,sn.m9)(u);const m=r.Ru(h);if(u instanceof Xg)o.push(h);else{const g=Du(u,m);null!=g&&(o.push(h),s.set(h,g))}});const a=new zr(o);return new Vj(s,a,r.fieldTransforms)}function fS(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[Jg(e,i,t)],l=[r];if(o.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Jg(e,o[g])),l.push(o[g+1]);const u=[],h=qi.empty();for(let g=a.length-1;g>=0;--g)if(!$j(u,a[g])){const y=a[g];let b=l[g];b=(0,sn.m9)(b);const w=s.Ru(y);if(b instanceof Xg)u.push(y);else{const C=Du(b,w);null!=C&&(u.push(y),h.set(y,C))}}const m=new zr(u);return new Vj(h,m,s.fieldTransforms)}function jj(n,e,t,i=!1){return Du(t,n.pu(i?4:3,e))}function Du(n,e){if(Hj(n=(0,sn.m9)(n)))return pS("Unsupported field value:",e,n),zj(n,e);if(n instanceof Cu)return function(i,r){if(!Bj(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Du(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,sn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return PB(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Pn.fromDate(i);return{timestampValue:Yh(r.serializer,o)}}if(i instanceof Pn){const o=new Pn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yh(r.serializer,o)}}if(i instanceof Y0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hs)return{bytesValue:JB(r.serializer,i._byteString)};if(i instanceof Tn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MT(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${W0(i)}`)}(n,e)}function zj(n,e){const t={};return eB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(n,(i,r)=>{const o=Du(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function Hj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof Y0||n instanceof Hs||n instanceof Tn||n instanceof Cu)}function pS(n,e,t){if(!Hj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=W0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Jg(n,e,t){if((e=(0,sn.m9)(e))instanceof Da)return e._internalPath;if("string"==typeof e)return X0(n,e);throw J0("Field path arguments must be of type string or ",n,!1,void 0,t)}const lie=new RegExp("[~\\*/\\[\\]]");function X0(n,e,t){if(e.search(lie)>=0)throw J0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Da(...e.split("."))._internalPath}catch{throw J0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function J0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ae($.INVALID_ARGUMENT,a+n+l)}function $j(n,e){return n.some(t=>t.isEqual(e))}class e_{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ew("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cie extends e_{data(){return super.data()}}function ew(n,e){return"string"==typeof e?X0(n,e):e instanceof Da?e._internalPath:e._delegate._internalPath}function qj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mS{}class t_ extends mS{}function zl(n,e,...t){let i=[];e instanceof mS&&i.push(e),i=i.concat(t),function(o){const s=o.filter(l=>l instanceof mf).length,a=o.filter(l=>l instanceof n_).length;if(s>1||s>0&&a>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class n_ extends t_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n_(e,t,i)}_apply(e){const t=this._parse(e);return Yj(e._query,t),new Gi(e.firestore,e.converter,ET(e._query,t))}_parse(e){const t=Iu(e.firestore);return function(o,s,a,l,u,h,m){let g;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){Kj(m,h);const y=[];for(const b of m)y.push(Wj(l,o,b));g={arrayValue:{values:y}}}else g=Wj(l,o,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||Kj(m,h),g=jj(a,"where",m,"in"===h||"not-in"===h);return Dt.create(u,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class mf extends mS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Kt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)Yj(s,l),s=ET(s,l)}(e._query,t),new Gi(e.firestore,e.converter,ET(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gS extends t_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gS(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dg(o,s)}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new ba(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class tw extends t_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new tw(e,t,i)}_apply(e){return new Gi(e.firestore,e.converter,w0(e._query,this._limit,this._limitType))}}class nw extends t_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new nw(e,t,i)}_apply(e){const t=Gj(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(o=t,new ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class iw extends t_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new iw(e,t,i)}_apply(e){const t=Gj(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(o=t,new ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Gj(n,e,t,i){if(t[0]=(0,sn.m9)(t[0]),t[0]instanceof e_)return function(o,s,a,l,u){if(!l)throw new ae($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of Hh(o))if(m.field.isKeyField())h.push(hu(s,l.key));else{const g=l.data.field(m.field);if(p0(g))throw new ae($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=m.field.canonicalString();throw new ae($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new Nl(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Iu(n.firestore);return function(s,a,l,u,h,m){const g=s.explicitOrderBy;if(h.length>g.length)throw new ae($.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new ae($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!wT(s)&&-1!==w.indexOf("/"))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const C=s.path.child(Mt.fromString(w));if(!ve.isDocumentKey(C))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const k=new ve(C);y.push(hu(a,k))}else{const C=jj(l,u,w);y.push(C)}}return new Nl(y,m)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Wj(n,e,t){if("string"==typeof(t=(0,sn.m9)(t))){if(""===t)throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(e)&&-1!==t.indexOf("/"))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!ve.isDocumentKey(i))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hu(n,new ve(i))}if(t instanceof Tn)return hu(n,t._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W0(t)}.`)}function Kj(n,e){if(!Array.isArray(n)||0===n.length)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yj(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ae($.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _S{convertValue(e,t="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Sl(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Y0($n(e.latitude),$n(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=m0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wg(e));default:return null}}convertTimestamp(e){const t=Ml(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);Oe(cU(i));const r=new Rl(i.get(1),i.get(3)),o=new ve(i.popFirst(5));return r.isEqual(t)||Zn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function rw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class yie extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}class xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends e_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new i_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ew("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class i_ extends xa{data(e={}){return super.data(e)}}class Hl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new i_(this._firestore,this._userDataWriter,i.key,i,new xu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new i_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new xu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new i_(r._firestore,r._userDataWriter,a.doc.key,a.doc,new xu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:bie(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}function Qj(n,e){return n instanceof xa&&e instanceof xa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hl&&e instanceof Hl&&n._firestore===e._firestore&&cS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class $l extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function Xj(n,e,t){n=wt(n,Tn);const i=wt(n.firestore,gn),r=rw(n.converter,e,t);return gf(i,[Q0(Iu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,kn.none())])}function Jj(n,e,t,...i){n=wt(n,Tn);const r=wt(n.firestore,gn),o=Iu(r);let s;return s="string"==typeof(e=(0,sn.m9)(e))||e instanceof Da?fS(o,"updateDoc",n._key,e,t,i):hS(o,"updateDoc",n._key,e),gf(r,[s.toMutation(n._key,kn.exists(!0))])}function ez(n,...e){var t,i,r;n=(0,sn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||uS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(uS(e[s])){const m=e[s];e[s]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[s+1]=null===(i=m.error)||void 0===i?void 0:i.bind(m),e[s+2]=null===(r=m.complete)||void 0===r?void 0:r.bind(m)}let l,u,h;if(n instanceof Tn)u=wt(n.firestore,gn),h=zh(n._key.path),l={next:m=>{e[s]&&e[s](yS(u,n,m))},error:e[s+1],complete:e[s+2]};else{const m=wt(n,Gi);u=wt(m.firestore,gn),h=m._query;const g=new $l(u);l={next:y=>{e[s]&&e[s](new Hl(u,g,m,y))},error:e[s+1],complete:e[s+2]},qj(n._query)}return function(g,y,b,w){const C=new $0(w),k=new TA(y,C,b);return g.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return EA(yield pf(g),k)})),()=>{C.Na(),g.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return IA(yield pf(g),k)}))}}(qn(u),h,a,l)}function gf(n,e){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function hne(n,e,t){return PA.apply(this,arguments)}(yield sS(i),r,o)})),o.promise}(qn(n),e)}function yS(n,e,t){const i=t.docs.get(e._key),r=new $l(n);return new xa(n,r,e._key,i,new xu(t.hasPendingWrites,t.fromCache),e.converter)}const Vie={maxAttempts:5};class tz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Iu(e)}set(e,t,i){this._verifyNotCommitted();const r=ql(e,this._firestore),o=rw(r.converter,t,i),s=Q0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,kn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=ql(e,this._firestore);let s;return s="string"==typeof(t=(0,sn.m9)(t))||t instanceof Da?fS(this._dataReader,"WriteBatch.update",o._key,t,i,r):hS(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,kn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ql(e,this._firestore);return this._mutations=this._mutations.concat(new Kh(t._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ql(n,e){if((n=(0,sn.m9)(n)).firestore!==e)throw new ae($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bie extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Iu(t)}get(t){const i=ql(t,this._firestore),r=new yie(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return De();const s=o[0];if(s.isFoundDocument())return new e_(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new e_(this._firestore,r,i._key,null,i.converter);throw De()})}set(t,i,r){const o=ql(t,this._firestore),s=rw(o.converter,i,r),a=Q0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=ql(t,this._firestore);let a;return a="string"==typeof(i=(0,sn.m9)(i))||i instanceof Da?fS(this._dataReader,"Transaction.update",s._key,i,r,o):hS(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=ql(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ql(e,this._firestore),i=new $l(this._firestore);return super.get(e).then(r=>new xa(this._firestore,i,t._key,r._document,new xu(!1,!1),t.converter))}}function bS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oz(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function sz(){if(!function yee(){return typeof atob<"u"}())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Oh=Ih.SDK_VERSION,(0,Ih._registerComponent)(new _V.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new gn(new zJ(i.getProvider("auth-internal")),new qJ(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ih.registerVersion)(F2,"4.4.0",e),(0,Ih.registerVersion)(F2,"4.4.0","esm2017")}();class r_{constructor(e){this._delegate=e}static fromBase64String(e){return sz(),new r_(Hs.fromBase64String(e))}static fromUint8Array(e){return oz(),new r_(Hs.fromUint8Array(e))}toBase64(){return sz(),this._delegate.toBase64()}toUint8Array(){return oz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wS(n){return function Yie(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Zie{enableIndexedDbPersistence(e,t){return function Wne(n,e){Lj(n=wt(n,gn));const t=qn(n);if(t._uninitializedComponentsProvider)throw new ae($.FAILED_PRECONDITION,"SDK cache is already specified.");jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new hf;return Fj(t,r,new JA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Kne(n){Lj(n=wt(n,gn));const e=qn(n);if(e._uninitializedComponentsProvider)throw new ae($.FAILED_PRECONDITION,"SDK cache is already specified.");jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new hf;return Fj(e,i,new _j(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Yne(n){if(n._initialized&&!n._terminated)throw new ae($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(t=(0,te.Z)(function*(r){if(!ts.D())return Promise.resolve();const o=r+"main";yield ts.delete(o)}),function i(r){return t.apply(this,arguments)})(qT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class az{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Pj(n,e,t,i={}){var r;const o=(n=wt(n,Zg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Mi.MOCK_USER;else{a=(0,sn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mi(u)}n._authCredentials=new jJ(new L2(a,l))}}(this._delegate,e,t,i)}enableNetwork(){return function Qne(n){return function kne(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield bj(n),t=yield wj(n);return e.setNetworkEnabled(!0),function(r){const o=_e(r);return o.C_.delete(0),Wg(o)}(t)}))}(qn(n=wt(n,gn)))}(this._delegate)}disableNetwork(){return function Xne(n){return function One(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield bj(n),t=yield wj(n);return e.setNetworkEnabled(!1),(i=(0,te.Z)(function*(o){const s=_e(o);s.C_.add(0),yield rf(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(qn(n=wt(n,gn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Tj("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Zne(n){return function(t){const i=new wi;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function gne(n,e){return LA.apply(this,arguments)}(yield sS(t),i)})),i.promise}(qn(n=wt(n,gn)))}(this._delegate)}onSnapshotsInSync(e){return function Sie(n,e){return function Lne(n,e){const t=new $0(e);return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield pf(n),o=t,_e(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield pf(n),o=t,void _e(r).q_.delete(o);var r,o}))}}(qn(n=wt(n,gn)),uS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _f(this,kj(this._delegate,e))}catch(t){throw Sr(t,"collection()","Firestore.collection()")}}doc(e){try{return new ko(this,K0(this._delegate,e))}catch(t){throw Sr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mr(this,function Hne(n,e){if(n=wt(n,Zg),lS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gi(n,null,(i=e,new ba(Mt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Sr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Uie(n,e,t){n=wt(n,gn);const i=Object.assign(Object.assign({},Vie),t);return function(o){if(o.maxAttempts<1)throw new ae($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new wi;return o.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const u=yield function Ej(n){return G0(n).then(e=>e.datastore)}(o);new Rne(o.asyncQueue,u,a,s,l).run()})),l.promise}(qn(n),r=>e(new Bie(n,r)),i)}(this._delegate,t=>e(new lz(this,t)))}batch(){return qn(this._delegate),new cz(new tz(this._delegate,e=>gf(this._delegate,e)))}loadBundle(e){return function Jne(n,e){const t=qn(n=wt(n,gn)),i=new qne;return function Vne(n,e,t,i){const r=function(s,a){let l;return l="string"==typeof s?qB().encode(s):s,h=function(h,m){if(h instanceof Uint8Array)return yj(h,m);if(h instanceof ArrayBuffer)return yj(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Sne(h,a);var h}(t,Gg(e));n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function Tne(n,e,t){const i=_e(n);var r;(r=(0,te.Z)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(b,w){const C=_e(b),k=Qn(w.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",M=>C.Kr.getBundleMetadata(M,w.id)).then(M=>!!M&&M.createTime.compareTo(k)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(lj(u));const h=new sne(u,s.localStore,a.serializer);let m=yield a.Ma();for(;m;){const y=yield h.ea(m);y&&l._updateProgress(y),m=yield a.Ma()}const g=yield h.complete();return yield Ia(s,g.ra,void 0),yield function(b,w){const C=_e(b);return C.persistence.runTransaction("Save bundle","readwrite",k=>C.Kr.saveBundleMetadata(k,w))}(s.localStore,u),l._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return jr("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var b}),function o(s,a,l){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield sS(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function eie(n,e){return function Bne(n,e){return n.asyncQueue.enqueue((0,te.Z)(function*(){return function(i,r){const o=_e(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield ff(n),e)}))}(qn(n=wt(n,gn)),e).then(t=>t?new Gi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Mr(this,t):null)}}class sw extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new r_(new Hs(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ko.forKey(t,this.firestore,null)}}class lz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sw(e)}get(e){const t=Au(e);return this._delegate.get(t).then(i=>new o_(this._firestore,new xa(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Au(e);return i?(bS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Au(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Au(e);return this._delegate.delete(t),this}}class cz{constructor(e){this._delegate=e}set(e,t,i){const r=Au(e);return i?(bS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Au(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Au(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tu{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new i_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new s_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Tu.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Tu(e,new sw(e),t),r.set(t,o)),o}}Tu.INSTANCES=new WeakMap;class ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sw(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ko(t,new Tn(t._delegate,i,new ve(e)))}static forKey(e,t,i){return new ko(t,new Tn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new _f(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _f(this.firestore,kj(this._delegate,e))}catch(t){throw Sr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,sn.m9)(e))instanceof Tn&&Oj(this._delegate,e)}set(e,t){t=bS("DocumentReference.set",t);try{return t?Xj(this._delegate,e,t):Xj(this._delegate,e)}catch(i){throw Sr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Jj(this._delegate,e):Jj(this._delegate,e,t,...i)}catch(r){throw Sr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Tie(n){return gf(wt(n.firestore,gn),[new Kh(n._key,kn.none())])}(this._delegate)}onSnapshot(...e){const t=uz(e),i=dz(e,r=>new o_(this.firestore,new xa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return ez(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Eie(n){n=wt(n,Tn);const e=wt(n.firestore,gn),t=qn(e),i=new $l(e);return function Nne(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(i=(0,te.Z)(function*(o,s,a){try{const l=yield function(h,m){const g=_e(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,m))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ae($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=lf(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function r(o,s,a){return i.apply(this,arguments)})(yield ff(n),e,t);var i})),t.promise}(t,n._key).then(r=>new xa(e,i,n._key,r,new xu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Cie(n){n=wt(n,Tn);const e=wt(n.firestore,gn);return Cj(qn(e),n._key,{source:"server"}).then(t=>yS(e,n,t))}(this._delegate):function wie(n){n=wt(n,Tn);const e=wt(n.firestore,gn);return Cj(qn(e),n._key).then(t=>yS(e,n,t))}(this._delegate),t.then(i=>new o_(this.firestore,new xa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ko(this.firestore,this._delegate.withConverter(e?Tu.getInstance(this.firestore,e):null))}}function Sr(n,e,t){return n.message=n.message.replace(e,t),n}function uz(n){for(const e of n)if("object"==typeof e&&!wS(e))return e;return{}}function dz(n,e){var t,i;let r;return r=wS(n[0])?n[0]:wS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class o_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ko(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qj(this._delegate,e._delegate)}}class s_ extends o_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function BJ(n,e){n||De()}(void 0!==t),t}}class Mr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sw(e)}where(e,t,i){try{return new Mr(this.firestore,zl(this._delegate,function uie(n,e,t){const i=e,r=ew("where",n);return n_._create(r,i,t)}(e,t,i)))}catch(r){throw Sr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mr(this.firestore,zl(this._delegate,function die(n,e="asc"){const t=e,i=ew("orderBy",n);return gS._create(i,t)}(e,t)))}catch(i){throw Sr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mr(this.firestore,zl(this._delegate,function hie(n){return Mj("limit",n),tw._create("limit",n,"F")}(e)))}catch(t){throw Sr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mr(this.firestore,zl(this._delegate,function fie(n){return Mj("limitToLast",n),tw._create("limitToLast",n,"L")}(e)))}catch(t){throw Sr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mr(this.firestore,zl(this._delegate,function pie(...n){return nw._create("startAt",n,!0)}(...e)))}catch(t){throw Sr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mr(this.firestore,zl(this._delegate,function mie(...n){return nw._create("startAfter",n,!1)}(...e)))}catch(t){throw Sr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mr(this.firestore,zl(this._delegate,function gie(...n){return iw._create("endBefore",n,!1)}(...e)))}catch(t){throw Sr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mr(this.firestore,zl(this._delegate,function _ie(...n){return iw._create("endAt",n,!0)}(...e)))}catch(t){throw Sr(t,"endAt()","Query.endAt()")}}isEqual(e){return cS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Die(n){n=wt(n,Gi);const e=wt(n.firestore,gn),t=qn(e),i=new $l(e);return function Fne(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(i=(0,te.Z)(function*(o,s,a){try{const l=yield L0(o,s,!0),u=new dj(s,l.ls),h=u.ca(l.documents),m=u.applyChanges(h,!1);a.resolve(m.snapshot)}catch(l){const u=lf(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function r(o,s,a){return i.apply(this,arguments)})(yield ff(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Hl(e,i,n,r))}(this._delegate):"server"===e?.source?function xie(n){n=wt(n,Gi);const e=wt(n.firestore,gn),t=qn(e),i=new $l(e);return Ij(t,n._query,{source:"server"}).then(r=>new Hl(e,i,n,r))}(this._delegate):function Iie(n){n=wt(n,Gi);const e=wt(n.firestore,gn),t=qn(e),i=new $l(e);return qj(n._query),Ij(t,n._query).then(r=>new Hl(e,i,n,r))}(this._delegate),t.then(i=>new ES(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=uz(e),i=dz(e,r=>new ES(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return ez(this._delegate,t,i)}withConverter(e){return new Mr(this.firestore,this._delegate.withConverter(e?Tu.getInstance(this.firestore,e):null))}}class Xie{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new s_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ES{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new s_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Xie(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new s_(this._firestore,i))})}isEqual(e){return Qj(this._delegate,e._delegate)}}class _f extends Mr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ko(this.firestore,e):null}doc(e){try{return new ko(this.firestore,void 0===e?K0(this._delegate):K0(this._delegate,e))}catch(t){throw Sr(t,"doc()","CollectionReference.doc()")}}add(e){return function Aie(n,e){const t=wt(n.firestore,gn),i=K0(n),r=rw(n.converter,e);return gf(t,[Q0(Iu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,kn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ko(this.firestore,t))}isEqual(e){return Oj(this._delegate,e._delegate)}withConverter(e){return new _f(this.firestore,this._delegate.withConverter(e?Tu.getInstance(this.firestore,e):null))}}function Au(n){return wt(n,Tn)}class CS{constructor(...e){this._delegate=new Da(...e)}static documentId(){return new CS(Dn.keyField().canonicalString())}isEqual(e){return(e=(0,sn.m9)(e))instanceof Da&&this._delegate._internalPath.isEqual(e._internalPath)}}class Su{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zie(){return new dS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Su(e)}static delete(){const e=function jie(){return new Xg("deleteField")}();return e._methodName="FieldValue.delete",new Su(e)}static arrayUnion(...e){const t=function Hie(...n){return new oie("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Su(t)}static arrayRemove(...e){const t=function $ie(...n){return new sie("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Su(t)}static increment(e){const t=function qie(n){return new aie("increment",n)}(e);return t._methodName="FieldValue.increment",new Su(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Jie={Firestore:az,GeoPoint:Y0,Timestamp:Pn,Blob:r_,Transaction:lz,WriteBatch:cz,DocumentReference:ko,DocumentSnapshot:o_,Query:Mr,QueryDocumentSnapshot:s_,QuerySnapshot:ES,CollectionReference:_f,FieldPath:CS,FieldValue:Su,setLogLevel:function Qie(n){!function VJ(n){xl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function hz(n,e){return function nre(n,e=Wm){return new ot(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function IS(n,e){return hz(n,e).pipe(Ce(t=>({payload:t,type:"query"})))}!function tre(n){(function ere(n,e){n.INTERNAL.registerComponent(new _V.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Jie)))})(n,(e,t)=>new az(e,t,new Zie)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(Cl.Z);class fz{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=vz(i,t);return new gz(r,o,this.afs)}snapshotChanges(){return function ire(n,e){return hz(n,e).pipe(yl(void 0),bx(),Ce(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return this.snapshotChanges().pipe(Ce(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return S(this.ref.get(e)).pipe(to)}}function aw(n,e){return IS(n,e).pipe(yl(void 0),bx(),Ce(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const u=o.find(m=>m.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(m=>m.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function pz(n,e,t){return aw(n,t).pipe(mb((i,r)=>function rre(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function ore(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return DS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),cn(),Ce(i=>i.map(r=>({type:r.type,payload:r}))))}function DS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function mz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gz{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=aw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Ce(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(yl(void 0),bx(),Ui(([i,r])=>r.length>0||!i),Ce(([,i])=>i),to)}auditTrail(e){return this.stateChanges(e).pipe(mb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mz(e);return pz(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return IS(this.query,this.afs.schedulers.outsideAngular).pipe(Ce(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),to)}get(e){return S(this.query.get(e)).pipe(to)}add(e){return this.ref.add(e)}doc(e){return new fz(this.ref.doc(e),this.afs)}}class sre{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aw(this.query,this.afs.schedulers.outsideAngular).pipe(Ce(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ui(t=>t.length>0),to):aw(this.query,this.afs.schedulers.outsideAngular).pipe(to)}auditTrail(e){return this.stateChanges(e).pipe(mb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mz(e);return pz(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return IS(this.query,this.afs.schedulers.outsideAngular).pipe(Ce(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),to)}get(e){return S(this.query.get(e)).pipe(to)}}const _z=new ie("angularfire2.enableFirestorePersistence"),yz=new ie("angularfire2.firestore.persistenceSettings"),are=new ie("angularfire2.firestore.settings"),lre=new ie("angularfire2.firestore.use-emulator");function vz(n,e=(t=>t)){return{query:e(n),ref:n}}let lw=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,l,u,h,m,g,y,b,w,C,k,M){this.schedulers=l;const V=yx(t,a,i),ee=h;m&&gV(V,a,g,b,w,C,y,k),[this.firestore,this.persistenceEnabled$]=aV(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const pe=a.runOutsideAngular(()=>V.firestore());if(o&&pe.settings(o),ee&&pe.useEmulator(...ee),r&&!rb(s)){const Ne=()=>{try{return S(pe.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Ye){return typeof console<"u"&&console.warn(Ye),q(!1)}};return[pe,a.runOutsideAngular(Ne)]}return[pe,q(!1)]},[o,ee,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=vz(r,i),a=this.schedulers.ngZone.run(()=>o);return new gz(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new sre(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new fz(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(O(Fb),O(Lb,8),O(_z,8),O(are,8),O(Go),O(Be),O(oV),O(yz,8),O(lre,8),O(vx,8),O(uV,8),O(dV,8),O(hV,8),O(fV,8),O(pV,8),O(mV,8),O(iV,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),cre=(()=>{class n{constructor(){Cl.Z.registerVersion("angularfire",_x.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:_z,useValue:!0},{provide:yz,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=It({type:n});static \u0275inj=Ct({providers:[lw]})}return n})(),Mu=(()=>{class n{constructor(t,i,r){this.fireauth=t,this.db=i,this.router=r,this.user$=this.fireauth.authState}getCurrentUser(){return this.fireauth.currentUser}login(t,i){this.fireauth.signInWithEmailAndPassword(t,i).then(r=>{const o=r.user?r.user.uid:null;o?this.getDoctorInfo(o).subscribe(s=>{this.router.navigate(s?["/doctor-dash"]:["/dashboard"])}):console.error("User ID is undefined")},r=>{alert("Something went wrong"),this.router.navigate(["/login"])})}register(t,i,r,o,s){return this.fireauth.createUserWithEmailAndPassword(o,s).then(a=>(a.user?.updateProfile({displayName:t}),this.db.collection("users").doc(a.user?.uid).set({Name:t,lastName:i,phoneNumber:r,email:o}))).then(()=>{this.router.navigate(["/login"])}).catch(a=>{switch(console.error("Registration failed:",a),a.code){case"auth/email-already-in-use":console.log("Email is already in use. Please choose another email.");break;case"auth/weak-password":console.log("Password is too weak. Please choose a stronger password.");break;case"auth/invalid-email":console.log("Invalid email address. Please enter a valid email.");break;default:console.log("An error occurred during registration.")}})}registerDoctor(t,i,r,o,s,a,l){return this.fireauth.createUserWithEmailAndPassword(s,l).then(u=>(u.user?.updateProfile({displayName:r}),this.db.collection("Doctors",h=>h.orderBy("Id","desc").limit(1)).get())).then(u=>{let h=0;u.subscribe(m=>{m.empty||(h=m.docs[0].get("Id"));const g=(++h).toString(),y={Category:t,Description:i,Email:s,PhoneNumber:a,LastName:o,Name:r,Id:g};return this.db.collection("Doctors").add(y)})}).then(()=>{this.router.navigate(["/login"])}).catch(u=>{switch(console.error("Doctor registration failed:",u),u.code){case"auth/email-already-in-use":alert("Email is already in use. Please choose another email.");break;case"auth/weak-password":alert("Password is too weak. Please choose a stronger password.");break;case"auth/invalid-email":alert("Invalid email address. Please enter a valid email.");break;default:alert("An error occurred during doctor registration.")}})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}getUserData(t){return this.db.collection("users").doc(t).valueChanges()}getDoctorInfo(t){return this.db.collection("Doctors").doc(t).valueChanges()}getUserName$(){return this.user$.pipe(pt(t=>t?this.getUserData(t.uid).pipe(pt(i=>q(i?i.Name:null))):q(null)))}getBookedDoctor$(){return this.user$.pipe(pt(t=>t?this.getUserData(t.uid).pipe(Ce(i=>i?.BookedDoctors||[])):q([])))}BookedDoctor(t,i){var r=this;return(0,te.Z)(function*(){try{const o=yield r.fireauth.currentUser;if(!o)return void console.error("User not authenticated");const s=o.uid,l=(yield function sX(n,e){const t="object"==typeof e;return new Promise((i,r)=>{const o=new Oi({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{t?i(e.defaultValue):r(new Sm)}});n.subscribe(o)})}(r.db.collection("users").doc(s).get())).get("BookedDoctors")||[];if(l.some(m=>m.date.isEqual(t)))return;const h={...i,date:t};l.push(h),yield r.db.collection("users").doc(s).update({BookedDoctors:l})}catch{}})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(vx),O(lw),O(Ur))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bz(...n){const e=Oa(n),{args:t,keys:i}=ZF(n),r=new ot(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let h=0;h<s;h++){let m=!1;On(t[h]).subscribe(be(o,g=>{m||(m=!0,u--),a[h]=g},()=>l--,void 0,()=>{(!l||!m)&&(u||o.next(i?QF(i,a):a),o.complete())}))}});return e?r.pipe(GD(e)):r}let wz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(aa),x(Tt))};static#t=this.\u0275dir=ge({type:n})}return n})(),Ru=(()=>{class n extends wz{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static#t=this.\u0275dir=ge({type:n,features:[_t]})}return n})();const oo=new ie("NgValueAccessor"),dre={provide:oo,useExisting:B(()=>Gl),multi:!0},fre=new ie("CompositionEventMode");let Gl=(()=>{class n extends wz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hre(){const n=fl()?fl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(aa),x(Tt),x(fre,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Re("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ot([dre]),_t]})}return n})();function Wl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Cz(n){return null!=n&&"number"==typeof n.length}const Ci=new ie("NgValidators"),Kl=new ie("NgAsyncValidators"),pre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cw{static min(e){return function Iz(n){return e=>{if(Wl(e.value)||Wl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Dz(n){return e=>{if(Wl(e.value)||Wl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return xz(e)}static requiredTrue(e){return function Tz(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Az(n){return Wl(n.value)||pre.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Sz(n){return e=>Wl(e.value)||!Cz(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Mz(n){return e=>Cz(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Rz(n){if(!n)return uw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Wl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Lz(e)}static composeAsync(e){return Vz(e)}}function xz(n){return Wl(n.value)?{required:!0}:null}function uw(n){return null}function Pz(n){return null!=n}function kz(n){return om(n)?S(n):n}function Oz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Nz(n,e){return e.map(t=>t(n))}function Fz(n){return n.map(e=>function mre(n){return!n.validate}(e)?e:t=>e.validate(t))}function Lz(n){if(!n)return null;const e=n.filter(Pz);return 0==e.length?null:function(t){return Oz(Nz(t,e))}}function xS(n){return null!=n?Lz(Fz(n)):null}function Vz(n){if(!n)return null;const e=n.filter(Pz);return 0==e.length?null:function(t){return bz(Nz(t,e).map(kz)).pipe(Ce(Oz))}}function TS(n){return null!=n?Vz(Fz(n)):null}function Bz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Uz(n){return n._rawValidators}function jz(n){return n._rawAsyncValidators}function AS(n){return n?Array.isArray(n)?n:[n]:[]}function dw(n,e){return Array.isArray(n)?n.includes(e):n===e}function zz(n,e){const t=AS(e);return AS(n).forEach(r=>{dw(t,r)||t.push(r)}),t}function Hz(n,e){return AS(e).filter(t=>!dw(n,t))}class $z{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dr extends $z{get formDirective(){return null}get path(){return null}}class Ta extends $z{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yf=(()=>{class n extends qz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ta,2))};static#t=this.\u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Cn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[_t]})}return n})(),a_=(()=>{class n extends qz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(dr,10))};static#t=this.\u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Cn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[_t]})}return n})();const l_="VALID",fw="INVALID",vf="PENDING",c_="DISABLED";function RS(n){return(pw(n)?n.validators:n)||null}function PS(n,e){return(pw(e)?e.asyncValidators:n)||null}function pw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Yz{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===l_}get invalid(){return this.status===fw}get pending(){return this.status==vf}get disabled(){return this.status===c_}get enabled(){return this.status!==c_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hz(e,this._rawAsyncValidators))}hasValidator(e){return dw(this._rawValidators,e)}hasAsyncValidator(e){return dw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=c_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=l_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===l_||this.status===vf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?c_:l_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vf,this._hasOwnPendingAsyncValidator=!0;const t=kz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?c_:this.errors?fw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vf)?vf:this._anyControlsHaveStatus(fw)?fw:l_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function vre(n){return Array.isArray(n)?xS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bre(n){return Array.isArray(n)?TS(n):n||null}(this._rawAsyncValidators)}}class mw extends Yz{constructor(e,t,i){super(RS(t),PS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Kz(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new F(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function Wz(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new F(1e3,"");if(!i[t])throw new F(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Pu=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>u_}),u_="always";function gw(n,e){return[...e.path,n]}function d_(n,e,t=u_){kS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Cre(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zz(n,e)})}(n,e),function Dre(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ire(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ere(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _w(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),vw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kS(n,e){const t=Uz(n);null!==e.validator?n.setValidators(Bz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=jz(n);null!==e.asyncValidator?n.setAsyncValidators(Bz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yw(e._rawValidators,r),yw(e._rawAsyncValidators,r)}function vw(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Uz(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=jz(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return yw(e._rawValidators,i),yw(e._rawAsyncValidators,i),t}function Zz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qz(n,e){kS(n,e)}function NS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Xz(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function FS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Gl?t=o:function Are(n){return Object.getPrototypeOf(n.constructor)===Ru}(o)?i=o:r=o}),r||i||t||null}const Mre={provide:dr,useExisting:B(()=>Aa)},h_=(()=>Promise.resolve())();let Aa=(()=>{class n extends dr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new mw({},xS(t),TS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){h_.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),d_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){h_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){h_.then(()=>{const i=this._findContainer(t.path),r=new mw({});Qz(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){h_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){h_.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Xz(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ci,10),x(Kl,10),x(Pu,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Re("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ot([Mre]),_t]})}return n})();function Jz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function e4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const bw=class extends Yz{constructor(e=null,t,i){super(RS(t),PS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=e4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){e4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},kre={provide:Ta,useExisting:B(()=>bf)},r4=(()=>Promise.resolve())();let bf=(()=>{class n extends Ta{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new bw,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=FS(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),NS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){d_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){r4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&dh(i);r4.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?gw(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(x(dr,9),x(Ci,10),x(Kl,10),x(oo,10),x(Br,8),x(Pu,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ot([kre]),_t,Ln]})}return n})(),ww=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),s4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})();const LS=new ie("NgModelWithFormControlWarning"),Bre={provide:dr,useExisting:B(()=>ku)};let ku=(()=>{class n extends dr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return d_(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){_w(t.control||null,t,!1),function Sre(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Xz(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(_w(i||null,t),(n=>n instanceof bw)(r)&&(d_(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Qz(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function xre(n,e){return vw(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kS(this.form,this),this._oldForm&&vw(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ci,10),x(Kl,10),x(Pu,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Re("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ot([Bre]),_t,Ln]})}return n})();const zre={provide:Ta,useExisting:B(()=>US)};let US=(()=>{class n extends Ta{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=FS(0,o)}ngOnChanges(t){this._added||this._setUpControl(),NS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(x(dr,13),x(Ci,10),x(Kl,10),x(oo,10),x(LS,8))};static#n=this.\u0275dir=ge({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ot([zre]),_t,Ln]})}return n})(),Ou=(()=>{class n{constructor(){this._validator=uw}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uw,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,features:[Ln]})}return n})();const Qre={provide:Ci,useExisting:B(()=>f_),multi:!0};let f_=(()=>{class n extends Ou{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=dh,this.createValidator=t=>xz}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static#t=this.\u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ot([Qre]),_t]})}return n})(),E4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[s4]})}return n})(),roe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pu,useValue:t.callSetDisabledState??u_}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[E4]})}return n})(),ooe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:LS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Pu,useValue:t.callSetDisabledState??u_}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[E4]})}return n})(),soe=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}login(){" "!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("please enter eamil")}static#e=this.\u0275fac=function(i){return new(i||n)(x(Mu))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-login"]],decls:29,vars:2,consts:[[1,"container"],[3,"ngsubmit"],["loginForm","ngForm"],["for","exampleInputEmail1"],["type","email","name","email",3,"ngModel","ngModelChange"],["for","exampleInputPassword1"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",3,"click"],[1,"txt"],["href","/register",1,"register",2,"text-decoration","none"],["href","/register-doctor",1,"register",2,"text-decoration","none"],[1,"col-md-6"],["href","#",2,"text-decoration","none"]],template:function(i,r){1&i&&(U(0,"div",0)(1,"form",1,2),Re("ngsubmit",function(){return r.login()}),U(3,"div")(4,"h4"),fe(5,"Login"),j()(),U(6,"div")(7,"label",3),fe(8,"Email"),j(),U(9,"input",4),Re("ngModelChange",function(s){return r.email=s}),j()(),U(10,"div")(11,"label",5),fe(12,"Password"),j(),U(13,"input",6),Re("ngModelChange",function(s){return r.password=s}),j()(),U(14,"button",7),Re("click",function(){return r.login()}),fe(15,"Login"),j(),U(16,"div",8)(17,"div")(18,"span"),fe(19,"Need Account ? "),Ht(20,"br"),U(21,"a",9),fe(22,"Register as a User"),j(),Ht(23,"br"),U(24,"a",10),fe(25,"Register as a Doctor "),j()()(),U(26,"div",11)(27,"a",12),fe(28," Forgot Password ? "),j()()()()()),2&i&&(Y(9),me("ngModel",r.email),Y(4),me("ngModel",r.password))},dependencies:[ww,Gl,yf,a_,bf,Aa],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;background-color:#35959c;width:100%;height:100dvh;display:flex;justify-content:center;align-items:center;padding:0 20px}form[_ngcontent-%COMP%]{background-color:#ccc;width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 10px #0000001a}h4[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-top:0;margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}input[_ngcontent-%COMP%]{width:100%;padding:.5rem 0rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;margin-bottom:1rem;outline:none}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;width:100%;padding:.75rem 0rem;border:none;border-radius:.25rem;margin-bottom:1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0056b3}.txt[_ngcontent-%COMP%]{text-align:center}"]})}return n})();class p_{}let C4=(()=>{class n extends p_{getTranslation(t){return q({})}static \u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class HS{}let I4=(()=>{class n{handle(t){return t.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Ew(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let r,o,s,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(o in s=Object.create(null),n){if(!Ew(n[o],e[o]))return!1;s[o]=!0}for(o in e)if(!(o in s)&&typeof e[o]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((r=n.length)==e.length){for(o=0;o<r;o++)if(!Ew(n[o],e[o]))return!1;return!0}}return!1}function Yl(n){return typeof n<"u"&&null!==n}function $S(n){return n&&"object"==typeof n&&!Array.isArray(n)}function D4(n,e){let t=Object.assign({},n);return $S(n)&&$S(e)&&Object.keys(e).forEach(i=>{$S(e[i])?i in n?t[i]=D4(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}class Cw{}let x4=(()=>{class n extends Cw{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,i){let r;return r="string"==typeof t?this.interpolateString(t,i):"function"==typeof t?this.interpolateFunction(t,i):t,r}getValue(t,i){let r="string"==typeof i?i.split("."):[i];i="";do{i+=r.shift(),!Yl(t)||!Yl(t[i])||"object"!=typeof t[i]&&r.length?r.length?i+=".":t=void 0:(t=t[i],i="")}while(r.length);return t}interpolateFunction(t,i){return t(i)}interpolateString(t,i){return i?t.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return Yl(s)?s:r}):t}static \u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class Iw{}let T4=(()=>{class n extends Iw{compile(t,i){return t}compileTranslations(t,i){return t}static \u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class A4{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Fe;onLangChange=new Fe;onDefaultLangChange=new Fe}const qS=new ie("USE_STORE"),GS=new ie("USE_DEFAULT_LANG"),WS=new ie("DEFAULT_LANGUAGE"),KS=new ie("USE_EXTEND");let Dw=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Fe;_onLangChange=new Fe;_onDefaultLangChange=new Fe;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,i,r,o,s,a=!0,l=!1,u=!1,h){this.store=t,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=u,h&&this.setDefaultLang(h)}setDefaultLang(t){if(t===this.defaultLang)return;let i=this.retrieveTranslations(t);typeof i<"u"?(null==this.defaultLang&&(this.defaultLang=t),i.pipe(or(1)).subscribe(r=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return q(this.translations[t]);let i=this.retrieveTranslations(t);return typeof i<"u"?(this.currentLang||(this.currentLang=t),i.pipe(or(1)).subscribe(r=>{this.changeLang(t)}),i):(this.changeLang(t),q(this.translations[t]))}retrieveTranslations(t){let i;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),i=this._translationRequests[t]),i}getTranslation(t){this.pending=!0;const i=this.currentLoader.getTranslation(t).pipe(Km(1),or(1));return this.loadingTranslations=i.pipe(Ce(r=>this.compiler.compileTranslations(r,t)),Km(1),or(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?{...r,...this.translations[t]}:r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(t,i,r=!1){i=this.compiler.compileTranslations(i,t),this.translations[t]=(r||this.extend)&&this.translations[t]?D4(this.translations[t],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let l of i)s[l]=this.getParsedResult(t,l,r),_l(s[l])&&(a=!0);return a?bz(i.map(u=>_l(s[u])?s[u]:q(s[u]))).pipe(Ce(u=>{let h={};return u.forEach((m,g)=>{h[i[g]]=m}),h})):s}if(t&&(o=this.parser.interpolate(this.parser.getValue(t,i),r)),typeof o>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof o>"u"){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:i}get(t,i){if(!Yl(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Xc(r=>_l(r=this.getParsedResult(r,t,i))?r:q(r)));{let r=this.getParsedResult(this.translations[this.currentLang],t,i);return _l(r)?r:q(r)}}getStreamOnTranslationChange(t,i){if(!Yl(t)||!t.length)throw new Error('Parameter "key" required');return mh(fb(()=>this.get(t,i)),this.onTranslationChange.pipe(pt(r=>{const o=this.getParsedResult(r.translations,t,i);return"function"==typeof o.subscribe?o:q(o)})))}stream(t,i){if(!Yl(t)||!t.length)throw new Error('Parameter "key" required');return mh(fb(()=>this.get(t,i)),this.onLangChange.pipe(pt(r=>{const o=this.getParsedResult(r.translations,t,i);return _l(o)?o:q(o)})))}instant(t,i){if(!Yl(t)||!t.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],t,i);if(_l(r)){if(t instanceof Array){let o={};return t.forEach((s,a)=>{o[t[a]]=t[a]}),o}return t}return r}set(t,i,r=this.currentLang){this.translations[r][t]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(i){return new(i||n)(O(A4),O(p_),O(Iw),O(Cw),O(HS),O(GS),O(qS),O(KS),O(WS))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),xw=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,i){this.translate=t,this._ref=i}updateValue(t,i,r){let o=s=>{this.value=void 0!==s?s:t,this.lastKey=t,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,t,i);_l(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(t,i).subscribe(o)}transform(t,...i){if(!t||!t.length)return t;if(Ew(t,this.lastKey)&&Ew(i,this.lastParams))return this.value;let r;if(Yl(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(x(Dw,16),x(Br,16))};static \u0275pipe=ii({name:"translate",type:n,pure:!1});static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),aoe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:p_,useClass:C4},t.compiler||{provide:Iw,useClass:T4},t.parser||{provide:Cw,useClass:x4},t.missingTranslationHandler||{provide:HS,useClass:I4},A4,{provide:qS,useValue:t.isolate},{provide:GS,useValue:t.useDefaultLang},{provide:KS,useValue:t.extend},{provide:WS,useValue:t.defaultLanguage},Dw]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:p_,useClass:C4},t.compiler||{provide:Iw,useClass:T4},t.parser||{provide:Cw,useClass:x4},t.missingTranslationHandler||{provide:HS,useClass:I4},{provide:qS,useValue:t.isolate},{provide:GS,useValue:t.useDefaultLang},{provide:KS,useValue:t.extend},{provide:WS,useValue:t.defaultLanguage},Dw]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=It({type:n});static \u0275inj=Ct({})}return n})(),S4=(()=>{class n{constructor(t){this.translate=t,this.translate.setDefaultLang("en")}switchLanguage(t){this.translate.use(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Dw))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const M4=function(){return["/dashboard"]},R4=function(){return["/my-booking"]};function loe(n,e){if(1&n){const t=Ts();U(0,"div",10)(1,"li",3),fe(2),Nt(3,"translate"),j(),U(4,"li",3),fe(5),Nt(6,"translate"),j(),U(7,"button",11),Re("click",function(){return wn(t),En(Qe(2).logOut())}),fe(8),Nt(9,"translate"),j(),U(10,"button",12),Re("click",function(){return wn(t),En(Qe(2).changeLanguage())}),fe(11),Nt(12,"translate"),j()()}2&n&&(Y(1),me("routerLink",fm(14,M4)),Y(1),hn(Bt(3,6,"Home")),Y(2),me("routerLink",fm(15,R4)),Y(1),hn(Bt(6,8,"My-Bookings")),Y(3),jn(" ",Bt(9,10,"Log Out")," "),Y(3),hn(Bt(12,12,"ENG")))}function coe(n,e){if(1&n){const t=Ts();U(0,"div",5)(1,"h4",6),Re("click",function(){return wn(t),En(Qe().DropDownClick())}),fe(2),Nt(3,"translate"),j(),ht(4,loe,13,16,"div",7),U(5,"button",8),Re("click",function(){return wn(t),En(Qe().logOut())}),fe(6),Nt(7,"translate"),j(),U(8,"button",9),Re("click",function(){return wn(t),En(Qe().changeLanguage())}),fe(9),Nt(10,"translate"),j()()}if(2&n){const t=Qe();Y(2),Xr("",Bt(3,5,"WELCOME"),", ",t.currentUser," "),Y(2),me("ngIf",t.DropDown),Y(2),jn(" ",Bt(7,7,"Log Out")," "),Y(3),hn(Bt(10,9,"ENG"))}}let YS=(()=>{class n{constructor(t,i){this.auth=t,this.languageService=i,this.DropDown=!1,this.default="en",this.change="ge"}logOut(){this.auth.logout()}ngOnInit(){this.auth.getUserName$().subscribe(t=>{this.currentUser=t})}DropDownClick(){this.DropDown=!this.DropDown}changeLanguage(){this.default="en"===this.default?"ge":"en",this.languageService.switchLanguage(this.default)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Mu),x(S4))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-multi-header"]],decls:13,vars:11,consts:[[1,"container"],[1,"logo"],[1,"navbar"],[3,"routerLink"],["class","user",4,"ngIf"],[1,"user"],[1,"Welcome",3,"click"],["class","dropdown",4,"ngIf"],["type","button",1,"btn","btn-info","logOut",3,"click"],[1,"language",3,"click"],[1,"dropdown"],["type","button",1,"btn","btn-info","logOutDrop",3,"click"],[1,"language","dropLanguage",3,"click"]],template:function(i,r){1&i&&(U(0,"header")(1,"div",0)(2,"h2",1),fe(3,"Doctor appointment"),j(),U(4,"nav",2)(5,"ul")(6,"li",3),fe(7),Nt(8,"translate"),j(),U(9,"li",3),fe(10),Nt(11,"translate"),j()()(),ht(12,coe,11,11,"div",4),j()()),2&i&&(Y(6),me("routerLink",fm(9,M4)),Y(1),hn(Bt(8,5,"Home")),Y(2),me("routerLink",fm(10,R4)),Y(1),hn(Bt(11,7,"My-Bookings")),Y(2),me("ngIf",r.currentUser))},dependencies:[Qc,Pb,xw],styles:["header[_ngcontent-%COMP%]{width:100%;background-color:#2ecc71;color:#fff;padding:15px 0;box-shadow:0 2px 4px #0000001a}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;font-family:Waltograph,sans-serif;font-size:24px;color:#fff;margin:0}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:20px}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;transition:color .3s;font-size:18px;cursor:pointer}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ecf0f1}header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .Welcome[_ngcontent-%COMP%]{font-size:16px;margin:0;cursor:pointer}header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:absolute;top:7%;right:0;background-color:#2ecc71;border-radius:5px;flex-direction:column;gap:1rem;padding:15px;z-index:99}header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .logOut[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:8px 15px;border-radius:5px;cursor:pointer;transition:background-color .3s}header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .logOut[_ngcontent-%COMP%]:hover{background-color:#c0392b}header[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]{padding:5px;color:#fff;background-color:#0010ff;border:2px solid blue;border-radius:25px;transition:background-color .3s;cursor:pointer;font-size:12px;font-weight:700}@media only screen and (max-width: 480px){header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;color:#fff;transition:color .3s;font-size:13px;cursor:pointer}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ecf0f1}header[_ngcontent-%COMP%]   .logOutDrop[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:8px 15px;border-radius:5px;cursor:pointer;transition:background-color .3s}header[_ngcontent-%COMP%]   .logOutDrop[_ngcontent-%COMP%]:hover{background-color:#c0392b}header[_ngcontent-%COMP%]   .logOut[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .dropLanguage[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]   .Welcome[_ngcontent-%COMP%]{font-size:13px;margin:0}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:20px}}@media only screen and (max-width: 767px){header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;color:#fff;transition:color .3s;font-size:13px;cursor:pointer}header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ecf0f1}header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 10px}header[_ngcontent-%COMP%]   .Welcome[_ngcontent-%COMP%]{font-size:13px;margin:0;color:#0010ff;font-weight:bolder}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:20px}}@media only screen and (min-width: 768px) and (max-width: 959px){header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 960px) and (max-width: 1023px){header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 40px}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:18px}header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 1024px) and (max-width: 1279px){header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 40px}header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{display:none}}"]})}return n})();function uoe(n,e){if(1&n){const t=Ts();U(0,"div",6)(1,"div",7),Ht(2,"img",8),j(),U(3,"div",9)(4,"div",10)(5,"h1"),fe(6),j()(),U(7,"div",10)(8,"div",11),fe(9),Nt(10,"translate"),j(),U(11,"div",12),fe(12),j()(),U(13,"div",10)(14,"div",11),fe(15),Nt(16,"translate"),j(),U(17,"div",12),fe(18),j()(),U(19,"div",10)(20,"button",13),Re("click",function(){const o=wn(t).$implicit;return En(Qe().goToPage("doctor-details-page",o.Id))}),fe(21),Nt(22,"translate"),j()()()()}if(2&n){const t=e.$implicit;Y(6),Xr("",t.Name," ",t.LastName,""),Y(3),jn("",Bt(10,7,"Category"),":"),Y(3),hn(t.Category),Y(3),jn("",Bt(16,9,"Description"),":"),Y(3),hn(t.Description),Y(3),hn(Bt(22,11,"View"))}}let ZS,doe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.searchName="",this.searchLastName="",this.searchCategory=""}logOut(){this.auth.logout()}ngOnInit(){this.auth.getUserName$().subscribe(t=>{this.currentUser=t}),this.Doctors$=this.firestore.collection("Doctors").valueChanges(),this.filteredDoctors$=this.Doctors$.pipe(Ce(t=>t.filter(i=>(!this.searchName||i.Name.toLowerCase().includes(this.searchName.toLowerCase()))&&(!this.searchLastName||i.LastName.toLowerCase().includes(this.searchLastName.toLowerCase()))&&(!this.searchCategory||i.Category.toLowerCase().includes(this.searchCategory.toLowerCase())))))}searchDoctors(){this.filteredDoctors$=this.Doctors$.pipe(Ce(t=>t.filter(i=>(!this.searchName||i.Name&&i.Name.toLowerCase().includes(this.searchName.toLowerCase()))&&(!this.searchLastName||i.LastName&&i.LastName.toLowerCase().includes(this.searchLastName.toLowerCase()))&&(!this.searchCategory||i.Category&&i.Category.toLowerCase().includes(this.searchCategory.toLowerCase())))))}goToPage(t,i){this.router.navigate([`${t}`,i])}static#e=this.\u0275fac=function(i){return new(i||n)(x(Mu),x(lw),x(Ur))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-dashboard"]],decls:26,vars:21,consts:[[1,"main-container"],[1,"doctor-search"],[1,"search-inputs"],["type","text",1,"input-search",3,"placeholder","ngModel","ngModelChange"],["type","submit",1,"search-btn",3,"click"],["class","doctor-details",4,"ngFor","ngForOf"],[1,"doctor-details"],[1,"doctor-image"],["src","../../../assets/9439520.jpg","alt","Doctor Image"],[1,"doctor-info"],[1,"info-row"],[1,"label"],[1,"value"],[1,"view-btn",3,"click"]],template:function(i,r){1&i&&(U(0,"body")(1,"header"),Ht(2,"app-multi-header"),j(),U(3,"main")(4,"div",0)(5,"div",1)(6,"h2"),fe(7),Nt(8,"translate"),j(),U(9,"div",2)(10,"input",3),Re("ngModelChange",function(s){return r.searchName=s}),Nt(11,"translate"),j(),U(12,"input",3),Re("ngModelChange",function(s){return r.searchLastName=s}),Nt(13,"translate"),j(),U(14,"input",3),Re("ngModelChange",function(s){return r.searchCategory=s}),Nt(15,"translate"),j(),U(16,"button",4),Re("click",function(){return r.searchDoctors()}),fe(17),Nt(18,"translate"),j()()(),ht(19,uoe,23,13,"div",5),Nt(20,"async"),j()(),U(21,"footer")(22,"p"),fe(23," @ Created by Guga Nozadze & Anzori Sakhelashvili "),Ht(24,"br"),fe(25," 2024-Angular-Project "),j()()()),2&i&&(Y(7),hn(Bt(8,9,"Search for a Doctor")),Y(3),sm("placeholder",Bt(11,11,"Name")),me("ngModel",r.searchName),Y(2),sm("placeholder",Bt(13,13,"Last Name")),me("ngModel",r.searchLastName),Y(2),sm("placeholder",Bt(15,15,"Category")),me("ngModel",r.searchCategory),Y(3),hn(Bt(18,17,"Search")),Y(2),me("ngForOf",Bt(20,19,r.filteredDoctors$)))},dependencies:[wm,Gl,yf,bf,YS,aF,xw],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:sans-serif}.main-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.doctor-search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 0;border-bottom:1px solid #ccc}.doctor-search[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:10px}.doctor-search[_ngcontent-%COMP%]   .search-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.doctor-search[_ngcontent-%COMP%]   .search-inputs[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%]{width:200px;height:40px;border:2px solid #ccc;border-radius:20px;padding:5px 10px;font-size:16px;outline:none}.doctor-search[_ngcontent-%COMP%]   .search-inputs[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{width:100px;height:45px;border:none;border-radius:20px;background-color:#3498db;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s}.doctor-search[_ngcontent-%COMP%]   .search-inputs[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#2980b9}.doctor-details[_ngcontent-%COMP%]{display:flex;gap:30px;margin:30px 0}.doctor-details[_ngcontent-%COMP%]   .doctor-image[_ngcontent-%COMP%]{width:250px;height:250px;overflow:hidden;border-radius:10px;box-shadow:0 0 10px #0000001a}.doctor-details[_ngcontent-%COMP%]   .doctor-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;align-items:center}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-right:10px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;color:#4d4d4d}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:120px;height:40px;border:none;border-radius:20px;background-color:#3498db;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover{background-color:#2980b9}footer[_ngcontent-%COMP%]{width:100%;height:100px;background-color:#35959c;display:flex;position:relative;margin-top:10rem;bottom:0;text-align:center;align-items:center;justify-content:center}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#494949}.details[_ngcontent-%COMP%]{width:60%;margin-top:3rem;display:flex;gap:3rem;background-color:#f0f8ff}.images[_ngcontent-%COMP%]{width:250px;height:250px}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.about[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:3rem;justify-content:center}.view-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;padding:20px 0}.view[_ngcontent-%COMP%]{height:40px;padding:0 20px;border:none;background-color:#00f;color:#fff;font-weight:700;border-radius:20px;cursor:pointer}.view[_ngcontent-%COMP%]:hover{background-color:#6464ff}@media only screen and (max-width: 480px){.main-container[_ngcontent-%COMP%]{justify-content:center}.search-inputs[_ngcontent-%COMP%]{flex-direction:column}.search-inputs[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.search-inputs[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{width:100%}.doctor-info[_ngcontent-%COMP%]{width:250px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:80px;height:25px;font-size:14px}.doctor-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:0}}@media screen and (max-width: 768px){.search-inputs[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;align-content:center}.doctor-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:0}.doctor-details[_ngcontent-%COMP%]   .doctor-image[_ngcontent-%COMP%]{width:350px;height:300px;overflow:hidden;border-radius:10px}.doctor-info[_ngcontent-%COMP%]{width:350px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px}.doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:100px;height:30px;font-size:14px}}@media only screen and (min-width: 768px) and (max-width: 959px){.doctor-search[_ngcontent-%COMP%]{padding:15px 0}.doctor-search[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.doctor-search[_ngcontent-%COMP%]   .search-inputs[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%]{width:180px;height:35px;font-size:16px}.doctor-search[_ngcontent-%COMP%]   .search-inputs[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{width:90px;height:40px;font-size:16px}.doctor-details[_ngcontent-%COMP%]{padding:0 20px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:80px;height:25px;font-size:14px}}@media only screen and (min-width: 960px) and (max-width: 1023px){.search-inputs[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%]{width:250px;height:40px;font-size:18px}.search-inputs[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{width:120px;height:45px;font-size:18px}.doctor-details[_ngcontent-%COMP%]{padding:0 20px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:100px;height:30px;font-size:16px}}@media only screen and (min-width: 1024px) and (max-width: 1279px){.search-inputs[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%]{width:300px;height:50px;font-size:20px}.search-inputs[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{width:150px;height:55px;font-size:20px}.doctor-details[_ngcontent-%COMP%]{padding:0 20px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:18px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px}.doctor-details[_ngcontent-%COMP%]   .doctor-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:120px;height:35px;font-size:18px}}"]})}return n})(),hoe=(()=>{class n{constructor(t){this.auth=t,this.name="",this.lastName="",this.phoneNumber="",this.email="",this.password=""}ngOnInit(){}register(){""!=this.name?""!=this.lastName?""!=this.email?""!=this.phoneNumber?""!=this.password?(this.auth.register(this.name,this.lastName,this.phoneNumber,this.email,this.password),this.name="",this.lastName="",this.phoneNumber="",this.email="",this.password=""):alert("Please enter password"):alert("please enter phone number"):alert("please enter eamil"):alert("please enter lastname"):alert("please enter name")}static#e=this.\u0275fac=function(i){return new(i||n)(x(Mu))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-register"]],decls:24,vars:5,consts:[[1,"container"],[3,"ngSubmit"],["registerForm","ngForm"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModel","ngModelChange"],["type","text","id","LastName","name","LastName","required","",3,"ngModel","ngModelChange"],["type","text","id","phoneNumber","name","phoneNumber","required","",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"],["href","/login",1,"Login",2,"text-decoration","none"]],template:function(i,r){1&i&&(U(0,"div",0)(1,"form",1,2),Re("ngSubmit",function(){return r.register()}),U(3,"label",3),fe(4,"Name:"),j(),U(5,"input",4),Re("ngModelChange",function(s){return r.name=s}),j(),U(6,"label",3),fe(7,"LastName:"),j(),U(8,"input",5),Re("ngModelChange",function(s){return r.lastName=s}),j(),U(9,"label",3),fe(10,"Number:"),j(),U(11,"input",6),Re("ngModelChange",function(s){return r.phoneNumber=s}),j(),U(12,"label",7),fe(13,"Email:"),j(),U(14,"input",8),Re("ngModelChange",function(s){return r.email=s}),j(),U(15,"label",9),fe(16,"Password:"),j(),U(17,"input",10),Re("ngModelChange",function(s){return r.password=s}),j(),U(18,"button",11),fe(19,"Register"),j(),U(20,"span"),fe(21,"Already have an Account? "),U(22,"a",12),fe(23,"Login"),j()()()()),2&i&&(Y(5),me("ngModel",r.name),Y(3),me("ngModel",r.lastName),Y(3),me("ngModel",r.phoneNumber),Y(3),me("ngModel",r.email),Y(3),me("ngModel",r.password))},dependencies:[ww,Gl,yf,a_,f_,bf,Aa],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;background-color:#35959c;width:100%;height:100dvh;display:flex;justify-content:center;align-items:center;padding:0 20px}form[_ngcontent-%COMP%]{background-color:#ccc;width:500px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 10px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700}input[_ngcontent-%COMP%]{width:100%;height:40px;padding:8px;margin-bottom:16px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px;outline:none}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;border-radius:4px;cursor:pointer;display:flex;margin:0 auto}button[_ngcontent-%COMP%]:hover{background-color:#45a049}span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:1.5rem;gap:1rem}"]})}return n})();try{ZS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZS=!1}let m_,Fu,QS,Wi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function iK(n){return n===uF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(Go))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nu(n){return function foe(){if(null==m_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m_=!0}))}finally{m_=m_||!1}return m_}()?n:!!n.capture}function poe(){if(null==Fu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fu=!1,Fu;if("scrollBehavior"in document.documentElement.style)Fu=!0;else{const n=Element.prototype.scrollTo;Fu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fu}function k4(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Zl(n){return n.composedPath?n.composedPath()[0]:n.target}function XS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function xf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function N4(n){return Ui((e,t)=>n<=t)}function Rr(n){return null!=n&&"false"!=`${n}`}function Mw(n){return Array.isArray(n)?n:[n]}function li(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Tf(n){return n instanceof Tt?n.nativeElement:n}let Doe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[Doe]})}return n})();const L4=new Set;let Lu,Toe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Soe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Aoe(n,e){if(!L4.has(n))try{Lu||(Lu=document.createElement("style"),e&&(Lu.nonce=e),Lu.setAttribute("type","text/css"),document.head.appendChild(Lu)),Lu.sheet&&(Lu.sheet.insertRule(`@media ${n} {body{ }}`,0),L4.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Wi),O(FC,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Soe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Moe=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return V4(Mw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=hb(V4(Mw(t)).map(s=>this._registerQuery(s).observable));return o=mh(o.pipe(or(1)),o.pipe(N4(1),function xoe(n,e=Wm){return W((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=o;o=null,i.next(u)}};function l(){const u=s+n,h=e.now();if(h<u)return r=this.schedule(void 0,u-h),void i.add(r);a()}t.subscribe(be(i,u=>{o=u,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Ce(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new ot(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(yl(i),Ce(({matches:s})=>({query:t,matches:s})),bl(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(O(Toe),O(Be))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let koe=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Noe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Ooe(n){try{return n.frameElement}catch{return null}}(function Hoe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===z4(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=z4(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function joe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function zoe(n){return!function Loe(n){return function Boe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Foe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Voe(n){return function Uoe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||j4(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Wi))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function z4(n){if(!j4(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class $oe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(or(1)).subscribe(e)}}let qoe=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new $oe(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(koe),O(Be),O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Goe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Rr(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Rr(t)}constructor(t,i,r){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=k4(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(qoe),x(At))};static#t=this.\u0275dir=ge({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Ln]})}return n})();function H4(n){return 0===n.buttons||0===n.detail}function $4(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Woe=new ie("cdk-input-modality-detector-options"),Koe={ignoreKeys:[18,17,224,91,16]},Af=Nu({passive:!0,capture:!0});let Yoe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new N(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(H4(s)?"keyboard":"mouse"),this._mostRecentTarget=Zl(s))},this._onTouchstart=s=>{$4(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zl(s))},this._options={...Koe,...o},this.modalityDetected=this._modality.pipe(N4(1)),this.modalityChanged=this.modalityDetected.pipe(cn()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Af),r.addEventListener("mousedown",this._onMousedown,Af),r.addEventListener("touchstart",this._onTouchstart,Af)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Af),document.removeEventListener("mousedown",this._onMousedown,Af),document.removeEventListener("touchstart",this._onTouchstart,Af))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Wi),O(Be),O(At),O(Woe,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qoe=new ie("cdk-focus-monitor-default-options"),Rw=Nu({passive:!0,capture:!0});let G4=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z,this._rootNodeFocusAndBlurListener=a=>{for(let u=Zl(a);u;u=u.parentElement)"focus"===a.type?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Tf(t);if(!this._platform.isBrowser||1!==r.nodeType)return q();const o=function goe(n){if(function moe(){if(null==QS){const n=typeof document<"u"?document.head:null;QS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QS}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Tf(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Tf(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Zl(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bl(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(O(Be),O(Wi),O(Yoe),O(At,8),O(Qoe,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W4=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Fe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(G4))};static#t=this.\u0275dir=ge({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const K4="cdk-high-contrast-black-on-white",Y4="cdk-high-contrast-white-on-black",tM="cdk-high-contrast-active";let Z4=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=he(Moe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(tM,K4,Y4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(tM,K4):2===i&&t.add(tM,Y4)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Wi),O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xoe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Z4))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[F4]})}return n})();const Joe=new ie("cdk-dir-doc",{providedIn:"root",factory:function ese(){return he(At)}}),tse=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Vu=(()=>{class n{constructor(t){this.value="ltr",this.change=new Fe,t&&(this.value=function nse(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?tse.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Joe,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})();const rse=new ie("mat-sanity-checks",{providedIn:"root",factory:function ise(){return!0}});let Sa=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!XS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(O(Z4),O(rse,8),O(At))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[y_,y_]})}return n})();function ose(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Rr(e)}constructor(...e){super(...e),this._disabled=!1}}}function J4(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function sse(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Rr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function ase(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}const lse=new ie("MAT_DATE_LOCALE",{providedIn:"root",factory:function cse(){return he(Ms)}});class Xn{constructor(){this._localeChanges=new z,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const $s=new ie("mat-date-formats"),use=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function nM(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let dse=(()=>{class n extends Xn{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return nM(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return nM(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return nM(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(use.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(lse,8),O(Wi))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const hse={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let fse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[{provide:Xn,useClass:dse}]})}return n})(),pse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[{provide:$s,useValue:hse}],imports:[fse]})}return n})(),iM=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mse{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const eH=Nu({passive:!0,capture:!0});class gse{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Zl(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eH)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eH)))}}const tH={enterDuration:225,exitDuration:150},nH=Nu({passive:!0,capture:!0}),iH=["mousedown","touchstart"],rH=["mouseup","mouseleave","touchend","touchcancel"];class Pw{static#e=this._eventManager=new gse;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Tf(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...tH,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function yse(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,u=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),y=m.transitionDuration,b="none"===m.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,w=new mse(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let C=null;return!b&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(w),M=()=>this._destroyRipple(w);h.addEventListener("transitionend",k),h.addEventListener("transitioncancel",M),C={onTransitionEnd:k,onTransitionCancel:M}}),this._activeRipples.set(w,C),(b||!u)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...tH,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Tf(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,iH.forEach(i=>{Pw._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rH.forEach(t=>{this._triggerElement.addEventListener(t,this,nH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=H4(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!$4(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(iH.forEach(t=>Pw._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&rH.forEach(t=>e.removeEventListener(t,this,nH)))}}const oH=new ie("mat-ripple-global-options");let vse=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Pw(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Be),x(Wi),x(oH,8),x(ll,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),bse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[Sa,Sa]})}return n})();const sH={capture:!0},aH=["focus","click","mouseenter","touchstart"],rM="mat-ripple-loader-uninitialized",oM="mat-ripple-loader-class-name",lH="mat-ripple-loader-centered",kw="mat-ripple-loader-disabled";let wse=(()=>{class n{constructor(){this._document=he(At,{optional:!0}),this._animationMode=he(ll,{optional:!0}),this._globalRippleOptions=he(oH,{optional:!0}),this._platform=he(Wi),this._ngZone=he(Be),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${rM}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of aH)this._document?.addEventListener(t,this._onInteraction,sH)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of aH)this._document?.removeEventListener(i,this._onInteraction,sH)}configureRipple(t,i){t.setAttribute(rM,""),(i.className||!t.hasAttribute(oM))&&t.setAttribute(oM,i.className||""),i.centered&&t.setAttribute(lH,""),i.disabled&&t.setAttribute(kw,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(kw,""):t.removeAttribute(kw)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(oM)),t.append(r);const o=new vse(new Tt(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(lH),o.disabled=t.hasAttribute(kw),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(rM),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ese=["*"],Tse=new ie("MAT_CARD_CONFIG");let cH=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tse,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Cn("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Ese,decls:1,vars:0,template:function(i,r){1&i&&(Wo(),dn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),Ase=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[Sa,Cm,Sa]})}return n})();const Sse=["addListener","removeListener"],Mse=["addEventListener","removeEventListener"],Rse=["on","off"];function sM(n,e,t,i){if(E(t)&&(i=t,t=void 0),i)return sM(n,e,t).pipe(GD(i));const[r,o]=function Ose(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?Mse.map(s=>a=>n[s](e,a,t)):function Pse(n){return E(n.addListener)&&E(n.removeListener)}(n)?Sse.map(uH(n,e)):function kse(n){return E(n.on)&&E(n.off)}(n)?Rse.map(uH(n,e)):[];if(!r&&Et(n))return en(s=>sM(s,e,t))(On(n));if(!r)throw new TypeError("Invalid event target");return new ot(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function uH(n,e){return t=>i=>n[t](e,i)}const b_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=b_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new We(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=b_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=b_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Fse extends Nb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Nse extends Ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=b_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(b_.cancelAnimationFrame(t),e._scheduled=void 0)}});let aM,Vse=1;const Ow={};function dH(n){return n in Ow&&(delete Ow[n],!0)}const Bse={setImmediate(n){const e=Vse++;return Ow[e]=!0,aM||(aM=Promise.resolve()),aM.then(()=>dH(e)&&n()),e},clearImmediate(n){dH(n)}},{setImmediate:Use,clearImmediate:jse}=Bse,Nw={setImmediate(...n){const{delegate:e}=Nw;return(e?.setImmediate||Use)(...n)},clearImmediate(n){const{delegate:e}=Nw;return(e?.clearImmediate||jse)(n)},delegate:void 0};new class Hse extends Nb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class zse extends Ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Nw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Nw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function hH(n,e=Wm){return function qse(n){return W((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const u=r;r=null,t.next(u)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(be(t,u=>{i=!0,r=u,o||On(n(u)).subscribe(o=be(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function Wse(n=0,e,t=fX){let i=-1;return null!=e&&(pr(e)?t=e:i=e),new ot(r=>{let o=function Gse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let Yse=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ot(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(hH(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ui(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Tf(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>sM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Be),O(Wi),O(At,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fH=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(hH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Wi),O(Be),O(At,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})(),pH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[y_,lM,y_,lM]})}return n})();class cM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uM extends cM{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Qse extends cM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Xse extends cM{constructor(e){super(),this.element=e instanceof Tt?e.nativeElement:e}}class mH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Qse?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Xse?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Jse extends mH{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ti.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let gH=(()=>{class n extends mH{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(x(qd),x(Jr),x(At))};static#t=this.\u0275dir=ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_t]})}return n})(),_H=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({})}return n})();const yH=poe();class eae{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=li(-this._previousScrollPosition.left),e.style.top=li(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yH&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class tae{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ui(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vH{enable(){}disable(){}attach(){}}function dM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function bH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nae{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iae=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new vH,this.close=s=>new tae(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new eae(this._viewportRuler,this._document),this.reposition=s=>new nae(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(O(Yse),O(fH),O(Be),O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class wH{constructor(e){if(this.scrollStrategy=new vH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class rae{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let EH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oae=(()=>{class n extends EH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(O(At),O(Be,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sae=(()=>{class n extends EH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Zl(o)},this._clickListener=o=>{const s=Zl(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){const h=l[u];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(O(At),O(Wi),O(Be,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CH=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||XS()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),XS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(O(At),O(Wi))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class aae{constructor(e,t,i,r,o,s,a,l,u,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=We.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(or(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=li(this._config.width),e.height=li(this._config.height),e.minWidth=li(this._config.minWidth),e.minHeight=li(this._config.minHeight),e.maxWidth=li(this._config.maxWidth),e.maxHeight=li(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Mw(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(bl(Q(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const IH="cdk-overlay-connected-position-bounding-box",lae=/([A-Za-z%]+)$/;class DH{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=We.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(IH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(u,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,u,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:u,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const u of o){const h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=TH(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(s+=l),u&&(a+=u);let g=0-a,y=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,g,y),C=b*w;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=xH(this._overlayRef.getConfig().minHeight),a=xH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=TH(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),u=Math.max(o.left-i.left-e.x,0);let h=0,m=0;return h=r.width<=o.width?u||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,m=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:m},{x:e.x+h,y:e.y+m}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new rae(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,m,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const y=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)m=e.x,h=i.right-e.x;else{const y=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;h=2*y,m=e.x-y,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.x-b/2)}return{top:s,left:m,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=li(i.height),r.top=li(i.top),r.bottom=li(i.bottom),r.width=li(i.width),r.left=li(i.left),r.right=li(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=li(o)),s&&(r.maxWidth=li(s))}this._lastBoundingBoxSize=i,Bu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Bu(i,this._getExactOverlayY(t,e,h)),Bu(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),u=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=li(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=li(s.maxWidth):o&&(i.maxWidth="")),Bu(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=li(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=li(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bH(e,i),isOriginOutsideView:dM(e,i),isOverlayClipped:bH(t,i),isOverlayOutsideView:dM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Mw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Tt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Bu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function xH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(lae);return t&&"px"!==t?null:parseFloat(e)}return n||null}function TH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const AH="cdk-global-overlay-wrapper";class cae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(AH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,m=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",b="",w="";l?w="flex-start":"center"===h?(w="center",g?b=m:y=m):g?"left"===h||"end"===h?(w="flex-end",y=m):("right"===h||"start"===h)&&(w="flex-start",b=m):"left"===h||"start"===h?(w="flex-start",y=m):("right"===h||"end"===h)&&(w="flex-end",b=m),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":b,t.justifyContent=w,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(AH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let uae=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new cae}flexibleConnectedTo(t){return new DH(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(fH),O(At),O(Wi),O(CH))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dae=0,Fw=(()=>{class n{constructor(t,i,r,o,s,a,l,u,h,m,g,y){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=u,this._directionality=h,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new wH(t);return s.direction=s.direction||this._directionality.value,new aae(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+dae++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(hl)),new Jse(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(iae),O(CH),O(qd),O(uae),O(oae),O(Ti),O(Be),O(At),O(Vu),O(Wv),O(sae),O(ll,8))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pae={provide:new ie("cdk-connected-overlay-scroll-strategy"),deps:[Fw],useFactory:function fae(n){return()=>n.scrollStrategies.reposition()}};let mae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[Fw,pae],imports:[y_,_H,pH,pH]})}return n})();const gae=["mat-button",""],_ae=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],yae=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],bae=["mat-icon-button",""],wae=["*"],Eae=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Cae=J4(ose(sse(class{constructor(n){this._elementRef=n}})));let SH=(()=>{class n extends Cae{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Rr(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Rr(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=he(G4),this._rippleLoader=he(wse),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of Eae)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){vv()};static#t=this.\u0275dir=ge({type:n,features:[_t]})}return n})(),MH=(()=>{class n extends SH{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Wi),x(Be),x(ll,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Qt("disabled",r.disabled||null),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_t],attrs:gae,ngContentSelectors:yae,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Wo(_ae),Ht(0,"span",0),dn(1),U(2,"span",1),dn(3,1),j(),dn(4,2),Ht(5,"span",2)(6,"span",3)),2&i&&Cn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),RH=(()=>{class n extends SH{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Wi),x(Be),x(ll,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Qt("disabled",r.disabled||null),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_t],attrs:bae,ngContentSelectors:wae,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Wo(),Ht(0,"span",0),dn(1),Ht(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),xae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[Sa,bse,Sa]})}return n})();class PH{}class Tae{}const Ma="*";function hM(n,e){return{type:7,name:n,definitions:e,options:{}}}function w_(n,e=null){return{type:4,styles:e,timings:n}}function kH(n,e=null){return{type:2,steps:n,options:e}}function ns(n){return{type:6,styles:n,offset:null}}function fM(n,e,t){return{type:0,name:n,styles:e,options:t}}function OH(n){return{type:5,steps:n}}function E_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class C_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Aae{constructor(e){this._box=e,this._destroyed=new z,this._resizeSubject=new z,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ot(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ui(t=>t.some(i=>i.target===e)),Km({bufferSize:1,refCount:!0}),bl(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Sae=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=he(Be)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Aae(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Mae=["notch"],Rae=["matFormFieldNotchedOutline",""],Pae=["*"],kae=["textField"],Oae=["iconPrefixContainer"],Nae=["textPrefixContainer"];function Fae(n,e){1&n&&Ht(0,"span",19)}function Lae(n,e){if(1&n&&(U(0,"label",17),dn(1,1),ht(2,Fae,1,0,"span",18),j()),2&n){const t=Qe(2);me("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Qt("for",t._control.id),Y(2),me("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Vae(n,e){1&n&&ht(0,Lae,3,5,"label",16),2&n&&me("ngIf",Qe()._hasFloatingLabel())}function Bae(n,e){1&n&&Ht(0,"div",20)}function Uae(n,e){}function jae(n,e){1&n&&ht(0,Uae,0,0,"ng-template",22),2&n&&(Qe(2),me("ngTemplateOutlet",rm(1)))}function zae(n,e){if(1&n&&(U(0,"div",21),ht(1,jae,1,1,"ng-template",9),j()),2&n){const t=Qe();me("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),Y(1),me("ngIf",!t._forceDisplayInfixLabel())}}function Hae(n,e){1&n&&(U(0,"div",23,24),dn(2,2),j())}function $ae(n,e){1&n&&(U(0,"div",25,26),dn(2,3),j())}function qae(n,e){}function Gae(n,e){1&n&&ht(0,qae,0,0,"ng-template",22),2&n&&(Qe(),me("ngTemplateOutlet",rm(1)))}function Wae(n,e){1&n&&(U(0,"div",27),dn(1,4),j())}function Kae(n,e){1&n&&(U(0,"div",28),dn(1,5),j())}function Yae(n,e){1&n&&Ht(0,"div",29)}function Zae(n,e){1&n&&(U(0,"div",30),dn(1,6),j()),2&n&&me("@transitionMessages",Qe()._subscriptAnimationState)}function Qae(n,e){if(1&n&&(U(0,"mat-hint",34),fe(1),j()),2&n){const t=Qe(2);me("id",t._hintLabelId),Y(1),hn(t.hintLabel)}}function Xae(n,e){if(1&n&&(U(0,"div",31),ht(1,Qae,2,2,"mat-hint",32),dn(2,7),Ht(3,"div",33),dn(4,8),j()),2&n){const t=Qe();me("@transitionMessages",t._subscriptAnimationState),Y(1),me("ngIf",t.hintLabel)}}const Jae=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ele=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let mM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["mat-label"]]})}return n})(),tle=0;const FH=new ie("MatError");let nle=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+tle++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(Ja("aria-live"),x(Tt))};static#t=this.\u0275dir=ge({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&Gc("id",r.id)},inputs:{id:"id"},features:[Ot([{provide:FH,useExisting:n}])]})}return n})(),ile=0,gM=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+ile++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Gc("id",r.id),Qt("align",null),Cn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const rle=new ie("MatPrefix"),LH=new ie("MatSuffix");let ole=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ot([{provide:LH,useExisting:n}])]})}return n})();const VH=new ie("FloatingLabelParent");let BH=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=he(Sae),this._ngZone=he(Be),this._parent=he(VH),this._resizeSubscription=new We}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function sle(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt))};static#t=this.\u0275dir=ge({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const UH="mdc-line-ripple--active",Lw="mdc-line-ripple--deactivating";let jH=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(Lw);"opacity"===r.propertyName&&s&&o.remove(UH,Lw)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Lw),t.add(UH)}deactivate(){this._elementRef.nativeElement.classList.add(Lw)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Be))};static#t=this.\u0275dir=ge({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),zH=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Be))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&rr(Mae,5),2&i){let o;nn(o=rn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Rae,ngContentSelectors:Pae,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Wo(),Ht(0,"div",0),U(1,"div",1,2),dn(3),j(),Ht(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const ale={transitionMessages:hM("transitionMessages",[fM("enter",ns({opacity:1,transform:"translateY(0%)"})),E_("void => enter",[ns({opacity:0,transform:"translateY(-5px)"}),w_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let HH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n})}return n})();const _M=new ie("MatFormField"),lle=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS");let $H=0,dle=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Rr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,l,u){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+$H++,this._hintLabelId="mat-mdc-hint-"+$H++,this._subscriptAnimationState="",this._destroyed=new z,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(bl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Q(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bl(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(bl(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Br),x(Be),x(Vu),x(Wi),x(lle,8),x(ll,8),x(At))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(So(o,mM,5),So(o,mM,7),So(o,HH,5),So(o,rle,5),So(o,LH,5),So(o,FH,5),So(o,gM,5)),2&i){let s;nn(s=rn())&&(r._labelChildNonStatic=s.first),nn(s=rn())&&(r._labelChildStatic=s.first),nn(s=rn())&&(r._formFieldControl=s.first),nn(s=rn())&&(r._prefixChildren=s),nn(s=rn())&&(r._suffixChildren=s),nn(s=rn())&&(r._errorChildren=s),nn(s=rn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(rr(kae,5),rr(Oae,5),rr(Nae,5),rr(BH,5),rr(zH,5),rr(jH,5)),2&i){let o;nn(o=rn())&&(r._textField=o.first),nn(o=rn())&&(r._iconPrefixContainer=o.first),nn(o=rn())&&(r._textPrefixContainer=o.first),nn(o=rn())&&(r._floatingLabel=o.first),nn(o=rn())&&(r._notchedOutline=o.first),nn(o=rn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Cn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ot([{provide:_M,useExisting:n},{provide:VH,useExisting:n}])],ngContentSelectors:ele,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Wo(Jae),ht(0,Vae,1,1,"ng-template",null,0,GI),U(2,"div",1,2),Re("click",function(s){return r._control.onContainerClick(s)}),ht(4,Bae,1,0,"div",3),U(5,"div",4),ht(6,zae,2,2,"div",5),ht(7,Hae,3,0,"div",6),ht(8,$ae,3,0,"div",7),U(9,"div",8),ht(10,Gae,1,1,"ng-template",9),dn(11),j(),ht(12,Wae,2,0,"div",10),ht(13,Kae,2,0,"div",11),j(),ht(14,Yae,1,0,"div",12),j(),U(15,"div",13),ht(16,Zae,2,1,"div",14),ht(17,Xae,5,2,"div",15),j()),2&i&&(Y(2),Cn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Y(2),me("ngIf",!r._hasOutline()&&!r._control.disabled),Y(2),me("ngIf",r._hasOutline()),Y(1),me("ngIf",r._hasIconPrefix),Y(1),me("ngIf",r._hasTextPrefix),Y(2),me("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),Y(2),me("ngIf",r._hasTextSuffix),Y(1),me("ngIf",r._hasIconSuffix),Y(1),me("ngIf",!r._hasOutline()),Y(1),Cn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),me("ngSwitch",r._getDisplayedMessages()),Y(1),me("ngSwitchCase","error"),Y(1),me("ngSwitchCase","hint"))},dependencies:[Qc,sF,Em,AD,gM,BH,zH,jH],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ale.transitionMessages]},changeDetection:0})}return n})(),hle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[Sa,Cm,F4,Sa]})}return n})();const ple=["mat-calendar-body",""];function mle(n,e){if(1&n&&(U(0,"tr",3)(1,"td",4),fe(2),j()()),2&n){const t=Qe();Y(1),sh("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Qt("colspan",t.numCols),Y(1),jn(" ",t.label," ")}}function gle(n,e){if(1&n&&(U(0,"td",4),fe(1),j()),2&n){const t=Qe(2);sh("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Qt("colspan",t._firstRowOffset),Y(1),jn(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function _le(n,e){if(1&n){const t=Ts();U(0,"td",8)(1,"button",9),Re("click",function(r){const s=wn(t).$implicit;return En(Qe(2)._cellClicked(s,r))})("focus",function(r){const s=wn(t).$implicit;return En(Qe(2)._emitActiveDateChange(s,r))}),U(2,"span",10),fe(3),j(),Ht(4,"span",11),j()()}if(2&n){const t=e.$implicit,i=e.index,r=Qe().index,o=Qe();sh("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Qt("data-mat-row",r)("data-mat-col",i),Y(1),Cn("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(t.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",o._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(t.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(t.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",o._isInPreview(t.compareValue)),me("ngClass",t.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),Qt("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",o._isSelected(t.compareValue))("aria-current",o.todayValue===t.compareValue?"date":null)("aria-describedby",o._getDescribedby(t.compareValue)),Y(1),Cn("mat-calendar-body-selected",o._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",o.todayValue===t.compareValue),Y(1),jn(" ",t.displayValue," ")}}function yle(n,e){if(1&n&&(U(0,"tr",5),ht(1,gle,2,6,"td",6),ht(2,_le,5,48,"td",7),j()),2&n){const t=e.$implicit,i=e.index,r=Qe();Y(1),me("ngIf",0===i&&r._firstRowOffset),Y(1),me("ngForOf",t)}}function vle(n,e){if(1&n&&(U(0,"th",5)(1,"span",6),fe(2),j(),U(3,"span",7),fe(4),j()()),2&n){const t=e.$implicit;Y(2),hn(t.long),Y(2),hn(t.narrow)}}const ble=["*"];function wle(n,e){}function Ele(n,e){if(1&n){const t=Ts();U(0,"mat-month-view",5),Re("activeDateChange",function(r){return wn(t),En(Qe().activeDate=r)})("_userSelection",function(r){return wn(t),En(Qe()._dateSelected(r))})("dragStarted",function(r){return wn(t),En(Qe()._dragStarted(r))})("dragEnded",function(r){return wn(t),En(Qe()._dragEnded(r))}),j()}if(2&n){const t=Qe();me("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function Cle(n,e){if(1&n){const t=Ts();U(0,"mat-year-view",6),Re("activeDateChange",function(r){return wn(t),En(Qe().activeDate=r)})("monthSelected",function(r){return wn(t),En(Qe()._monthSelectedInYearView(r))})("selectedChange",function(r){return wn(t),En(Qe()._goToDateInView(r,"month"))}),j()}if(2&n){const t=Qe();me("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Ile(n,e){if(1&n){const t=Ts();U(0,"mat-multi-year-view",7),Re("activeDateChange",function(r){return wn(t),En(Qe().activeDate=r)})("yearSelected",function(r){return wn(t),En(Qe()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return wn(t),En(Qe()._goToDateInView(r,"year"))}),j()}if(2&n){const t=Qe();me("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Dle(n,e){}const xle=["button"];function Tle(n,e){1&n&&(Ip(),U(0,"svg",3),Ht(1,"path",4),j())}const Ale=[[["","matDatepickerToggleIcon",""]]],Sle=["[matDatepickerToggleIcon]"],Mle=[[["input","matStartDate",""]],[["input","matEndDate",""]]],Rle=["input[matStartDate]","input[matEndDate]"];let I_=(()=>{class n{constructor(){this.changes=new z,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yM{constructor(e,t,i,r,o={},s=e,a){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=a}}let Ple=1;const WH=Nu({passive:!1,capture:!0}),Ql=Nu({passive:!0,capture:!0}),Vw=Nu({passive:!0});let Sf=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=he(Wi),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Fe,this.previewChange=new Fe,this.activeDateChange=new Fe,this.dragStarted=new Fe,this.dragEnded=new Fe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const o=KH(r),s=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),bM(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const o=bM(r.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const s=this._getCellFromElement(o);this.dragEnded.emit({value:s?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const o=KH(r);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+Ple++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,WH),r.addEventListener("mouseenter",this._enterHandler,Ql),r.addEventListener("focus",this._enterHandler,Ql),r.addEventListener("mouseleave",this._leaveHandler,Ql),r.addEventListener("blur",this._leaveHandler,Ql),r.addEventListener("mousedown",this._mousedownHandler,Vw),r.addEventListener("touchstart",this._mousedownHandler,Vw),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:r,numCols:o}=this;(t.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,WH),t.removeEventListener("mouseenter",this._enterHandler,Ql),t.removeEventListener("focus",this._enterHandler,Ql),t.removeEventListener("mouseleave",this._leaveHandler,Ql),t.removeEventListener("blur",this._leaveHandler,Ql),t.removeEventListener("mousedown",this._mousedownHandler,Vw),t.removeEventListener("touchstart",this._mousedownHandler,Vw),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let r=t*this.numCols+i;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(or(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return wM(t,this.startValue,this.endValue)}_isRangeEnd(t){return EM(t,this.startValue,this.endValue)}_isInRange(t){return CM(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return wM(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[i][r-1];if(!o){const s=this.rows[i-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(t,i,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[i][r+1];if(!o){const s=this.rows[i+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(t){return EM(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return CM(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return wM(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return EM(t,this.previewStart,this.previewEnd)}_isInPreview(t){return CM(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const i=bM(t);if(i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Be))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Ln],attrs:ple,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){1&i&&(ht(0,mle,3,6,"tr",0),ht(1,yle,3,2,"tr",1),U(2,"label",2),fe(3),j(),U(4,"label",2),fe(5),j()),2&i&&(me("ngIf",r._firstRowOffset<r.labelMinRequiredCells),Y(1),me("ngForOf",r.rows),Y(1),me("id",r._startDateLabelId),Y(1),jn(" ",r.startDateAccessibleName,"\n"),Y(1),me("id",r._endDateLabelId),Y(1),jn(" ",r.endDateAccessibleName,"\n"))},dependencies:[xD,wm,Qc],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function vM(n){return"TD"===n?.nodeName}function bM(n){let e;return vM(n)?e=n:vM(n.parentNode)?e=n.parentNode:vM(n.parentNode?.parentNode)&&(e=n.parentNode.parentNode),null!=e?.getAttribute("data-mat-row")?e:null}function wM(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function EM(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function CM(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}function KH(n){const e=n.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}class Ki{constructor(e,t){this.start=e,this.end=t}}let Xl=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new z,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static#e=this.\u0275fac=function(i){vv()};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),kle=(()=>{class n extends Xl{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}static#e=this.\u0275fac=function(i){return new(i||n)(O(Xn))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),Ole=(()=>{class n extends Xl{constructor(t){super(new Ki(null,null),t)}add(t){let{start:i,end:r}=this.selection;null==i?i=t:null==r?r=t:(i=t,r=null),super.updateSelection(new Ki(i,r),this)}isValid(){const{start:t,end:i}=this.selection;return null==t&&null==i||(null!=t&&null!=i?this._isValidDateInstance(t)&&this._isValidDateInstance(i)&&this._adapter.compareDate(t,i)<=0:(null==t||this._isValidDateInstance(t))&&(null==i||this._isValidDateInstance(i)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}static#e=this.\u0275fac=function(i){return new(i||n)(O(Xn))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const Fle={provide:Xl,deps:[[new Is,new oa,Xl],Xn],useFactory:function Nle(n,e){return n||new kle(e)}},Vle={provide:Xl,deps:[[new Is,new oa,Xl],Xn],useFactory:function Lle(n,e){return n||new Ole(e)}},Bw=new ie("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ble=(()=>{class n{constructor(t){this._dateAdapter=t}selectionFinished(t,i){let{start:r,end:o}=i;return null==r?r=t:null==o&&t&&this._dateAdapter.compareDate(t,r)>=0?o=t:(r=t,o=null),new Ki(r,o)}createPreview(t,i){let r=null,o=null;return i.start&&!i.end&&t&&(r=i.start,o=t),new Ki(r,o)}createDrag(t,i,r){let o=i.start,s=i.end;if(!o||!s)return null;const a=this._dateAdapter,l=0!==a.compareDate(o,s),u=a.getYear(r)-a.getYear(t),h=a.getMonth(r)-a.getMonth(t),m=a.getDate(r)-a.getDate(t);return l&&a.sameDate(t,i.start)?(o=r,a.compareDate(r,s)>0&&(s=a.addCalendarYears(s,u),s=a.addCalendarMonths(s,h),s=a.addCalendarDays(s,m))):l&&a.sameDate(t,i.end)?(s=r,a.compareDate(r,o)<0&&(o=a.addCalendarYears(o,u),o=a.addCalendarMonths(o,h),o=a.addCalendarDays(o,m))):(o=a.addCalendarYears(o,u),o=a.addCalendarMonths(o,h),o=a.addCalendarDays(o,m),s=a.addCalendarYears(s,u),s=a.addCalendarMonths(s,h),s=a.addCalendarDays(s,m)),new Ki(o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Xn))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const jle={provide:Bw,deps:[[new Is,new oa,Bw],Xn],useFactory:function Ule(n,e){return n||new Ble(e)}};let YH=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ki?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,o,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=We.EMPTY,this.activeDrag=null,this.selectedChange=new Fe,this._userSelection=new Fe,this.dragStarted=new Fe,this.dragEnded=new Fe,this.activeDateChange=new Fe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yl(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,r=this._getDateFromDayOfMonth(i);let o,s;this._selected instanceof Ki?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==i||s!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!xf(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,t);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){const s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,t);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((s,a)=>({long:s,narrow:i[a]}));this._weekdays=o.slice(t).concat(o.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<t;r++,o++){7==o&&(this._weeks.push([]),o=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(s),l=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),u=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new yM(r+1,i[r],l,a,u,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Ki?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)(x(Br),x($s,8),x(Xn,8),x(Vu,8),x(Bw,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(1&i&&rr(Sf,5),2&i){let o;nn(o=rn())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Ln],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){1&i&&(U(0,"table",0)(1,"thead",1)(2,"tr"),ht(3,vle,5,2,"th",2),j(),U(4,"tr"),Ht(5,"th",3),j()(),U(6,"tbody",4),Re("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),j()()),2&i&&(Y(3),me("ngForOf",r._weekdays),Y(3),me("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[wm,Sf],encapsulation:2,changeDetection:0})}return n})();const so=24;let ZH=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),QH(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ki?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=We.EMPTY,this.selectedChange=new Fe,this.yearSelected=new Fe,this.activeDateChange=new Fe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-D_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<so;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-D_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,so-D_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-so:-so);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*so:so);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return D_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new yM(t,r,r,this._shouldEnableYear(t),o)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Ki){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static#e=this.\u0275fac=function(i){return new(i||n)(x(Br),x(Xn,8),x(Vu,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(1&i&&rr(Sf,5),2&i){let o;nn(o=rn())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(U(0,"table",0)(1,"thead",1)(2,"tr"),Ht(3,"th",2),j()(),U(4,"tbody",3),Re("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),j()()),2&i&&(Y(4),me("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Sf],encapsulation:2,changeDetection:0})}return n})();function QH(n,e,t,i,r){const o=n.getYear(e),s=n.getYear(t),a=XH(n,i,r);return Math.floor((o-a)/so)===Math.floor((s-a)/so)}function D_(n,e,t,i){return function zle(n,e){return(n%e+e)%e}(n.getYear(e)-XH(n,t,i),so)}function XH(n,e,t){let i=0;return t?i=n.getYear(t)-so+1:e&&(i=n.getYear(e)),i}let JH=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ki?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=We.EMPTY,this.selectedChange=new Fe,this.monthSelected=new Fe,this.activeDateChange=new Fe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(t,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new yM(t,i.toLocaleUpperCase(),o,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Ki?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Br),x($s,8),x(Xn,8),x(Vu,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(1&i&&rr(Sf,5),2&i){let o;nn(o=rn())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(U(0,"table",0)(1,"thead",1)(2,"tr"),Ht(3,"th",2),j()(),U(4,"tbody",3),Re("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),j()()),2&i&&(Y(4),me("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Sf],encapsulation:2,changeDetection:0})}return n})(),Hle=1,$le=(()=>{class n{constructor(t,i,r,o,s){this._intl=t,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id="mat-calendar-header-"+Hle++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-so)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:so)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):QH(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-D_(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+so-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)(x(I_),x(B(()=>Uw)),x(Xn,8),x($s,8),x(Br))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ble,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){1&i&&(Wo(),U(0,"div",0)(1,"div",1)(2,"button",2),Re("click",function(){return r.currentPeriodClicked()}),U(3,"span",3),fe(4),j(),Ip(),U(5,"svg",4),Ht(6,"polygon",5),j()(),function xy(){!function UE(){je.lFrame.currentNamespace=null}()}(),Ht(7,"div",6),dn(8),U(9,"button",7),Re("click",function(){return r.previousClicked()}),j(),U(10,"button",8),Re("click",function(){return r.nextClicked()}),j()()(),U(11,"label",9),fe(12),j()),2&i&&(Y(2),Qt("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),Y(2),hn(r.periodButtonText),Y(1),Cn("mat-calendar-invert","month"!==r.calendar.currentView),Y(4),me("disabled",!r.previousEnabled()),Qt("aria-label",r.prevButtonLabel),Y(1),me("disabled",!r.nextEnabled()),Qt("aria-label",r.nextButtonLabel),Y(1),me("id",r._periodButtonLabelId),Y(1),hn(r.periodButtonDescription))},dependencies:[MH,RH],encapsulation:2,changeDetection:0})}return n})(),Uw=(()=>{class n{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ki?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Fe,this.yearSelected=new Fe,this.monthSelected=new Fe,this.viewChanged=new Fe(!0),this._userSelection=new Fe,this._userDragDrop=new Fe,this._activeDrag=null,this.stateChanges=new z,this._intlChanges=t.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new uM(this.headerComponent||$le),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,r=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=i||r||t.dateFilter;if(o&&!o.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof Ki||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)(x(I_),x(Xn,8),x($s,8),x(Br))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(1&i&&(rr(YH,5),rr(JH,5),rr(ZH,5)),2&i){let o;nn(o=rn())&&(r.monthView=o.first),nn(o=rn())&&(r.yearView=o.first),nn(o=rn())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ot([Fle]),Ln],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,r){1&i&&(ht(0,wle,0,0,"ng-template",0),U(1,"div",1),ht(2,Ele,1,11,"mat-month-view",2),ht(3,Cle,1,6,"mat-year-view",3),ht(4,Ile,1,6,"mat-multi-year-view",4),j()),2&i&&(me("cdkPortalOutlet",r._calendarHeaderPortal),Y(1),me("ngSwitch",r.currentView),Y(1),me("ngSwitchCase","month"),Y(1),me("ngSwitchCase","year"),Y(1),me("ngSwitchCase","multi-year"))},dependencies:[Em,AD,W4,gH,YH,JH,ZH],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const e3={transformPanel:hM("transformPanel",[E_("void => enter-dropdown",w_("120ms cubic-bezier(0, 0, 0.2, 1)",OH([ns({opacity:0,transform:"scale(1, 0.8)"}),ns({opacity:1,transform:"scale(1, 1)"})]))),E_("void => enter-dialog",w_("150ms cubic-bezier(0, 0, 0.2, 1)",OH([ns({opacity:0,transform:"scale(0.7)"}),ns({transform:"none",opacity:1})]))),E_("* => void",w_("100ms linear",ns({opacity:0})))]),fadeInCalendar:hM("fadeInCalendar",[fM("void",ns({opacity:0})),fM("enter",ns({opacity:1})),E_("void => *",w_("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let qle=0;const t3=new ie("mat-datepicker-scroll-strategy"),Wle={provide:t3,deps:[Fw],useFactory:function Gle(n){return()=>n.scrollStrategies.reposition()}},Kle=J4(class{constructor(n){this._elementRef=n}});let Yle=(()=>{class n extends Kle{constructor(t,i,r,o,s,a){super(t),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new We,this._animationDone=new z,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,r=t.value,o=i instanceof Ki;if(o&&this._rangeSelectionStrategy){const s=this._rangeSelectionStrategy.selectionFinished(r,i,t.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Br),x(Xl),x(Xn),x(Bw,8),x(I_))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(1&i&&rr(Uw,5),2&i){let o;nn(o=rn())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){1&i&&wI("@transformPanel.start",function(s){return r._handleAnimationEvent(s)})("@transformPanel.done",function(s){return r._handleAnimationEvent(s)}),2&i&&(TI("@transformPanel",r._animationState),Cn("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[_t],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,r){if(1&i&&(U(0,"div",0)(1,"mat-calendar",1),Re("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),j(),ht(2,Dle,0,0,"ng-template",2),U(3,"button",3),Re("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),fe(4),j()()),2&i){let o;Cn("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Qt("aria-modal",!0)("aria-labelledby",null!==(o=r._dialogLabelId)&&void 0!==o?o:void 0),Y(1),me("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),Y(1),me("cdkPortalOutlet",r._actionsPortal),Y(1),Cn("cdk-visually-hidden",!r._closeButtonFocused),me("color",r.color||"primary"),Y(1),hn(r._closeButtonText)}},dependencies:[xD,MH,Goe,gH,Uw],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[e3.transformPanel,e3.fadeInCalendar]},changeDetection:0})}return n})(),n3=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Rr(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=Rr(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=Rr(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function Ioe(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t)}get opened(){return this._opened}set opened(t){Rr(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,r,o,s,a,l){this._overlay=t,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=s,this._dir=a,this._model=l,this._inputStateChanges=We.EMPTY,this._document=he(At),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Fe,this.monthSelected=new Fe,this.viewChanged=new Fe(!0),this.openedStream=new Fe,this.closedStream=new Fe,this._opened=!1,this.id="mat-datepicker-"+qle++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new z,this._scrollStrategy=o}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof DH&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=k4(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(or(1)).subscribe(()=>{const s=this._document.activeElement;t&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new uM(Yle,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new wH({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const s=o.keyCode;(38===s||40===s||37===s||39===s||33===s||34===s)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe(or(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",s="top"===o?"bottom":"top";return t.withPositions([{originX:i,originY:s,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return Q(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(Ui(r=>27===r.keyCode&&!xf(r)||this.datepickerInput&&xf(r,"altKey")&&38===r.keyCode&&i.every(o=>!xf(r,o)))))}static#e=this.\u0275fac=function(i){return new(i||n)(x(Fw),x(Be),x(Jr),x(t3),x(Xn,8),x(Vu,8),x(Xl))};static#t=this.\u0275dir=ge({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Ln]})}return n})();class jw{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let r3=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=Rr(t),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new jw(this,this._elementRef.nativeElement)),this.dateChange.emit(new jw(this,this._elementRef.nativeElement))}})}constructor(t,i,r){this._elementRef=t,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new Fe,this.dateInput=new Fe,this.stateChanges=new z,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=We.EMPTY,this._localeSubscription=We.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),a=this._getMinDate();return!a||!s||this._dateAdapter.compareDate(a,s)<=0?null:{matDatepickerMin:{min:a,actual:s}}},this._maxValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),a=this._getMaxDate();return!a||!s||this._dateAdapter.compareDate(a,s)>=0?null:{matDatepickerMax:{max:a,actual:s}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){o3(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){xf(t,"altKey")&&40===t.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!xf(t,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(t&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new jw(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new jw(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Tt),x(Xn,8),x($s,8))};static#t=this.\u0275dir=ge({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ln]})}return n})();function o3(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:r,currentValue:o}=n[i];if(!e.isDateInstance(r)||!e.isDateInstance(o))return!0;if(!e.sameDate(r,o))return!0}return!1}let Xle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ge({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),Jle=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=Rr(t)}constructor(t,i,r){this._intl=t,this._changeDetectorRef=i,this._stateChanges=We.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:q(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:q(),r=this.datepicker?Q(this.datepicker.openedStream,this.datepicker.closedStream):q();this._stateChanges.unsubscribe(),this._stateChanges=Q(this._intl.changes,t,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(x(I_),x(Br),Ja("tabindex"))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,o){if(1&i&&So(o,Xle,5),2&i){let s;nn(s=rn())&&(r._customIcon=s.first)}},viewQuery:function(i,r){if(1&i&&rr(xle,5),2&i){let o;nn(o=rn())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){1&i&&Re("click",function(s){return r._open(s)}),2&i&&(Qt("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Cn("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Ln],ngContentSelectors:Sle,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){1&i&&(Wo(Ale),U(0,"button",0,1),ht(2,Tle,2,0,"svg",2),dn(3),j()),2&i&&(me("disabled",r.disabled)("disableRipple",r.disableRipple),Qt("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),Y(2),me("ngIf",!r._customIcon))},dependencies:[Qc,RH],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})();function ece(n){return xM(n,!0)}function a3(n){return n.nodeType===Node.ELEMENT_NODE}function xM(n,e){if(a3(n)&&e){const i=(n.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((r,o)=>{const s=document.getElementById(o);return s&&r.push(s),r},[]);if(i.length)return i.map(r=>xM(r,!1)).join(" ")}if(a3(n)){const t=n.getAttribute("aria-label")?.trim();if(t)return t}if(function tce(n){return"INPUT"===n.nodeName}(n)||function nce(n){return"TEXTAREA"===n.nodeName}(n)){if(n.labels?.length)return Array.from(n.labels).map(r=>xM(r,!1)).join(" ");const t=n.getAttribute("placeholder")?.trim();if(t)return t;const i=n.getAttribute("title")?.trim();if(i)return i}return(n.textContent||"").replace(/\s+/g," ").trim()}const zw=new ie("MAT_DATE_RANGE_INPUT_PARENT"),l3=ase((()=>{class n extends r3{constructor(t,i,r,o,s,a,l,u){super(i,l,u),this._rangeInput=t,this._elementRef=i,this._defaultErrorStateMatcher=r,this._injector=o,this._parentForm=s,this._parentFormGroup=a,this._dir=he(Vu,{optional:!0})}ngOnInit(){const t=this._injector.get(Ta,null,{optional:!0,self:!0});t&&(this.ngControl=t)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const t=this._elementRef.nativeElement,i=t.value;return i.length>0?i:t.placeholder}_onInput(t){super._onInput(t),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:t}){return t!==this._rangeInput._startInput&&t!==this._rangeInput._endInput}_assignValueProgrammatically(t){super._assignValueProgrammatically(t),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return ece(this._elementRef.nativeElement)}static#e=this.\u0275fac=function(i){return new(i||n)(x(zw),x(Tt),x(iM),x(Ti),x(Aa,8),x(ku,8),x(Xn,8),x($s,8))};static#t=this.\u0275dir=ge({type:n,features:[_t]})}return n})());let c3=(()=>{class n extends l3{constructor(t,i,r,o,s,a,l,u){super(t,i,r,o,s,a,l,u),this._startValidator=h=>{const m=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(h.value)),g=this._model?this._model.selection.end:null;return!m||!g||this._dateAdapter.compareDate(m,g)<=0?null:{matStartDateInvalid:{end:g,actual:m}}},this._validator=cw.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(t){return t.start}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.start?t.selection.start&&!this._dateAdapter.compareDate(t.oldValue.start,t.selection.start):!t.selection.start))}_assignValueToModel(t){if(this._model){const i=new Ki(t,this._model.selection.end);this._model.updateSelection(i,this)}}_formatValue(t){super._formatValue(t),this._rangeInput._handleChildValueChange()}_onKeydown(t){const i=this._rangeInput._endInput,r=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;(39===t.keyCode&&o||37===t.keyCode&&!o)&&r.selectionStart===r.value.length&&r.selectionEnd===r.value.length?(t.preventDefault(),i._elementRef.nativeElement.setSelectionRange(0,0),i.focus()):super._onKeydown(t)}static#e=this.\u0275fac=function(i){return new(i||n)(x(zw),x(Tt),x(iM),x(Ti),x(Aa,8),x(ku,8),x(Xn,8),x($s,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(i,r){1&i&&Re("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("keydown",function(s){return r._onKeydown(s)})("blur",function(){return r._onBlur()}),2&i&&(Gc("disabled",r.disabled),Qt("aria-haspopup",r._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==r._rangeInput.rangePicker?null:r._rangeInput.rangePicker.opened)&&r._rangeInput.rangePicker.id||null)("min",r._getMinDate()?r._dateAdapter.toIso8601(r._getMinDate()):null)("max",r._getMaxDate()?r._dateAdapter.toIso8601(r._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ot([{provide:oo,useExisting:n,multi:!0},{provide:Ci,useExisting:n,multi:!0}]),_t]})}return n})(),u3=(()=>{class n extends l3{constructor(t,i,r,o,s,a,l,u){super(t,i,r,o,s,a,l,u),this._endValidator=h=>{const m=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(h.value)),g=this._model?this._model.selection.start:null;return!m||!g||this._dateAdapter.compareDate(m,g)>=0?null:{matEndDateInvalid:{start:g,actual:m}}},this._validator=cw.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(t){return t.end}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.end?t.selection.end&&!this._dateAdapter.compareDate(t.oldValue.end,t.selection.end):!t.selection.end))}_assignValueToModel(t){if(this._model){const i=new Ki(this._model.selection.start,t);this._model.updateSelection(i,this)}}_onKeydown(t){const i=this._rangeInput._startInput,r=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;if(8!==t.keyCode||r.value)if((37===t.keyCode&&o||39===t.keyCode&&!o)&&0===r.selectionStart&&0===r.selectionEnd){t.preventDefault();const s=i._elementRef.nativeElement.value.length;i._elementRef.nativeElement.setSelectionRange(s,s),i.focus()}else super._onKeydown(t);else i.focus()}static#e=this.\u0275fac=function(i){return new(i||n)(x(zw),x(Tt),x(iM),x(Ti),x(Aa,8),x(ku,8),x(Xn,8),x($s,8))};static#t=this.\u0275dir=ge({type:n,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(i,r){1&i&&Re("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("keydown",function(s){return r._onKeydown(s)})("blur",function(){return r._onBlur()}),2&i&&(Gc("disabled",r.disabled),Qt("aria-haspopup",r._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==r._rangeInput.rangePicker?null:r._rangeInput.rangePicker.opened)&&r._rangeInput.rangePicker.id||null)("min",r._getMinDate()?r._dateAdapter.toIso8601(r._getMinDate()):null)("max",r._getMaxDate()?r._dateAdapter.toIso8601(r._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ot([{provide:oo,useExisting:n,multi:!0},{provide:Ci,useExisting:n,multi:!0}]),_t]})}return n})(),ice=0,rce=(()=>{class n{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const t=this._startInput?._getPlaceholder()||"",i=this._endInput?._getPlaceholder()||"";return t||i?`${t} ${this.separator} ${i}`:""}get rangePicker(){return this._rangePicker}set rangePicker(t){t&&(this._model=t.registerInput(this),this._rangePicker=t,this._closedSubscription.unsubscribe(),this._closedSubscription=t.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(t){this._required=Rr(t)}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._startInput,r=this._endInput,o=i&&i._matchesFilter(i.value),s=r&&r._matchesFilter(i.value);this._dateFilter=t,i&&i._matchesFilter(i.value)!==o&&i._validatorOnChange(),r&&r._matchesFilter(r.value)!==s&&r._validatorOnChange()}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(t){const i=Rr(t);i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const t=!!this._startInput&&this._startInput.isEmpty(),i=!!this._endInput&&this._endInput.isEmpty();return t&&i}constructor(t,i,r,o,s){this._changeDetectorRef=t,this._elementRef=i,this._dateAdapter=o,this._formField=s,this._closedSubscription=We.EMPTY,this.id="mat-date-range-input-"+ice++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new z,s?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&i.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=r}setDescribedByIds(t){this._ariaDescribedBy=t.length?t.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),Q(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(t){o3(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(t){const i="start"===t?this._startInput:this._endInput;return i?i.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const t=this._formField;return t&&t._hasFloatingLabel()?t._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(t){this.focused=null!==t,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(t){this._startInput&&this._startInput._registerModel(t),this._endInput&&this._endInput._registerModel(t)}_isTargetRequired(t){return t?.ngControl?.control?.hasValidator(cw.required)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Br),x(Tt),x(dr,10),x(Xn,8),x(_M,8))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-date-range-input"]],contentQueries:function(i,r,o){if(1&i&&(So(o,c3,5),So(o,u3,5)),2&i){let s;nn(s=rn())&&(r._startInput=s.first),nn(s=rn())&&(r._endInput=s.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(i,r){2&i&&(Qt("id",r.id)("aria-labelledby",r._getAriaLabelledby())("aria-describedby",r._ariaDescribedBy)("data-mat-calendar",r.rangePicker?r.rangePicker.id:null),Cn("mat-date-range-input-hide-placeholders",r._shouldHidePlaceholders())("mat-date-range-input-required",r.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[Ot([{provide:HH,useExisting:n},{provide:zw,useExisting:n}]),Ln],ngContentSelectors:Rle,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(i,r){1&i&&(Wo(Mle),U(0,"div",0),Re("cdkFocusChange",function(s){return r._updateFocus(s)}),U(1,"div",1),dn(2),U(3,"span",2),fe(4),j()(),U(5,"span",3),fe(6),j(),U(7,"div",4),dn(8,1),U(9,"span",2),fe(10),j()()()),2&i&&(Y(4),hn(r._getInputMirrorValue("start")),Y(1),Cn("mat-date-range-input-separator-hidden",r._shouldHideSeparator()),Y(1),hn(r.separator),Y(4),hn(r._getInputMirrorValue("end")))},dependencies:[W4],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color)}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0})}return n})(),oce=(()=>{class n extends n3{_forwardContentValues(t){super._forwardContentValues(t);const i=this.datepickerInput;i&&(t.comparisonStart=i.comparisonStart,t.comparisonEnd=i.comparisonEnd,t.startDateAccessibleName=i._getStartDateAccessibleName(),t.endDateAccessibleName=i._getEndDateAccessibleName())}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Vn(n)))(r||n)}}();static#t=this.\u0275cmp=Vt({type:n,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[Ot([Vle,jle,{provide:n3,useExisting:n}]),_t],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})(),sce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:[I_,Wle],imports:[Cm,xae,mae,Xoe,_H,Sa,lM]})}return n})();function ace(n,e){if(1&n){const t=Ts();U(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),fe(4),j(),U(5,"p",6)(6,"label"),fe(7),Nt(8,"translate"),j(),fe(9),j(),U(10,"p",7)(11,"label"),fe(12),Nt(13,"translate"),j(),fe(14),j(),U(15,"p",8)(16,"label"),fe(17),Nt(18,"translate"),j(),fe(19),j(),U(20,"p",9)(21,"label"),fe(22),Nt(23,"translate"),j(),fe(24),j()(),U(25,"button",10),Re("click",function(){return wn(t),En(Qe().openPopUp())}),fe(26),j()()()}if(2&n){const t=Qe();Y(4),Xr("",t.selectedDoctor.Name," ",t.selectedDoctor.LastName,""),Y(3),jn("",Bt(8,13,"Email"),":"),Y(2),jn(" ",t.selectedDoctor.Email,""),Y(3),jn("",Bt(13,15,"Phone"),":"),Y(2),jn(" ",t.selectedDoctor.PhoneNumber,""),Y(3),jn("",Bt(18,17,"Category"),":"),Y(2),jn(" ",t.selectedDoctor.Category,""),Y(3),jn("",Bt(23,19,"Description"),":"),Y(2),jn(" ",t.selectedDoctor.Description,""),Y(1),sh("background-color",t.toggle?"green":"red"),Y(1),jn(" ",t.buttonText,"")}}function lce(n,e){if(1&n){const t=Ts();U(0,"div",11)(1,"span",12),Re("click",function(){return wn(t),En(Qe().closePopUp())}),fe(2,"X"),j(),U(3,"div",13)(4,"mat-card",14)(5,"mat-calendar",15),Re("selectedChange",function(r){return wn(t),En(Qe().selected=r)}),j()(),U(6,"p"),fe(7),j()(),U(8,"div",16)(9,"button",17),Re("click",function(){wn(t);const r=Qe();return En(r.confirmBook(r.selected))}),fe(10,"Confirm"),j()()()}if(2&n){const t=Qe();Y(5),me("selected",t.selected),Y(2),jn("Selected date: ",t.selected,"")}}let cce=(()=>{class n{constructor(t,i,r){this.firestore=t,this.auth=i,this.route=r,this.popUp=!1,this.buttonText="Book Visit",this.toggle=!1,this.doctorsCollection=this.firestore.collection("Doctors"),this.Doctors$=this.doctorsCollection.valueChanges()}logOut(){this.auth.logout()}ngOnInit(){this.auth.getUserName$().subscribe(t=>{this.currentUser=t}),this.route.params.subscribe(t=>{const i=t.id;i&&this.Doctors$.subscribe(r=>{const o=r.find(s=>s.Id===i);o?this.selectedDoctor=o:console.error(`Doctor with ID ${i} not found`)})})}openPopUp(){this.popUp=!0}closePopUp(){this.popUp=!1}confirmBook(t){this.selected=t,this.closePopUp();const i={date:this.selected,doctor:{name:this.selectedDoctor.Name,lastName:this.selectedDoctor.LastName,category:this.selectedDoctor.Category,email:this.selectedDoctor.Email,phoneNumber:this.selectedDoctor.PhoneNumber}};try{this.auth.BookedDoctor(i.date,i.doctor),this.buttonText="Visit Booked",this.toggle=!0}catch(r){console.error("Error booking doctor:",r)}}static#e=this.\u0275fac=function(i){return new(i||n)(x(lw),x(Mu),x(iu))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-doctor-details-page"]],decls:5,vars:2,consts:[["class","doctor-details",4,"ngIf"],["class","popUp",4,"ngIf"],[1,"doctor-details"],[1,"doctor-info-container"],[1,"doctor-info"],[1,"doctor-name"],[1,"doctor-email"],[1,"doctor-phone"],[1,"doctor-category"],[1,"doctor-description"],[1,"book-visit-btn",3,"click"],[1,"popUp"],[1,"close-button",3,"click"],[1,"popUp-content"],[1,"demo-inline-calendar-card"],[3,"selected","selectedChange"],[1,"buttonDiv"],[1,"confirm-button",3,"click"]],template:function(i,r){1&i&&(U(0,"body")(1,"header"),Ht(2,"app-multi-header"),j(),ht(3,ace,27,21,"div",0),ht(4,lce,11,2,"div",1),j()),2&i&&(Y(3),me("ngIf",r.selectedDoctor),Y(1),me("ngIf",r.popUp))},dependencies:[Qc,cH,Uw,YS,xw],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:sans-serif}.doctor-details[_ngcontent-%COMP%]{transition:box-shadow .3s ease;display:flex;justify-content:center;align-items:center;width:100%;min-height:90vh;position:absolute;padding:0 10px}.doctor-info-container[_ngcontent-%COMP%]{max-width:800px;width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#f9f9f9;border-radius:15px;box-shadow:0 0 20px #0000001a;padding:40px;margin:20px 0;gap:2rem;flex-wrap:wrap}.doctor-info[_ngcontent-%COMP%]{flex:1}.doctor-name[_ngcontent-%COMP%]{font-size:36px;color:#3498db;margin-bottom:25px;font-weight:700;letter-spacing:1px}.doctor-email[_ngcontent-%COMP%], .doctor-phone[_ngcontent-%COMP%], .doctor-category[_ngcontent-%COMP%], .doctor-description[_ngcontent-%COMP%]{margin-bottom:15px}.doctor-email[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .doctor-phone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .doctor-category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .doctor-description[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#3498db;font-weight:700;margin-right:5px}.doctor-email[_ngcontent-%COMP%]{color:#555;font-size:16px}.doctor-phone[_ngcontent-%COMP%]{color:#27ae60;font-size:16px}.doctor-category[_ngcontent-%COMP%]{color:#e74c3c;font-size:16px}.doctor-description[_ngcontent-%COMP%]{color:#c0392b;font-size:16px}.book-visit-btn[_ngcontent-%COMP%]{background-color:#e67e22;color:#fff;padding:15px 30px;border:none;border-radius:8px;cursor:pointer;font-size:18px;transition:background-color .3s ease}.book-visit-btn[_ngcontent-%COMP%]:hover{background-color:#d35400}.popUp[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;background-color:#fff;box-shadow:0 0 10px #0003;padding:20px;border-radius:8px;z-index:1000}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;cursor:pointer;font-size:25px;color:#333}.popUp-content[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-direction:column;align-items:center;justify-content:center}.demo-inline-calendar-card[_ngcontent-%COMP%]{max-width:300px;width:100%;box-shadow:none;background-color:#27ae60}p[_ngcontent-%COMP%]{margin:0;color:#555}.buttonDiv[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin:0 auto}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})(),uce=(()=>{class n{constructor(t){this.auth=t,this.passcode="",this.category="",this.description="",this.name="",this.lastName="",this.email="",this.phoneNumber="",this.password="",this.passcode=""}ngOnInit(){}registerDoctor(){if("12345678"===this.passcode){if(""==this.category)return void alert("Please enter category");if(""==this.description)return void alert("Please enter description");if(""==this.name)return void alert("please enter name");if(""==this.password)return void alert("Please enter password");if(""==this.email)return void alert("Please enter email");if(""==this.phoneNumber)return void alert("Please enter Phone Number")}else alert("Invalid passcode. Please enter a valid passcode.");this.auth.registerDoctor(this.category,this.description,this.name,this.lastName,this.email,this.phoneNumber,this.password)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Mu))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-register-doctor"]],decls:33,vars:8,consts:[[1,"container"],[3,"ngSubmit"],["registerForm","ngForm"],["for","passcode"],["type","password","id","passcode","name","passcode","required","",3,"ngModel","ngModelChange"],["for","category"],["type","text","id","category","name","category","required","",3,"ngModel","ngModelChange"],["for","description"],["type","text","id","description","name","description","required","",3,"ngModel","ngModelChange"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModel","ngModelChange"],["for","lastName"],["type","text","id","lastName","name","lastName","required","",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","phone"],["type","text","id","phone","name","phone","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"],["href","/login",1,"Login",2,"text-decoration","none"]],template:function(i,r){1&i&&(U(0,"div",0)(1,"form",1,2),Re("ngSubmit",function(){return r.registerDoctor()}),U(3,"div")(4,"label",3),fe(5,"Enter Passcode:"),j(),U(6,"input",4),Re("ngModelChange",function(s){return r.passcode=s}),j()(),U(7,"label",5),fe(8,"Category:"),j(),U(9,"input",6),Re("ngModelChange",function(s){return r.category=s}),j(),U(10,"label",7),fe(11,"Description:"),j(),U(12,"input",8),Re("ngModelChange",function(s){return r.description=s}),j(),U(13,"label",9),fe(14,"Name:"),j(),U(15,"input",10),Re("ngModelChange",function(s){return r.name=s}),j(),U(16,"label",11),fe(17,"Last Name:"),j(),U(18,"input",12),Re("ngModelChange",function(s){return r.lastName=s}),j(),U(19,"label",13),fe(20,"Email:"),j(),U(21,"input",14),Re("ngModelChange",function(s){return r.email=s}),j(),U(22,"label",15),fe(23,"Phone:"),j(),U(24,"input",16),Re("ngModelChange",function(s){return r.phoneNumber=s}),j(),U(25,"label",17),fe(26,"Password:"),j(),U(27,"input",18),Re("ngModelChange",function(s){return r.password=s}),j(),U(28,"button",19),fe(29,"Register"),j(),U(30,"span")(31,"a",20),fe(32,"Back to Login"),j()()()()),2&i&&(Y(6),me("ngModel",r.passcode),Y(3),me("ngModel",r.category),Y(3),me("ngModel",r.description),Y(3),me("ngModel",r.name),Y(3),me("ngModel",r.lastName),Y(3),me("ngModel",r.email),Y(3),me("ngModel",r.phoneNumber),Y(3),me("ngModel",r.password))},dependencies:[ww,Gl,yf,a_,f_,bf,Aa],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;background-color:#35959c;width:100%;height:100dvh;display:flex;justify-content:center;align-items:center;padding:0 20px}form[_ngcontent-%COMP%]{background-color:#ccc;width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 10px #0000001a}h4[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-top:0;margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}input[_ngcontent-%COMP%]{width:100%;padding:.5rem 0rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;margin-bottom:1rem;outline:none}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;width:100%;padding:.75rem 0rem;border:none;border-radius:.25rem;margin-bottom:1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0056b3}.txt[_ngcontent-%COMP%]{text-align:center}"]})}return n})();function dce(n,e){1&n&&(U(0,"mat-error"),fe(1,"Invalid start date"),j())}function hce(n,e){1&n&&(U(0,"mat-error"),fe(1,"Invalid end date"),j())}function fce(n,e){if(1&n&&(U(0,"div",13)(1,"h1"),fe(2),j(),U(3,"p",14),fe(4),j(),U(5,"p",15),fe(6),Nt(7,"translate"),Nt(8,"date"),j(),U(9,"div",16)(10,"h2"),fe(11,"Contact Information"),j(),U(12,"p"),fe(13),Nt(14,"translate"),j(),U(15,"p"),fe(16),Nt(17,"translate"),j()()()),2&n){const t=e.$implicit,i=e.index,r=Qe(2);Y(2),Xr("",t.name," ",t.lastName,""),Y(2),hn(t.category),Y(2),Xr("",Bt(7,9,"Visit Date"),": ",VI(8,11,r.SeachedBookedDoctorDate[i],"medium"),""),Y(7),Xr("",Bt(14,14,"Phone"),": ",t.phoneNumber,""),Y(3),Xr("",Bt(17,16,"Email"),": ",t.email,"")}}function pce(n,e){if(1&n&&(U(0,"div"),ht(1,fce,18,18,"div",12),j()),2&n){const t=Qe();Y(1),me("ngForOf",t.filteredDoctors)}}function mce(n,e){if(1&n&&(U(0,"div",13)(1,"h1"),fe(2),j(),U(3,"p",14),fe(4),j(),U(5,"p",15),fe(6),Nt(7,"translate"),Nt(8,"date"),j(),U(9,"div",16)(10,"h2"),fe(11,"Contact Information"),j(),U(12,"p"),fe(13),Nt(14,"translate"),j(),U(15,"p"),fe(16),Nt(17,"translate"),j()()()),2&n){const t=e.$implicit,i=e.index,r=Qe(2);Y(2),Xr("",t.name," ",t.lastName,""),Y(2),hn(t.category),Y(2),Xr("",Bt(7,9,"Visit Date"),": ",VI(8,11,r.BookedDoctorDate[i],"medium"),""),Y(7),Xr("",Bt(14,14,"Phone"),": ",t.phoneNumber,""),Y(3),Xr("",Bt(17,16,"Email"),": ",t.email,"")}}function gce(n,e){1&n&&ht(0,mce,18,18,"div",12),2&n&&me("ngForOf",Qe().BookedDoctors)}const _ce=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:soe},{path:"dashboard",component:doe},{path:"register",component:hoe},{path:"register-doctor",component:uce},{path:"doctor-details-page/:id",component:cce},{path:"my-booking",component:(()=>{class n{constructor(t,i){this.auth=t,this.languageService=i,this.BookedDoctors=[],this.BookedDoctorDate=[],this.SeachedBookedDoctorDate=[],this.range=new mw({start:new bw(null),end:new bw(null)}),this.dateRange=!0,this.filteredDoctors=[]}logOut(){this.auth.logout()}ngOnInit(){this.auth.getUserName$().subscribe(t=>{this.currentUser=t}),this.fetchBookedDoctor()}fetchBookedDoctor(){this.auth.getBookedDoctor$().subscribe(t=>{this.BookedDoctors=t||[],this.BookedDoctorDate=[],this.BookedDoctors.forEach(i=>{const r=i.date.toDate().toDateString();this.BookedDoctorDate.push(r)})})}fetchFilteredDoctors(t,i){const r=t.getTime(),o=i.getTime();return this.BookedDoctors.filter(s=>{const a=s.date.toDate().getTime();return a>=r&&a<=o})}reset(){this.filteredDoctors.length=0,this.fetchBookedDoctor()}logDates(){const t=this.range.get("start")?.value??new Date,i=this.range.get("end")?.value??new Date;this.filteredDoctors=this.fetchFilteredDoctors(t,i),0==this.filteredDoctors.length&&(this.BookedDoctors=[]),this.SeachedBookedDoctorDate=this.filteredDoctors.map(r=>r.date.toDate().toDateString())}static#e=this.\u0275fac=function(i){return new(i||n)(x(Mu),x(S4))};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-my-booking"]],decls:28,vars:13,consts:[[1,"dateRange",3,"formGroup"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","formControlName","start"],["matEndDate","","placeholder","End date","formControlName","end"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],[1,"btn"],[1,"searchBtn",3,"click"],[1,"resetBtn",3,"click"],[4,"ngIf","ngIfElse"],["defaultData",""],["class","booking-details-container",4,"ngFor","ngForOf"],[1,"booking-details-container"],[1,"category"],[1,"visit-date"],[1,"contact-info"]],template:function(i,r){if(1&i&&(U(0,"body")(1,"header"),Ht(2,"app-multi-header"),j(),U(3,"main")(4,"div",0)(5,"mat-form-field")(6,"mat-label"),fe(7,"Enter a date range"),j(),U(8,"mat-date-range-input",1),Ht(9,"input",2)(10,"input",3),j(),U(11,"mat-hint"),fe(12,"MM/DD/YYYY - MM/DD/YYYY"),j(),Ht(13,"mat-datepicker-toggle",4)(14,"mat-date-range-picker",null,5),ht(16,dce,2,0,"mat-error",6),ht(17,hce,2,0,"mat-error",6),j(),U(18,"div",7)(19,"button",8),Re("click",function(){return r.logDates()}),fe(20),Nt(21,"translate"),j(),U(22,"button",9),Re("click",function(){return r.reset()}),fe(23),Nt(24,"translate"),j()()(),ht(25,pce,2,1,"div",10),ht(26,gce,1,1,"ng-template",null,11,GI),j()()),2&i){const o=rm(15),s=rm(27);Y(4),me("formGroup",r.range),Y(4),me("rangePicker",o),Y(5),me("for",o),Y(3),me("ngIf",r.range.controls.start.hasError("matStartDateInvalid")),Y(1),me("ngIf",r.range.controls.end.hasError("matEndDateInvalid")),Y(3),hn(Bt(21,9,"Search")),Y(3),hn(Bt(24,11,"Reset")),Y(2),me("ngIf",r.filteredDoctors.length>0)("ngIfElse",s)}},dependencies:[wm,Qc,Gl,yf,a_,Jle,rce,c3,u3,oce,dle,mM,gM,nle,ole,ku,US,YS,lF,xw],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:sans-serif}main[_ngcontent-%COMP%]{max-width:1200px;margin:3rem auto;padding:0 20px}.booking-details-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;border:1px solid #ddd;padding:20px;border-radius:8px;background-color:#fff;box-shadow:0 0 10px #0000001a;margin-bottom:3rem}h1[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}.category[_ngcontent-%COMP%]{font-size:18px;color:#555;margin-bottom:15px}.visit-date[_ngcontent-%COMP%]{font-size:16px;color:#777;margin-bottom:15px}.contact-info[_ngcontent-%COMP%]{margin-top:20px}.contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:16px;color:#555;margin-bottom:8px}.host[_ngcontent-%COMP%]{display:block;padding:1rem;max-width:600px}.dateRange[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-bottom:3rem;gap:11rem}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   mdc-text-field[_ngcontent-%COMP%]{background-color:#2ecc71}mat-hint[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:700}.searchBtn[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.resetBtn[_ngcontent-%COMP%]{padding:10px;background-color:#af0035;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.searchBtn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.resetBtn[_ngcontent-%COMP%]:hover{background-color:#c71349}.btn[_ngcontent-%COMP%]{display:flex;gap:1rem}@media only screen and (max-width: 480px){.dateRange[_ngcontent-%COMP%]{gap:3rem;flex-wrap:wrap}}"]})}return n})()}];let yce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({imports:[tV.forRoot(_ce),tV]})}return n})(),vce=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Vt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Ht(0,"router-outlet")},dependencies:[ax]})}return n})();const bce_firebase={apiKey:"AIzaSyAmzWq2x6Bm9Y3P4zQaagrSRQftyWPDblw",authDomain:"cstudents-dcdc4.firebaseapp.com",projectId:"cstudents-dcdc4",storageBucket:"cstudents-dcdc4.appspot.com",messagingSenderId:"883595670727",appId:"1:883595670727:web:c4483c3f41d39075cbfae2",measurementId:"G-LH5SQG1B82"};typeof document<"u"&&document.createDocumentFragment(),typeof document<"u"&&document.createDocumentFragment();let Cce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=It({type:n}),n.\u0275inj=Ct({imports:[[Cm]]}),n})();function p3(n){return new F(3e3,!1)}function Jl(n){switch(n.length){case 0:return new C_;case 1:return n[0];default:return new NH(n)}}function m3(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),h=u==s,m=h&&a||new Map;l.forEach((g,y)=>{let b=y,w=g;if("offset"!==y)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(y);break;case Ma:w=i.get(y);break;default:w=n.normalizeStyleValue(y,b,w,r)}m.set(b,w)}),h||o.push(m),a=m,s=u}),r.length)throw function Gce(n){return new F(3502,!1)}();return o}function TM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&AM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&AM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&AM(t,"destroy",n)))}}function AM(n,e,t){const o=SM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function SM(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ao(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function g3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const rue=(()=>typeof document>"u"?null:document.documentElement)();function MM(n){const e=n.parentNode||n.host||null;return e===rue?null:e}let Uu=null,_3=!1;function y3(n,e){for(;e;){if(e===n)return!0;e=MM(e)}return!1}function v3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let b3=(()=>{class n{validateStyleProperty(t){return function sue(n){Uu||(Uu=function aue(){return typeof document<"u"?document.body:null}()||{},_3=!!Uu.style&&"WebkitAppearance"in Uu.style);let e=!0;return Uu.style&&!function oue(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Uu.style,!e&&_3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Uu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return y3(t,i)}getParentElement(t){return MM(t)}query(t,i,r){return v3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new C_(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),RM=(()=>{class n{static#e=this.NOOP=new b3}return n})();const lue=1e3,PM="ng-enter",Hw="ng-leave",$w="ng-trigger",qw=".ng-trigger",E3="ng-animating",kM=".ng-animating";function Ra(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OM(parseFloat(e[1]),e[2])}function OM(n,e){return"s"===e?n*lue:n}function Gw(n,e,t){return n.hasOwnProperty("duration")?n:function uue(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(p3()),{duration:0,delay:0,easing:""};r=OM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=OM(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Ice(){return new F(3100,!1)}()),a=!0),o<0&&(e.push(function Dce(){return new F(3101,!1)}()),a=!0),a&&e.splice(l,0,p3())}return{duration:r,delay:o,easing:s}}(n,e,t)}function x_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function C3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ec(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function qs(n,e,t){e.forEach((i,r)=>{const o=FM(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function ju(n,e){e.forEach((t,i)=>{const r=FM(i);n.style[r]=""})}function T_(n){return Array.isArray(n)?1==n.length?n[0]:kH(n):n}const NM=new RegExp("{{\\s*(.+?)\\s*}}","g");function D3(n){let e=[];if("string"==typeof n){let t;for(;t=NM.exec(n);)e.push(t[1]);NM.lastIndex=0}return e}function A_(n,e,t){const i=n.toString(),r=i.replace(NM,(o,s)=>{let a=e[s];return null==a&&(t.push(function Tce(n){return new F(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Ww(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const fue=/-+([a-z0-9])/g;function FM(n){return n.replace(fue,(...e)=>e[1].toUpperCase())}function lo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ace(n){return new F(3004,!1)}()}}function x3(n,e){return window.getComputedStyle(n)[e]}const Kw="*";function gue(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _ue(n,e,t){if(":"==n[0]){const l=function yue(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function zce(n){return new F(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function jce(n){return new F(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(T3(r,s));"<"==o[0]&&!(r==Kw&&s==Kw)&&e.push(T3(s,r))}(i,t,e)):t.push(n),t}const Yw=new Set(["true","1"]),Zw=new Set(["false","0"]);function T3(n,e){const t=Yw.has(n)||Zw.has(n),i=Yw.has(e)||Zw.has(e);return(r,o)=>{let s=n==Kw||n==r,a=e==Kw||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Yw.has(n):Zw.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Yw.has(e):Zw.has(e)),s&&a}}const vue=new RegExp("s*:selfs*,?","g");function LM(n,e,t,i){return new bue(n).build(e,t,i)}class bue{constructor(e){this._driver=e}build(e,t,i){const r=new Cue(t);return this._resetContextStyleTimingState(r),lo(this,T_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Mce(){return new F(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function Rce(){return new F(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{D3(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&(Ww(o.values()),t.errors.push(function Pce(n,e){return new F(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=lo(this,T_(e.animation),t);return{type:1,matchers:gue(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:zu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>lo(this,i,t)),options:zu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=lo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:zu(e.options)}}visitAnimate(e,t){const i=function Due(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VM(Gw(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=VM(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Gw(t,e);return VM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:ns({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=ns(u)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ma?i.push(a):t.errors.push(new F(3002,!1)):i.push(C3(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l);let m=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Oce(n,e,t,i,r){return new F(3010,!1)}()),m=!1),o=h.startTime),m&&u.set(l,{startTime:o,endTime:r}),t.options&&function hue(n,e,t){const i=e.params||{},r=D3(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function xce(n){return new F(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Nce(){return new F(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const h=e.steps.map(k=>{const M=this._makeStyleAst(k,t);let V=null!=M.offset?M.offset:function Iue(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),ee=0;return null!=V&&(o++,ee=M.offset=V),l=l||ee<0||ee>1,a=a||ee<u,u=ee,s.push(ee),M});l&&t.errors.push(function Fce(){return new F(3012,!1)}()),a&&t.errors.push(function Lce(){return new F(3200,!1)}());const m=e.steps.length;let g=0;o>0&&o<m?t.errors.push(function Vce(){return new F(3202,!1)}()):0==o&&(g=1/(m-1));const y=m-1,b=t.currentTime,w=t.currentAnimateTimings,C=w.duration;return h.forEach((k,M)=>{const V=g>0?M==y?1:g*M:s[M],ee=V*C;t.currentTime=b+w.delay+ee,w.duration=ee,this._validateStyleAst(k,t),k.offset=V,i.styles.push(k)}),i}visitReference(e,t){return{type:8,animation:lo(this,T_(e.animation),t),options:zu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function wue(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(vue,"")),n=n.replace(/@\*/g,qw).replace(/@\w+/g,t=>qw+"-"+t.slice(1)).replace(/:animating/g,kM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ao(t.collectedStyles,t.currentQuerySelector,new Map);const a=lo(this,T_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:zu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Bce(){return new F(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Gw(e.timings,t.errors,!0);return{type:12,animation:lo(this,T_(e.animation),t),timings:i,options:null}}}class Cue{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zu(n){return n?(n=x_(n)).params&&(n.params=function Eue(n){return n?x_(n):null}(n.params)):n={},n}function VM(n,e,t){return{duration:n,delay:e,easing:t}}function BM(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Qw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Aue=new RegExp(":enter","g"),Mue=new RegExp(":leave","g");function UM(n,e,t,i,r,o=new Map,s=new Map,a,l,u=[]){return(new Rue).buildKeyframes(n,e,t,i,r,o,s,a,l,u)}class Rue{buildKeyframes(e,t,i,r,o,s,a,l,u,h=[]){u=u||new Qw;const m=new jM(e,t,u,r,o,h,[]);m.options=l;const g=l.delay?Ra(l.delay):0;m.currentTimeline.delayNextStep(g),m.currentTimeline.setStyles([s],null,m.errors,l),lo(this,i,m);const y=m.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let w=y.length-1;w>=0;w--){const C=y[w];if(C.element===t){b=C;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,m.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[BM(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ra(A_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ra(i.duration):null,a=null!=i.delay?Ra(i.delay):null;return 0!==s&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),lo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Xw);const s=Ra(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>lo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ra(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),lo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Gw(t.params?A_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ra(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Xw);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;const m=t.createSubContext(e.options,u);o&&m.delayNextStep(o),u===t.element&&(l=m.currentTimeline),lo(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const m=h.currentTime;lo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}}const Xw={};class jM{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Jw(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ra(i.duration)),null!=i.delay&&(r.delay=Ra(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=A_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new jM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Xw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Pue(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Aue,"."+this._enterClassName)).replace(Mue,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function Uce(n){return new F(3014,!1)}()),a}}class Jw{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Jw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ma),this._currentKeyframe.set(t,Ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function kue(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Ma)}else ec(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const u=A_(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ma),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=ec(a,new Map,this._backFill);u.forEach((h,m)=>{"!"===h?e.add(m):h===Ma&&t.add(m)}),i||u.set("offset",l/this.duration),r.push(u)});const o=e.size?Ww(e.values()):[],s=t.size?Ww(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return BM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Pue extends Jw{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=ec(e[0]);l.set("offset",0),o.push(l);const u=ec(e[0]);u.set("offset",M3(a)),o.push(u);const h=e.length-1;for(let m=1;m<=h;m++){let g=ec(e[m]);const y=g.get("offset");g.set("offset",M3((t+y*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return BM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function M3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zM{}const Oue=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nue extends zM{normalizePropertyName(e,t){return FM(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Oue.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Sce(n,e){return new F(3005,!1)}())}return s+o}}function R3(n,e,t,i,r,o,s,a,l,u,h,m,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:m,errors:g}}const HM={};class P3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Fue(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,u,h){const m=[],g=this.ast.options&&this.ast.options.params||HM,b=this.buildStyles(i,a&&a.params||HM,m),w=l&&l.params||HM,C=this.buildStyles(r,w,m),k=new Set,M=new Map,V=new Map,ee="void"===r,pe={params:Lue(w,g),delay:this.ast.options?.delay},Ne=h?[]:UM(e,t,this.ast.animation,o,s,b,C,pe,u,m);let Ye=0;if(Ne.forEach(Pr=>{Ye=Math.max(Pr.duration+Pr.delay,Ye)}),m.length)return R3(t,this._triggerName,i,r,ee,b,C,[],[],M,V,Ye,m);Ne.forEach(Pr=>{const $r=Pr.element,iE=ao(M,$r,new Set);Pr.preStyleProps.forEach(Hu=>iE.add(Hu));const M_=ao(V,$r,new Set);Pr.postStyleProps.forEach(Hu=>M_.add(Hu)),$r!==t&&k.add($r)});const $t=Ww(k.values());return R3(t,this._triggerName,i,r,ee,b,C,Ne,$t,M,V,Ye)}}function Lue(n,e){const t=x_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Vue{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=x_(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=A_(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class Uue{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Vue(r.style,r.options&&r.options.params||{},i))}),k3(this.states,"true","1"),k3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new P3(e,r,this.states))}),this.fallbackTransition=function jue(n,e,t){return new P3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function k3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const zue=new Qw;class Hue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=LM(this._driver,t,i,[]);if(i.length)throw function Wce(n){return new F(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=m3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=UM(this._driver,t,o,PM,Hw,new Map,new Map,i,zue,r),s.forEach(h=>{const m=ao(a,h.element,new Map);h.postStyleProps.forEach(g=>m.set(g,null))})):(r.push(function Kce(){return new F(3300,!1)}()),s=[]),r.length)throw function Yce(n){return new F(3504,!1)}();a.forEach((h,m)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(m,y,Ma))})});const u=Jl(s.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Zce(n){return new F(3301,!1)}();return t}listen(e,t,i,r){const o=SM(t,"","","");return TM(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const O3="ng-animate-queued",$M="ng-animate-disabled",Kue=[],N3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},is="__ng_removed";class qM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Jue(n){return n??null}(i?e.value:e),i){const o=x_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const S_="void",GM=new qM(S_);class Zue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Qce(n,e){return new F(3302,!1)}();if(null==i||0==i.length)throw function Xce(n){return new F(3303,!1)}();if(!function ede(n){return"start"==n||"done"==n}(i))throw function Jce(n,e){return new F(3400,!1)}();const o=ao(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ao(this._engine.statesByElement,e,new Map);return a.has(t)||(Oo(e,$w),Oo(e,$w+"-"+t),a.set(t,GM)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function eue(n){return new F(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new WM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Oo(e,$w),Oo(e,$w+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new qM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=GM),u.value!==S_&&l.value===u.value){if(!function ide(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,u.params)){const w=[],C=o.matchStyles(l.value,l.params,w),k=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{ju(e,C),qs(e,k)})}return}const g=ao(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let y=o.matchTransition(l.value,u.value,e,u.params),b=!1;if(!y){if(!r)return;y=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:s,isFallbackTransition:b}),b||(Oo(e,O3),s.onStart(()=>{Rf(e,O3)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const C=this._engine.playersByElement.get(e);if(C){let k=C.indexOf(s);k>=0&&C.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,qw,!0);i.forEach(r=>{if(r[is])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const h=this.trigger(e,u,S_,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Jl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,u=i.get(s)||GM,h=new qM(S_),m=new WM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[is];(!o||o===N3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Oo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=SM(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,TM(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Que{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Zue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(eE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!eE(t))return;const o=t[is];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oo(e,$M)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Rf(e,$M))}removeNode(e,t,i){if(eE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[is]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return eE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,qw,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[is];if(t&&t.setForRemoval){if(e[is]=N3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($M)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Jl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function tue(n){return new F(3402,!1)}()}_flushAnimations(e,t){const i=new Qw,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(ke=>{h.add(ke);const Ue=this.driver.query(ke,".ng-animate-queued",!0);for(let Ge=0;Ge<Ue.length;Ge++)h.add(Ue[Ge])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=V3(g,this.collectedEnterElements),b=new Map;let w=0;y.forEach((ke,Ue)=>{const Ge=PM+w++;b.set(Ue,Ge),ke.forEach(Ft=>Oo(Ft,Ge))});const C=[],k=new Set,M=new Set;for(let ke=0;ke<this.collectedLeaveElements.length;ke++){const Ue=this.collectedLeaveElements[ke],Ge=Ue[is];Ge&&Ge.setForRemoval&&(C.push(Ue),k.add(Ue),Ge.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(Ft=>k.add(Ft)):M.add(Ue))}const V=new Map,ee=V3(g,Array.from(k));ee.forEach((ke,Ue)=>{const Ge=Hw+w++;V.set(Ue,Ge),ke.forEach(Ft=>Oo(Ft,Ge))}),e.push(()=>{y.forEach((ke,Ue)=>{const Ge=b.get(Ue);ke.forEach(Ft=>Rf(Ft,Ge))}),ee.forEach((ke,Ue)=>{const Ge=V.get(Ue);ke.forEach(Ft=>Rf(Ft,Ge))}),C.forEach(ke=>{this.processLeaveNode(ke)})});const pe=[],Ne=[];for(let ke=this._namespaceList.length-1;ke>=0;ke--)this._namespaceList[ke].drainQueuedTransitions(t).forEach(Ge=>{const Ft=Ge.player,ki=Ge.element;if(pe.push(Ft),this.collectedEnterElements.length){const hr=ki[is];if(hr&&hr.setForMove){if(hr.previousTriggersValues&&hr.previousTriggersValues.has(Ge.triggerName)){const $u=hr.previousTriggersValues.get(Ge.triggerName),No=this.statesByElement.get(Ge.element);if(No&&No.has(Ge.triggerName)){const rE=No.get(Ge.triggerName);rE.value=$u,No.set(Ge.triggerName,rE)}}return void Ft.destroy()}}const Gs=!m||!this.driver.containsElement(m,ki),co=V.get(ki),tc=b.get(ki),Un=this._buildInstruction(Ge,i,tc,co,Gs);if(Un.errors&&Un.errors.length)return void Ne.push(Un);if(Gs)return Ft.onStart(()=>ju(ki,Un.fromStyles)),Ft.onDestroy(()=>qs(ki,Un.toStyles)),void r.push(Ft);if(Ge.isFallbackTransition)return Ft.onStart(()=>ju(ki,Un.fromStyles)),Ft.onDestroy(()=>qs(ki,Un.toStyles)),void r.push(Ft);const Y3=[];Un.timelines.forEach(hr=>{hr.stretchStartingKeyframe=!0,this.disabledNodes.has(hr.element)||Y3.push(hr)}),Un.timelines=Y3,i.append(ki,Un.timelines),s.push({instruction:Un,player:Ft,element:ki}),Un.queriedElements.forEach(hr=>ao(a,hr,[]).push(Ft)),Un.preStyleProps.forEach((hr,$u)=>{if(hr.size){let No=l.get($u);No||l.set($u,No=new Set),hr.forEach((rE,ZM)=>No.add(ZM))}}),Un.postStyleProps.forEach((hr,$u)=>{let No=u.get($u);No||u.set($u,No=new Set),hr.forEach((rE,ZM)=>No.add(ZM))})});if(Ne.length){const ke=[];Ne.forEach(Ue=>{ke.push(function nue(n,e){return new F(3505,!1)}())}),pe.forEach(Ue=>Ue.destroy()),this.reportError(ke)}const Ye=new Map,$t=new Map;s.forEach(ke=>{const Ue=ke.element;i.has(Ue)&&($t.set(Ue,Ue),this._beforeAnimationBuild(ke.player.namespaceId,ke.instruction,Ye))}),r.forEach(ke=>{const Ue=ke.element;this._getPreviousPlayers(Ue,!1,ke.namespaceId,ke.triggerName,null).forEach(Ft=>{ao(Ye,Ue,[]).push(Ft),Ft.destroy()})});const Pr=C.filter(ke=>U3(ke,l,u)),$r=new Map;L3($r,this.driver,M,u,Ma).forEach(ke=>{U3(ke,l,u)&&Pr.push(ke)});const M_=new Map;y.forEach((ke,Ue)=>{L3(M_,this.driver,new Set(ke),l,"!")}),Pr.forEach(ke=>{const Ue=$r.get(ke),Ge=M_.get(ke);$r.set(ke,new Map([...Ue?.entries()??[],...Ge?.entries()??[]]))});const Hu=[],W3=[],K3={};s.forEach(ke=>{const{element:Ue,player:Ge,instruction:Ft}=ke;if(i.has(Ue)){if(h.has(Ue))return Ge.onDestroy(()=>qs(Ue,Ft.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(Ft.totalTime),void r.push(Ge);let ki=K3;if($t.size>1){let co=Ue;const tc=[];for(;co=co.parentNode;){const Un=$t.get(co);if(Un){ki=Un;break}tc.push(co)}tc.forEach(Un=>$t.set(Un,ki))}const Gs=this._buildAnimation(Ge.namespaceId,Ft,Ye,o,M_,$r);if(Ge.setRealPlayer(Gs),ki===K3)Hu.push(Ge);else{const co=this.playersByElement.get(ki);co&&co.length&&(Ge.parentPlayer=Jl(co)),r.push(Ge)}}else ju(Ue,Ft.fromStyles),Ge.onDestroy(()=>qs(Ue,Ft.toStyles)),W3.push(Ge),h.has(Ue)&&r.push(Ge)}),W3.forEach(ke=>{const Ue=o.get(ke.element);if(Ue&&Ue.length){const Ge=Jl(Ue);ke.setRealPlayer(Ge)}}),r.forEach(ke=>{ke.parentPlayer?ke.syncPlayerEvents(ke.parentPlayer):ke.destroy()});for(let ke=0;ke<C.length;ke++){const Ue=C[ke],Ge=Ue[is];if(Rf(Ue,Hw),Ge&&Ge.hasAnimation)continue;let Ft=[];if(a.size){let Gs=a.get(Ue);Gs&&Gs.length&&Ft.push(...Gs);let co=this.driver.query(Ue,kM,!0);for(let tc=0;tc<co.length;tc++){let Un=a.get(co[tc]);Un&&Un.length&&Ft.push(...Un)}}const ki=Ft.filter(Gs=>!Gs.destroyed);ki.length?tde(this,Ue,ki):this.processLeaveNode(Ue)}return C.length=0,Hu.forEach(ke=>{this.players.push(ke),ke.onDone(()=>{ke.destroy();const Ue=this.players.indexOf(ke);this.players.splice(Ue,1)}),ke.play()}),Hu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==S_;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,h=u!==o,m=ao(i,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),m.push(y)})}ju(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,u=[],h=new Set,m=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const C=w[is];if(C&&C.removedBeforeQueried)return new C_(b.duration,b.delay);const k=w!==l,M=function nde(n){const e=[];return B3(n,e),e}((i.get(w)||Kue).map(Ye=>Ye.getRealPlayer())).filter(Ye=>!!Ye.element&&Ye.element===w),V=o.get(w),ee=s.get(w),pe=m3(this._normalizer,b.keyframes,V,ee),Ne=this._buildPlayer(b,pe,M);if(b.subTimeline&&r&&m.add(w),k){const Ye=new WM(e,a,w);Ye.setRealPlayer(Ne),u.push(Ye)}return Ne});u.forEach(b=>{ao(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Xue(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Oo(b,E3));const y=Jl(g);return y.onDestroy(()=>{h.forEach(b=>Rf(b,E3)),qs(l,t.toStyles)}),m.forEach(b=>{ao(r,b,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new C_(e.duration,e.delay)}}class WM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new C_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>TM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ao(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function eE(n){return n&&1===n.nodeType}function F3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function L3(n,e,t,i,r){const o=[];t.forEach(l=>o.push(F3(l)));const s=[];i.forEach((l,u)=>{const h=new Map;l.forEach(m=>{const g=e.computeStyle(u,m,r);h.set(m,g),(!g||0==g.length)&&(u[is]=Yue,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>F3(l,o[a++])),s}function V3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Oo(n,e){n.classList?.add(e)}function Rf(n,e){n.classList?.remove(e)}function tde(n,e,t){Jl(t).onDone(()=>n.processLeaveNode(e))}function B3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof NH?B3(i.players,e):e.push(i)}}function U3(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class tE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Que(e,t,i),this._timelineEngine=new Hue(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=LM(this._driver,o,l,[]);if(l.length)throw function qce(n,e){return new F(3404,!1)}();a=function Bue(n,e,t){return new Uue(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=g3(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=g3(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let ode=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&qs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qs(this._element,this._initialStyles),this._endStyles&&(qs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ju(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),qs(this._element,this._initialStyles),this._state=3)}}return n})();function KM(n){let e=null;return n.forEach((t,i)=>{(function sde(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class j3{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:x3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ade{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return y3(e,t)}getParentElement(e){return MM(e)}query(e,t,i){return v3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u=new Map,h=s.filter(y=>y instanceof j3);(function pue(n,e){return 0===n||0===e})(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((b,w)=>u.set(w,b))});let m=function due(n){return n.length?n[0]instanceof Map?n:n.map(e=>C3(e)):[]}(t).map(y=>ec(y));m=function mue(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,x3(n,a)))}}return e}(e,m,u);const g=function rde(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=KM(e[0]),e.length>1&&(i=KM(e[e.length-1]))):e instanceof Map&&(t=KM(e)),t||i?new ode(n,t,i):null}(e,m);return new j3(e,m,l,g)}}let lde=(()=>{class n extends PH{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:_r.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?kH(t):t;return z3(this._renderer,null,i,"register",[r]),new cde(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Kp),O(At))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class cde extends Tae{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ude(this._id,e,t||{},this._renderer)}}class ude{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return z3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function z3(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const H3="@.disabled";let dde=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new $3("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new hde(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Kp),O(tE),O(Be))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();class $3{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==H3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hde extends $3{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==H3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function fde(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function pde(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let mde=(()=>{class n extends tE{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(At),O(RM),O(zM),O(hl))};static#t=this.\u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();const q3=[{provide:PH,useClass:lde},{provide:zM,useFactory:function gde(){return new Nue}},{provide:tE,useClass:mde},{provide:Kp,useFactory:function _de(n,e,t){return new dde(n,e,t)},deps:[VD,tE,Be]}],YM=[{provide:RM,useFactory:()=>new ade},{provide:ll,useValue:"BrowserAnimations"},...q3],G3=[{provide:RM,useClass:b3},{provide:ll,useValue:"NoopAnimations"},...q3];let yde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?G3:YM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Ct({providers:YM,imports:[AF]})}return n})();class vde{http;prefix;suffix;constructor(e,t="/assets/i18n/",i=".json"){this.http=e,this.prefix=t,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}function bde(n){return new vde(n,"../assets/i18N/",".json")}let wde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n,bootstrap:[vce]});static#n=this.\u0275inj=Ct({imports:[AF,yce,TX.initializeApp(bce_firebase),roe,cre,Cce,Ase,sce,pse,hle,ooe,yde,xY,aoe.forRoot({loader:{provide:p_,useFactory:bde,deps:[VF]}})]})}return n})();YK().bootstrapModule(wde).catch(n=>console.error(n))},106:(Fo,ci,Je)=>{Je.d(ci,{Z:()=>di});var E=Je(58),ze=Je(537),K=Je(534),He=Je(879);class We{constructor(Ke,it){this._delegate=Ke,this.firebase=it,(0,K._addComponent)(Ke,new ze.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Ke,it=K._DEFAULT_ENTRY_NAME){var hi;this._delegate.checkDestroyed();const fi=this._delegate.container.getProvider(Ke);return!fi.isInitialized()&&"EXPLICIT"===(null===(hi=fi.getComponent())||void 0===hi?void 0:hi.instantiationMode)&&fi.initialize(),fi.getImmediate({identifier:it})}_removeServiceInstance(Ke,it=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(it)}_addComponent(Ke){(0,K._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,K._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const An=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function ft(){const Pt=function ui(Pt){const Ke={},it={__esModule:!0,initializeApp:function an(rt,Jn={}){const ne=K.initializeApp(rt,Jn);if((0,E.r3)(Ke,ne.name))return Ke[ne.name];const yn=new Pt(ne,it);return Ke[ne.name]=yn,yn},app:fi,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function Yt(rt){const Jn=rt.name,ne=Jn.replace("-compat","");if(K._registerComponent(rt)&&"PUBLIC"===rt.type){const yn=(ln=fi())=>{if("function"!=typeof ln[ne])throw An.create("invalid-app-argument",{appName:Jn});return ln[ne]()};void 0!==rt.serviceProps&&(0,E.ZB)(yn,rt.serviceProps),it[ne]=yn,Pt.prototype[ne]=function(...ln){return this._getService.bind(this,Jn).apply(this,rt.multipleInstances?ln:[])}}return"PUBLIC"===rt.type?it[ne]:null},removeApp:function hi(rt){delete Ke[rt]},useAsService:function Oi(rt,Jn){return"serverAuth"===Jn?null:Jn},modularAPIs:K}};function fi(rt){if(!(0,E.r3)(Ke,rt=rt||K._DEFAULT_ENTRY_NAME))throw An.create("no-app",{appName:rt});return Ke[rt]}return it.default=it,Object.defineProperty(it,"apps",{get:function kt(){return Object.keys(Ke).map(rt=>Ke[rt])}}),fi.App=Pt,it}(We);return Pt.INTERNAL=Object.assign(Object.assign({},Pt.INTERNAL),{createFirebaseNamespace:ft,extendNamespace:function Ke(it){(0,E.ZB)(Pt,it)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Pt}(),de=new He.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const di=re;!function St(Pt){(0,K.registerVersion)("@firebase/app-compat","0.2.25",Pt)}()},534:(Fo,ci,Je)=>{Je.r(ci),Je.d(ci,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>qr,_addComponent:()=>rs,_addOrOverwriteComponent:()=>Di,_apps:()=>Zi,_clearComponents:()=>ti,_components:()=>Vo,_getProvider:()=>en,_registerComponent:()=>Ks,_removeServiceInstance:()=>Gr,deleteApp:()=>Fi,getApp:()=>ss,getApps:()=>Na,initializeApp:()=>Oa,onLog:()=>Fa,registerVersion:()=>as,setLogLevel:()=>qu});var E=Je(861),ze=Je(537),K=Je(879),He=Je(58);const We=(B,R)=>R.some(le=>B instanceof le);let _n,An;const re=new WeakMap,de=new WeakMap,Me=new WeakMap,ut=new WeakMap,St=new WeakMap;let Ke={get(B,R,le){if(B instanceof IDBTransaction){if("done"===R)return de.get(B);if("objectStoreNames"===R)return B.objectStoreNames||Me.get(B);if("store"===R)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return an(B[R])},set:(B,R,le)=>(B[R]=le,!0),has:(B,R)=>B instanceof IDBTransaction&&("done"===R||"store"===R)||R in B};function fi(B){return"function"==typeof B?function hi(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ft(){return An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...R){return B.apply(kt(this),R),an(re.get(this))}:function(...R){return an(B.apply(kt(this),R))}:function(R,...le){const Te=B.call(kt(this),R,...le);return Me.set(Te,R.sort?R.sort():[R]),an(Te)}}(B):(B instanceof IDBTransaction&&function Pt(B){if(de.has(B))return;const R=new Promise((le,Te)=>{const Ze=()=>{B.removeEventListener("complete",mt),B.removeEventListener("error",F),B.removeEventListener("abort",F)},mt=()=>{le(),Ze()},F=()=>{Te(B.error||new DOMException("AbortError","AbortError")),Ze()};B.addEventListener("complete",mt),B.addEventListener("error",F),B.addEventListener("abort",F)});de.set(B,R)}(B),We(B,function ui(){return _n||(_n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,Ke):B)}function an(B){if(B instanceof IDBRequest)return function di(B){const R=new Promise((le,Te)=>{const Ze=()=>{B.removeEventListener("success",mt),B.removeEventListener("error",F)},mt=()=>{le(an(B.result)),Ze()},F=()=>{Te(B.error),Ze()};B.addEventListener("success",mt),B.addEventListener("error",F)});return R.then(le=>{le instanceof IDBCursor&&re.set(le,B)}).catch(()=>{}),St.set(R,B),R}(B);if(ut.has(B))return ut.get(B);const R=fi(B);return R!==B&&(ut.set(B,R),St.set(R,B)),R}const kt=B=>St.get(B),rt=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],ne=new Map;function yn(B,R){if(!(B instanceof IDBDatabase)||R in B||"string"!=typeof R)return;if(ne.get(R))return ne.get(R);const le=R.replace(/FromIndex$/,""),Te=R!==le,Ze=Jn.includes(le);if(!(le in(Te?IDBIndex:IDBObjectStore).prototype)||!Ze&&!rt.includes(le))return;const mt=function(){var F=(0,E.Z)(function*(Sn,...Ae){const dt=this.transaction(Sn,Ze?"readwrite":"readonly");let Va=dt.store;return Te&&(Va=Va.index(Ae.shift())),(yield Promise.all([Va[le](...Ae),Ze&&dt.done]))[0]});return function(Ae){return F.apply(this,arguments)}}();return ne.set(R,mt),mt}!function it(B){Ke=B(Ke)}(B=>({...B,get:(R,le,Te)=>yn(R,le)||B.get(R,le,Te),has:(R,le)=>!!yn(R,le)||B.has(R,le)}));class ln{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map(le=>{if(function Gn(B){const R=B.getComponent();return"VERSION"===R?.type}(le)){const Te=le.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(le=>le).join(" ")}}const uo="@firebase/app",ot=new K.Yd("@firebase/app"),qr="[DEFAULT]",rc={[uo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zi=new Map,Vo=new Map;function rs(B,R){try{B.container.addComponent(R)}catch(le){ot.debug(`Component ${R.name} failed to register with FirebaseApp ${B.name}`,le)}}function Di(B,R){B.container.addOrOverwriteComponent(R)}function Ks(B){const R=B.name;if(Vo.has(R))return ot.debug(`There were multiple attempts to register component ${R}.`),!1;Vo.set(R,B);for(const le of Zi.values())rs(le,B);return!0}function en(B,R){const le=B.container.getProvider("heartbeat").getImmediate({optional:!0});return le&&le.triggerHeartbeat(),B.container.getProvider(R)}function Gr(B,R,le=qr){en(B,R).clearInstance(le)}function ti(){Vo.clear()}const kr=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pr{constructor(R,le,Te){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},le),this._name=le.name,this._automaticDataCollectionEnabled=le.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new ze.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const os="10.7.1";function Oa(B,R={}){let le=B;"object"!=typeof R&&(R={name:R});const Te=Object.assign({name:qr,automaticDataCollectionEnabled:!1},R),Ze=Te.name;if("string"!=typeof Ze||!Ze)throw kr.create("bad-app-name",{appName:String(Ze)});if(le||(le=(0,He.aH)()),!le)throw kr.create("no-options");const mt=Zi.get(Ze);if(mt){if((0,He.vZ)(le,mt.options)&&(0,He.vZ)(Te,mt.config))return mt;throw kr.create("duplicate-app",{appName:Ze})}const F=new ze.H0(Ze);for(const Ae of Vo.values())F.addComponent(Ae);const Sn=new pr(le,Te,F);return Zi.set(Ze,Sn),Sn}function ss(B=qr){const R=Zi.get(B);if(!R&&B===qr&&(0,He.aH)())return Oa();if(!R)throw kr.create("no-app",{appName:B});return R}function Na(){return Array.from(Zi.values())}function Fi(B){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,E.Z)(function*(B){const R=B.name;Zi.has(R)&&(Zi.delete(R),yield Promise.all(B.container.getProviders().map(le=>le.delete())),B.isDeleted=!0)})).apply(this,arguments)}function as(B,R,le){var Te;let Ze=null!==(Te=rc[B])&&void 0!==Te?Te:B;le&&(Ze+=`-${le}`);const mt=Ze.match(/\s|\//),F=R.match(/\s|\//);if(mt||F){const Sn=[`Unable to register library "${Ze}" with version "${R}":`];return mt&&Sn.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),mt&&F&&Sn.push("and"),F&&Sn.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void ot.warn(Sn.join(" "))}Ks(new ze.wA(`${Ze}-version`,()=>({library:Ze,version:R}),"VERSION"))}function Fa(B,R){if(null!==B&&"function"!=typeof B)throw kr.create("invalid-log-argument");(0,K.Am)(B,R)}function qu(B){(0,K.Ub)(B)}const oc="firebase-heartbeat-database",La=1,T="firebase-heartbeat-store";let D=null;function S(){return D||(D=function Yt(B,R,{blocked:le,upgrade:Te,blocking:Ze,terminated:mt}={}){const F=indexedDB.open(B,R),Sn=an(F);return Te&&F.addEventListener("upgradeneeded",Ae=>{Te(an(F.result),Ae.oldVersion,Ae.newVersion,an(F.transaction),Ae)}),le&&F.addEventListener("blocked",Ae=>le(Ae.oldVersion,Ae.newVersion,Ae)),Sn.then(Ae=>{mt&&Ae.addEventListener("close",()=>mt()),Ze&&Ae.addEventListener("versionchange",dt=>Ze(dt.oldVersion,dt.newVersion,dt))}).catch(()=>{}),Sn}(oc,La,{upgrade:(B,R)=>{0===R&&B.createObjectStore(T)}}).catch(B=>{throw kr.create("idb-open",{originalErrorMessage:B.message})})),D}function N(){return(N=(0,E.Z)(function*(B){try{return yield(yield S()).transaction(T).objectStore(T).get(st(B))}catch(R){if(R instanceof He.ZR)ot.warn(R.message);else{const le=kr.create("idb-get",{originalErrorMessage:R?.message});ot.warn(le.message)}}})).apply(this,arguments)}function q(B,R){return $e.apply(this,arguments)}function $e(){return($e=(0,E.Z)(function*(B,R){try{const Te=(yield S()).transaction(T,"readwrite");yield Te.objectStore(T).put(R,st(B)),yield Te.done}catch(le){if(le instanceof He.ZR)ot.warn(le.message);else{const Te=kr.create("idb-set",{originalErrorMessage:le?.message});ot.warn(Te.message)}}})).apply(this,arguments)}function st(B){return`${B.name}!${B.options.appId}`}class ni{constructor(R){this.container=R,this._heartbeatsCache=null;const le=this.container.getProvider("app").getImmediate();this._storage=new qt(le),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var R=this;return(0,E.Z)(function*(){var le,Te;const mt=R.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),F=xe();if((null!=(null===(le=R._heartbeatsCache)||void 0===le?void 0:le.heartbeats)||(R._heartbeatsCache=yield R._heartbeatsCachePromise,null!=(null===(Te=R._heartbeatsCache)||void 0===Te?void 0:Te.heartbeats)))&&R._heartbeatsCache.lastSentHeartbeatDate!==F&&!R._heartbeatsCache.heartbeats.some(Sn=>Sn.date===F))return R._heartbeatsCache.heartbeats.push({date:F,agent:mt}),R._heartbeatsCache.heartbeats=R._heartbeatsCache.heartbeats.filter(Sn=>{const Ae=new Date(Sn.date).valueOf();return Date.now()-Ae<=2592e6}),R._storage.overwrite(R._heartbeatsCache)})()}getHeartbeatsHeader(){var R=this;return(0,E.Z)(function*(){var le;if(null===R._heartbeatsCache&&(yield R._heartbeatsCachePromise),null==(null===(le=R._heartbeatsCache)||void 0===le?void 0:le.heartbeats)||0===R._heartbeatsCache.heartbeats.length)return"";const Te=xe(),{heartbeatsToSend:Ze,unsentEntries:mt}=function pi(B,R=1024){const le=[];let Te=B.slice();for(const Ze of B){const mt=le.find(F=>F.agent===Ze.agent);if(mt){if(mt.dates.push(Ze.date),po(le)>R){mt.dates.pop();break}}else if(le.push({agent:Ze.agent,dates:[Ze.date]}),po(le)>R){le.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:le,unsentEntries:Te}}(R._heartbeatsCache.heartbeats),F=(0,He.L)(JSON.stringify({version:2,heartbeats:Ze}));return R._heartbeatsCache.lastSentHeartbeatDate=Te,mt.length>0?(R._heartbeatsCache.heartbeats=mt,yield R._storage.overwrite(R._heartbeatsCache)):(R._heartbeatsCache.heartbeats=[],R._storage.overwrite(R._heartbeatsCache)),F})()}}function xe(){return(new Date).toISOString().substring(0,10)}class qt{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var R=this;return(0,E.Z)(function*(){if(yield R._canUseIndexedDBPromise){const Te=yield function Q(B){return N.apply(this,arguments)}(R.app);return Te?.heartbeats?Te:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(R){var le=this;return(0,E.Z)(function*(){var Te;if(yield le._canUseIndexedDBPromise){const mt=yield le.read();return q(le.app,{lastSentHeartbeatDate:null!==(Te=R.lastSentHeartbeatDate)&&void 0!==Te?Te:mt.lastSentHeartbeatDate,heartbeats:R.heartbeats})}})()}add(R){var le=this;return(0,E.Z)(function*(){var Te;if(yield le._canUseIndexedDBPromise){const mt=yield le.read();return q(le.app,{lastSentHeartbeatDate:null!==(Te=R.lastSentHeartbeatDate)&&void 0!==Te?Te:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...R.heartbeats]})}})()}}function po(B){return(0,He.L)(JSON.stringify({version:2,heartbeats:B})).length}!function Gu(B){Ks(new ze.wA("platform-logger",R=>new ln(R),"PRIVATE")),Ks(new ze.wA("heartbeat",R=>new ni(R),"PRIVATE")),as(uo,"0.9.25",B),as(uo,"0.9.25","esm2017"),as("fire-js","")}("")},537:(Fo,ci,Je)=>{Je.d(ci,{H0:()=>ui,wA:()=>K});var E=Je(861),ze=Je(58);class K{constructor(re,de,Me){this.name=re,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const He="[DEFAULT]";class We{constructor(re,de){this.name=re,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const de=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(de)){const Me=new ze.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:de});ut&&Me.resolve(ut)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(re){var de;const Me=this.normalizeInstanceIdentifier(re?.identifier),ut=null!==(de=re?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(St){if(ut)return null;throw St}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function An(ft){return"EAGER"===ft.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(de);try{const St=this.getOrInitializeService({instanceIdentifier:ut});Me.resolve(St)}catch{}}}}clearInstance(re=He){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,E.Z)(function*(){const de=Array.from(re.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=He){return this.instances.has(re)}getOptions(re=He){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:de={}}=re,Me=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[St,di]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(St)&&di.resolve(ut);return ut}onInit(re,de){var Me;const ut=this.normalizeInstanceIdentifier(de),St=null!==(Me=this.onInitCallbacks.get(ut))&&void 0!==Me?Me:new Set;St.add(re),this.onInitCallbacks.set(ut,St);const di=this.instances.get(ut);return di&&re(di,ut),()=>{St.delete(re)}}invokeOnInitCallbacks(re,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const ut of Me)try{ut(re,de)}catch{}}getOrInitializeService({instanceIdentifier:re,options:de={}}){let Me=this.instances.get(re);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(ft=re,ft===He?void 0:ft),options:de}),this.instances.set(re,Me),this.instancesOptions.set(re,de),this.invokeOnInitCallbacks(Me,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Me)}catch{}var ft;return Me||null}normalizeInstanceIdentifier(re=He){return this.component?this.component.multipleInstances?re:He:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ui{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const de=this.getProvider(re.name);if(de.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);de.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const de=new We(re,this);return this.providers.set(re,de),de}getProviders(){return Array.from(this.providers.values())}}},879:(Fo,ci,Je)=>{Je.d(ci,{Am:()=>ft,Ub:()=>ui,Yd:()=>An,in:()=>ze});const E=[];var ze=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ze||{});const K={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},He=ze.INFO,We={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},_n=(re,de,...Me)=>{if(de<re.logLevel)return;const ut=(new Date).toISOString(),St=We[de];if(!St)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[St](`[${ut}]  ${re.name}:`,...Me)};class An{constructor(de){this.name=de,this._logLevel=He,this._logHandler=_n,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in ze))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?K[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...de),this._logHandler(this,ze.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...de),this._logHandler(this,ze.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...de),this._logHandler(this,ze.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...de),this._logHandler(this,ze.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...de),this._logHandler(this,ze.ERROR,...de)}}function ui(re){E.forEach(de=>{de.setLogLevel(re)})}function ft(re,de){for(const Me of E){let ut=null;de&&de.level&&(ut=K[de.level]),Me.userLogHandler=null===re?null:(St,di,...Pt)=>{const Ke=Pt.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");di>=(ut??St.logLevel)&&re({level:ze[di].toLowerCase(),message:Ke,args:Pt,type:St.name})}}}},230:(Fo,ci,Je)=>{Je.r(ci);var E=Je(861),ze=Je(106),K=Je(58),He=Je(534),We=Je(879),_n=Je(582),An=Je(537);const ft={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const di=function ut(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Pt=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hi=new We.Yd("@firebase/auth");function an(f,...c){hi.logLevel<=We.in.ERROR&&hi.error(`Auth (${He.SDK_VERSION}): ${f}`,...c)}function kt(f,...c){throw Jn(f,...c)}function Yt(f,...c){return Jn(f,...c)}function Oi(f,c,d){const p=Object.assign(Object.assign({},Pt()),{[c]:d});return new K.LL("auth","Firebase",p).create(c,{appName:f.name})}function rt(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&kt(f,"argument-error"),Oi(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jn(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return Ke.create(f,...c)}function ne(f,c,...d){if(!f)throw Jn(c,...d)}function yn(f){const c="INTERNAL ASSERTION FAILED: "+f;throw an(c),new Error(c)}function ln(f,c){f||yn(c)}function Gn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function uo(){return"http:"===ho()||"https:"===ho()}function ho(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class fo{constructor(c,d){this.shortDelay=c,this.longDelay=d,ln(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(uo()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function H(f,c){ln(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class G{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},X=new fo(3e4,6e4);function oe(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function W(f,c,d,p){return be.apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(f,c,d,p,_={}){return bt(f,_,(0,E.Z)(function*(){let v={},I={};p&&("GET"===c?I=p:v={body:JSON.stringify(p)});const P=(0,K.xO)(Object.assign({key:f.config.apiKey},I)).slice(1),J=yield f._getAdditionalHeaders();return J["Content-Type"]="application/json",f.languageCode&&(J["X-Firebase-Locale"]=f.languageCode),G.fetch()(vn(f,f.config.apiHost,d,P),Object.assign({method:c,headers:J,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function bt(f,c,d){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,E.Z)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},z),c);try{const _=new Ii(f),v=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const I=yield v.json();if("needConfirmation"in I)throw ei(f,"account-exists-with-different-credential",I);if(v.ok&&!("errorMessage"in I))return I;{const P=v.ok?I.errorMessage:I.error.message,[J,ye]=P.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===J)throw ei(f,"credential-already-in-use",I);if("EMAIL_EXISTS"===J)throw ei(f,"email-already-in-use",I);if("USER_DISABLED"===J)throw ei(f,"user-disabled",I);const Ie=p[J]||J.toLowerCase().replace(/[_\s]+/g,"-");if(ye)throw Oi(f,Ie,ye);kt(f,Ie)}}catch(_){if(_ instanceof K.ZR)throw _;kt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Pe(f,c,d,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,E.Z)(function*(f,c,d,p,_={}){const v=yield W(f,c,d,p,_);return"mfaPendingCredential"in v&&kt(f,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function vn(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?H(f.config,_):`${f.config.apiScheme}://${_}`}function Jt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ii{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Yt(this.auth,"network-request-failed")),X.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Yt(f,c,p);return _.customData._tokenResponse=d,_}function Ni(f){return void 0!==f&&void 0!==f.getResponse}function Yi(f){return void 0!==f&&void 0!==f.enterprise}class fr{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return Jt(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Lo(){return(Lo=(0,E.Z)(function*(f){return(yield W(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function On(f,c){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,E.Z)(function*(f,c){return W(f,"GET","/v2/recaptchaConfig",oe(f,c))})).apply(this,arguments)}function qr(){return(qr=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Zi(){return(Zi=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function rs(){return(rs=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Di(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Gr(){return(Gr=(0,E.Z)(function*(f,c=!1){const d=(0,K.m9)(f),p=yield d.getIdToken(c),_=ka(p);ne(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,I=v?.sign_in_provider;return{claims:_,token:p,authTime:Di(ti(_.auth_time)),issuedAtTime:Di(ti(_.iat)),expirationTime:Di(ti(_.exp)),signInProvider:I||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function ti(f){return 1e3*Number(f)}function ka(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return an("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,K.tV)(d);return _?JSON.parse(_):(an("Failed to decode base64 JWT payload"),null)}catch(_){return an("Caught error parsing JWT payload as JSON",_?.toString()),null}}function pr(f,c){return os.apply(this,arguments)}function os(){return(os=(0,E.Z)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof K.ZR&&function Oa({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class ss{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,E.Z)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,E.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class Na{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fi(f){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,E.Z)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield pr(f,function Vo(f,c){return rs.apply(this,arguments)}(d,{idToken:p}));ne(_?.users.length,d,"internal-error");const v=_.users[0];f._notifyReloadListener(v);const I=null!==(c=v.providerUserInfo)&&void 0!==c&&c.length?function oc(f){return f.map(c=>{var{providerId:d}=c,p=(0,_n._T)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(v.providerUserInfo):[],P=function qu(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,I),Ie=!!f.isAnonymous&&!(f.email&&v.passwordHash||P?.length),Se={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:P,metadata:new Na(v.createdAt,v.lastLoginAt),isAnonymous:Ie};Object.assign(f,Se)}),Qi.apply(this,arguments)}function Fa(){return(Fa=(0,E.Z)(function*(f){const c=(0,K.m9)(f);yield Fi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function T(){return(T=(0,E.Z)(function*(f,c){const d=yield bt(f,{},(0,E.Z)(function*(){const p=(0,K.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:v}=f.config,I=vn(f,_,"/v1/token",`key=${v}`),P=yield f._getAdditionalHeaders();return P["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(I,{method:"POST",headers:P,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,E.Z)(function*(f,c){return W(f,"POST","/v2/accounts:revokeToken",oe(f,c))})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ne(c.idToken,"internal-error"),ne(typeof c.idToken<"u","internal-error"),ne(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function kr(f){const c=ka(f);return ne(c,"internal-error"),ne(typeof c.exp<"u","internal-error"),ne(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,E.Z)(function*(){return ne(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:v,expiresIn:I}=yield function La(f,c){return T.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,v,Number(I))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:v}=d,I=new Q;return p&&(ne("string"==typeof p,"internal-error",{appName:c}),I.refreshToken=p),_&&(ne("string"==typeof _,"internal-error",{appName:c}),I.accessToken=_),v&&(ne("number"==typeof v,"internal-error",{appName:c}),I.expirationTime=v),I}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return yn("not implemented")}}function N(f,c){ne("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class q{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,v=(0,_n._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new Na(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,E.Z)(function*(){const p=yield pr(d,d.stsTokenManager.getToken(d.auth,c));return ne(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function en(f){return Gr.apply(this,arguments)}(this,c)}reload(){return function as(f){return Fa.apply(this,arguments)}(this)}_assign(c){this!==c&&(ne(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new q(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,E.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Fi(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,E.Z)(function*(){const d=yield c.getIdToken();return yield pr(c,function ic(f,c){return qr.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,v,I,P,J,ye,Ie;const Se=null!==(p=d.displayName)&&void 0!==p?p:void 0,Rn=null!==(_=d.email)&&void 0!==_?_:void 0,Yr=null!==(v=d.phoneNumber)&&void 0!==v?v:void 0,Od=null!==(I=d.photoURL)&&void 0!==I?I:void 0,qy=null!==(P=d.tenantId)&&void 0!==P?P:void 0,ol=null!==(J=d._redirectEventId)&&void 0!==J?J:void 0,Fp=null!==(ye=d.createdAt)&&void 0!==ye?ye:void 0,Gy=null!==(Ie=d.lastLoginAt)&&void 0!==Ie?Ie:void 0,{uid:Nd,emailVerified:sC,isAnonymous:Lp,providerData:Wy,stsTokenManager:Ky}=d;ne(Nd&&Ky,c,"internal-error");const aC=Q.fromJSON(this.name,Ky);ne("string"==typeof Nd,c,"internal-error"),N(Se,c.name),N(Rn,c.name),ne("boolean"==typeof sC,c,"internal-error"),ne("boolean"==typeof Lp,c,"internal-error"),N(Yr,c.name),N(Od,c.name),N(qy,c.name),N(ol,c.name),N(Fp,c.name),N(Gy,c.name);const jc=new q({uid:Nd,auth:c,email:Rn,emailVerified:sC,displayName:Se,isAnonymous:Lp,photoURL:Od,phoneNumber:Yr,tenantId:qy,stsTokenManager:aC,createdAt:Fp,lastLoginAt:Gy});return Wy&&Array.isArray(Wy)&&(jc.providerData=Wy.map(OR=>Object.assign({},OR))),ol&&(jc._redirectEventId=ol),jc}static _fromIdTokenResponse(c,d,p=!1){return(0,E.Z)(function*(){const _=new Q;_.updateFromServerResponse(d);const v=new q({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Fi(v),v})()}}const $e=new Map;function st(f){ln(f instanceof Function,"Expected a class definition");let c=$e.get(f);return c?(ln(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,$e.set(f,c),c)}const cn=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,E.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,E.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,E.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function ni(f,c,d){return`firebase:${f}:${c}:${d}`}class xe{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=ni(this.userKey,_.apiKey,v),this.fullPersistenceKey=ni("persistence",_.apiKey,v),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,E.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?q._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,E.Z)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,E.Z)(function*(){if(!d.length)return new xe(st(cn),c,p);const _=(yield Promise.all(d.map(function(){var ye=(0,E.Z)(function*(Ie){if(yield Ie._isAvailable())return Ie});return function(Ie){return ye.apply(this,arguments)}}()))).filter(ye=>ye);let v=_[0]||st(cn);const I=ni(p,c.config.apiKey,c.name);let P=null;for(const ye of d)try{const Ie=yield ye._get(I);if(Ie){const Se=q._fromJSON(c,Ie);ye!==v&&(P=Se),v=ye;break}}catch{}const J=_.filter(ye=>ye._shouldAllowMigration);return v._shouldAllowMigration&&J.length?(v=J[0],P&&(yield v._set(I,P.toJSON())),yield Promise.all(d.map(function(){var ye=(0,E.Z)(function*(Ie){if(Ie!==v)try{yield Ie._remove(I)}catch{}});return function(Ie){return ye.apply(this,arguments)}}())),new xe(v,c,p)):new xe(v,c,p)})()}}function pi(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(B(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(qt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(le(c))return"Blackberry";if(Te(c))return"Webos";if(po(c))return"Safari";if((c.includes("chrome/")||Gu(c))&&!c.includes("edge/"))return"Chrome";if(R(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function qt(f=(0,K.z$)()){return/firefox\//i.test(f)}function po(f=(0,K.z$)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Gu(f=(0,K.z$)()){return/crios\//i.test(f)}function B(f=(0,K.z$)()){return/iemobile/i.test(f)}function R(f=(0,K.z$)()){return/android/i.test(f)}function le(f=(0,K.z$)()){return/blackberry/i.test(f)}function Te(f=(0,K.z$)()){return/webos/i.test(f)}function Ze(f=(0,K.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ae(f=(0,K.z$)()){return Ze(f)||R(f)||Te(f)||le(f)||/windows phone/i.test(f)||B(f)}function Va(f,c=[]){let d;switch(f){case"Browser":d=pi((0,K.z$)());break;case"Worker":d=`${pi((0,K.z$)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${He.SDK_VERSION}/${p}`}class QM{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=v=>new Promise((I,P)=>{try{I(c(v))}catch(J){P(J)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,E.Z)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function sc(){return(sc=(0,E.Z)(function*(f,c={}){return W(f,"GET","/v2/passwordPolicy",oe(f,c))})).apply(this,arguments)}class XM{constructor(c){var d,p,_,v;const I=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=I.minPasswordLength)&&void 0!==d?d:6,I.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=I.maxPasswordLength),void 0!==I.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=I.containsLowercaseCharacter),void 0!==I.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=I.containsUppercaseCharacter),void 0!==I.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=I.containsNumericCharacter),void 0!==I.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=I.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=c.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,v,I,P;const J={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,J),this.validatePasswordCharacterOptions(c,J),J.isValid&&(J.isValid=null===(d=J.meetsMinPasswordLength)||void 0===d||d),J.isValid&&(J.isValid=null===(p=J.meetsMaxPasswordLength)||void 0===p||p),J.isValid&&(J.isValid=null===(_=J.containsLowercaseLetter)||void 0===_||_),J.isValid&&(J.isValid=null===(v=J.containsUppercaseLetter)||void 0===v||v),J.isValid&&(J.isValid=null===(I=J.containsNumericCharacter)||void 0===I||I),J.isValid&&(J.isValid=null===(P=J.containsNonAlphanumericCharacter)||void 0===P||P),J}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=v))}}class sE{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new QM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=st(d)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield xe.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,E.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,E.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let v=_,I=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const P=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,J=v?._redirectEventId,ye=yield d.tryRedirectSignIn(c);(!P||P===J)&&ye?.user&&(v=ye.user,I=!0)}if(!v)return d.directlySetCurrentUser(null);if(!v._redirectEventId){if(I)try{yield d.beforeStateQueue.runMiddleware(v)}catch(P){v=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(P))}return v?d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)}return ne(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(c){var d=this;return(0,E.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,E.Z)(function*(){try{yield Fi(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ws(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,E.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,E.Z)(function*(){const p=c?(0,K.m9)(c):null;return p&&ne(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,E.Z)(function*(){if(!p._deleted)return c&&ne(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,E.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,E.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,E.Z)(function*(){yield d.assertedPersistence.setPersistence(st(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,E.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,E.Z)(function*(){const d=yield function oE(f){return sc.apply(this,arguments)}(c),p=new XM(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new K.LL("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,E.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function D(f,c){return S.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,E.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,E.Z)(function*(){if(!d.redirectPersistenceManager){const p=c&&st(c)||d._popupRedirectResolver;ne(p,d,"argument-error"),d.redirectPersistenceManager=yield xe.create(d,[st(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,E.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,E.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,E.Z)(function*(){if(c===d.currentUser)return d.queue((0,E.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const v="function"==typeof d?d:d.next.bind(d);let I=!1;const P=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(P,this,"internal-error"),P.then(()=>{I||v(this.currentUser)}),"function"==typeof d){const J=c.addObserver(d,p,_);return()=>{I=!0,J()}}{const J=c.addObserver(d);return()=>{I=!0,J()}}}directlySetCurrentUser(c){var d=this;return(0,E.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Va(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,E.Z)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield c._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var c=this;return(0,E.Z)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function fi(f,...c){hi.logLevel<=We.in.WARN&&hi.warn(`Auth (${He.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function un(f){return(0,K.m9)(f)}class ls{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,K.ne)(d=>this.observer=d)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function R_(f){return new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const v=Yt("internal-error");v.customData=_,d(v)},p.type="text/javascript",p.charset="UTF-8",function JM(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function aE(f){return`__${f}${Math.floor(1e6*Math.random())}`}class P_{constructor(c){this.type="recaptcha-enterprise",this.auth=un(c)}verify(c="verify",d=!1){var p=this;return(0,E.Z)(function*(){function v(){return v=(0,E.Z)(function*(P){if(!d){if(null==P.tenantId&&null!=P._agentRecaptchaConfig)return P._agentRecaptchaConfig.siteKey;if(null!=P.tenantId&&void 0!==P._tenantRecaptchaConfigs[P.tenantId])return P._tenantRecaptchaConfigs[P.tenantId].siteKey}return new Promise(function(){var J=(0,E.Z)(function*(ye,Ie){On(P,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Se=>{if(void 0!==Se.recaptchaKey){const Rn=new fr(Se);return null==P.tenantId?P._agentRecaptchaConfig=Rn:P._tenantRecaptchaConfigs[P.tenantId]=Rn,ye(Rn.siteKey)}Ie(new Error("recaptcha Enterprise site key undefined"))}).catch(Se=>{Ie(Se)})});return function(ye,Ie){return J.apply(this,arguments)}}())}),v.apply(this,arguments)}function I(P,J,ye){const Ie=window.grecaptcha;Yi(Ie)?Ie.enterprise.ready(()=>{Ie.enterprise.execute(P,{action:c}).then(Se=>{J(Se)}).catch(()=>{J("NO_RECAPTCHA")})}):ye(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((P,J)=>{(function _(P){return v.apply(this,arguments)})(p.auth).then(ye=>{if(!d&&Yi(window.grecaptcha))I(ye,P,J);else{if(typeof window>"u")return void J(new Error("RecaptchaVerifier is only supported in browser"));R_("https://www.google.com/recaptcha/enterprise.js?render="+ye).then(()=>{I(ye,P,J)}).catch(Ie=>{J(Ie)})}}).catch(ye=>{J(ye)})})})()}}function cE(f,c,d){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,E.Z)(function*(f,c,d,p=!1){const _=new P_(f);let v;try{v=yield _.verify(d)}catch{v=yield _.verify(d,!0)}const I=Object.assign({},c);return Object.assign(I,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(I,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(I,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),I})).apply(this,arguments)}function Ve(f,c,d,p){return k_.apply(this,arguments)}function k_(){return k_=(0,E.Z)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield cE(f,c,d,"getOobCode"===d);return p(f,v)}return p(f,c).catch(function(){var v=(0,E.Z)(function*(I){if("auth/missing-recaptcha-token"===I.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const P=yield cE(f,c,d,"getOobCode"===d);return p(f,P)}return Promise.reject(I)});return function(I){return v.apply(this,arguments)}}())}),k_.apply(this,arguments)}function ac(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Pf(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Bo{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return yn("not implemented")}_getIdTokenResponse(c){return yn("not implemented")}_linkToIdToken(c,d){return yn("not implemented")}_getReauthenticationResolver(c){return yn("not implemented")}}function lc(f,c){return cc.apply(this,arguments)}function cc(){return(cc=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:resetPassword",oe(f,c))})).apply(this,arguments)}function kf(){return(kf=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function gt(f,c){return uc.apply(this,arguments)}function uc(){return(uc=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function xi(){return(xi=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:update",oe(f,c))})).apply(this,arguments)}function L_(f,c){return V_.apply(this,arguments)}function V_(){return(V_=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithPassword",oe(f,c))})).apply(this,arguments)}function Lt(f,c){return B_.apply(this,arguments)}function B_(){return(B_=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:sendOobCode",oe(f,c))})).apply(this,arguments)}function ie(){return(ie=(0,E.Z)(function*(f,c){return Lt(f,c)})).apply(this,arguments)}function Of(f,c){return dc.apply(this,arguments)}function dc(){return(dc=(0,E.Z)(function*(f,c){return Lt(f,c)})).apply(this,arguments)}function U_(f,c){return hc.apply(this,arguments)}function hc(){return(hc=(0,E.Z)(function*(f,c){return Lt(f,c)})).apply(this,arguments)}function fc(){return(fc=(0,E.Z)(function*(f,c){return Lt(f,c)})).apply(this,arguments)}function j_(){return(j_=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithEmailLink",oe(f,c))})).apply(this,arguments)}function z_(){return(z_=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithEmailLink",oe(f,c))})).apply(this,arguments)}class Wu extends Bo{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Wu(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Wu(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,E.Z)(function*(){switch(d.signInMethod){case"password":return Ve(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",L_);case"emailLink":return function oR(f,c){return j_.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:kt(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,E.Z)(function*(){switch(p.signInMethod){case"password":return Ve(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gt);case"emailLink":return function sR(f,c){return z_.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:kt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function gr(f,c){return pc.apply(this,arguments)}function pc(){return(pc=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithIdp",oe(f,c))})).apply(this,arguments)}class mo extends Bo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new mo(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):kt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,v=(0,_n._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const I=new mo(p,_);return I.idToken=v.idToken||void 0,I.accessToken=v.accessToken||void 0,I.secret=v.secret,I.nonce=v.nonce,I.pendingToken=v.pendingToken||null,I}_getIdTokenResponse(c){return gr(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,gr(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,gr(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,K.xO)(d)}return c}}function Nf(){return(Nf=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:sendVerificationCode",oe(f,c))})).apply(this,arguments)}function cs(){return(cs=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",oe(f,c))})).apply(this,arguments)}function go(){return(go=(0,E.Z)(function*(f,c){const d=yield Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",oe(f,c));if(d.temporaryProof)throw ei(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const mE={USER_NOT_FOUND:"user-not-found"};function Yu(){return(Yu=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithPhoneNumber",oe(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),mE)})).apply(this,arguments)}class he extends Bo{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new he({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new he({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function H_(f,c){return cs.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function pE(f,c){return go.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function O(f,c){return Yu.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}=c;return p||d||_||v?new he({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class Uo{constructor(c){var d,p,_,v,I,P;const J=(0,K.zd)((0,K.pd)(c)),ye=null!==(d=J.apiKey)&&void 0!==d?d:null,Ie=null!==(p=J.oobCode)&&void 0!==p?p:null,Se=function Zu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=J.mode)&&void 0!==_?_:null);ne(ye&&Ie&&Se,"argument-error"),this.apiKey=ye,this.operation=Se,this.code=Ie,this.continueUrl=null!==(v=J.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(I=J.languageCode)&&void 0!==I?I:null,this.tenantId=null!==(P=J.tenantId)&&void 0!==P?P:null}static parseLink(c){const d=function Ff(f){const c=(0,K.zd)((0,K.pd)(f)).link,d=c?(0,K.zd)((0,K.pd)(c)).deep_link_id:null,p=(0,K.zd)((0,K.pd)(f)).deep_link_id;return(p?(0,K.zd)((0,K.pd)(p)).link:null)||p||d||c||f}(c);try{return new Uo(d)}catch{return null}}}let Lf=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Wu._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Uo.parseLink(p);return ne(_,"argument-error"),Wu._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class jo{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Ji extends jo{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class zo extends Ji{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return ne("providerId"in d&&"signInMethod"in d,"argument-error"),mo._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ne(c.idToken||c.accessToken,"argument-error"),mo._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return zo.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return zo.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:I,providerId:P}=c;if(!p&&!_&&!d&&!v||!P)return null;try{return new zo(P)._credential({idToken:d,accessToken:p,nonce:I,pendingToken:v})}catch{return null}}}let _r=(()=>{class f extends Ji{constructor(){super("facebook.com")}static credential(d){return mo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Wr=(()=>{class f extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return mo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),xt=(()=>{class f extends Ji{constructor(){super("github.com")}static credential(d){return mo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class us extends Bo{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return gr(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,gr(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,gr(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:v}=d;return p&&_&&v&&p===_?new us(p,v):null}static _create(c,d){return new us(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mc extends jo{constructor(c){ne(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return mc.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return mc.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=us.fromJSON(c);return ne(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return us._create(p,d)}catch{return null}}}let _o=(()=>{class f extends Ji{constructor(){super("twitter.com")}static credential(d,p){return mo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Ba(f,c){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signUp",oe(f,c))})).apply(this,arguments)}class yr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,E.Z)(function*(){const v=yield q._fromIdTokenResponse(c,p,_),I=Ju(p);return new yr({user:v,providerId:I,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,E.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Ju(p);return new yr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Ju(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ed(){return(ed=(0,E.Z)(function*(f){var c;const d=un(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new yr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Ba(d,{returnSecureToken:!0}),_=yield yr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ds extends K.ZR{constructor(c,d,p,_){var v;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,ds.prototype),this.customData={appName:c.name,tenantId:null!==(v=c.tenantId)&&void 0!==v?v:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new ds(c,d,p,_)}}function Bf(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?ds._fromErrorAndOperation(f,v,c,p):v})}function Uf(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function td(){return td=(0,E.Z)(function*(f,c){const d=(0,K.m9)(f);yield er(!0,d,c);const{providerUserInfo:p}=yield function rc(f,c){return Zi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=Uf(p||[]);return d.providerData=d.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),td.apply(this,arguments)}function jf(f,c){return zf.apply(this,arguments)}function zf(){return(zf=(0,E.Z)(function*(f,c,d=!1){const p=yield pr(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return yr._forOperation(f,"link",p)})).apply(this,arguments)}function er(f,c,d){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,E.Z)(function*(f,c,d){yield Fi(c);const _=!1===f?"provider-already-linked":"no-such-provider";ne(Uf(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function $f(f,c){return qf.apply(this,arguments)}function qf(){return(qf=(0,E.Z)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const v=yield pr(f,Bf(p,_,c,f),d);ne(v.idToken,p,"internal-error");const I=ka(v.idToken);ne(I,p,"internal-error");const{sub:P}=I;return ne(f.uid===P,p,"user-mismatch"),yr._forOperation(f,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&kt(p,"user-mismatch"),v}})).apply(this,arguments)}function q_(f,c){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,E.Z)(function*(f,c,d=!1){const p="signIn",_=yield Bf(f,p,c),v=yield yr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(v.user)),v})).apply(this,arguments)}function nd(f,c){return id.apply(this,arguments)}function id(){return(id=(0,E.Z)(function*(f,c){return q_(un(f),c)})).apply(this,arguments)}function G_(f,c){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,E.Z)(function*(f,c){const d=(0,K.m9)(f);return yield er(!1,d,c.providerId),jf(d,c)})).apply(this,arguments)}function W_(f,c){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,E.Z)(function*(f,c){return $f((0,K.m9)(f),c)})).apply(this,arguments)}function Kf(){return(Kf=(0,E.Z)(function*(f,c){return Pe(f,"POST","/v1/accounts:signInWithCustomToken",oe(f,c))})).apply(this,arguments)}function It(){return It=(0,E.Z)(function*(f,c){const d=un(f),p=yield function _E(f,c){return Kf.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield yr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),It.apply(this,arguments)}class gc{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?rd._fromServerResponse(c,d):"totpInfo"in d?ge._fromServerResponse(c,d):kt(c,"internal-error")}}class rd extends gc{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new rd(d)}}class ge extends gc{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new ge(d)}}function ii(f,c,d){var p;ne((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ne(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ne(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(ne(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function yt(f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,E.Z)(function*(f){const c=un(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function hs(){return(hs=(0,E.Z)(function*(f,c,d){const p=un(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&ii(p,_,d),yield Ve(p,_,"getOobCode",Of)})).apply(this,arguments)}function od(){return od=(0,E.Z)(function*(f,c,d){yield lc((0,K.m9)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&yt(f),_});return function(_){return p.apply(this,arguments)}}())}),od.apply(this,arguments)}function Ua(){return Ua=(0,E.Z)(function*(f,c){yield function F_(f,c){return xi.apply(this,arguments)}((0,K.m9)(f),{oobCode:c})}),Ua.apply(this,arguments)}function Y_(f,c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,E.Z)(function*(f,c){const d=(0,K.m9)(f),p=yield lc(d,{oobCode:c}),_=p.requestType;switch(ne(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(p.mfaInfo,d,"internal-error");default:ne(p.email,d,"internal-error")}let v=null;return p.mfaInfo&&(v=gc._fromServerResponse(un(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function we(){return(we=(0,E.Z)(function*(f,c){const{data:d}=yield Y_((0,K.m9)(f),c);return d.email})).apply(this,arguments)}function Zt(){return(Zt=(0,E.Z)(function*(f,c,d){const p=un(f),I=yield Ve(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ba).catch(J=>{throw"auth/password-does-not-meet-requirements"===J.code&&yt(f),J}),P=yield yr._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(P.user),P})).apply(this,arguments)}function ri(){return(ri=(0,E.Z)(function*(f,c,d){const p=un(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function v(I,P){ne(P.handleCodeInApp,p,"argument-error"),P&&ii(p,I,P)})(_,d),yield Ve(p,_,"getOobCode",U_)})).apply(this,arguments)}function yo(){return(yo=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f),_=Lf.credentialWithLink(c,d||Gn());return ne(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),nd(p,_)})).apply(this,arguments)}function qe(){return(qe=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:createAuthUri",oe(f,c))})).apply(this,arguments)}function sd(){return sd=(0,E.Z)(function*(f,c){const p={identifier:c,continueUri:uo()?Gn():"http://localhost"},{signinMethods:_}=yield function za(f,c){return qe.apply(this,arguments)}((0,K.m9)(f),p);return _||[]}),sd.apply(this,arguments)}function bn(){return bn=(0,E.Z)(function*(f,c){const d=(0,K.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&ii(d.auth,_,c);const{email:v}=yield function rR(f,c){return ie.apply(this,arguments)}(d.auth,_);v!==f.email&&(yield f.reload())}),bn.apply(this,arguments)}function fs(){return fs=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&ii(p.auth,v,d);const{email:I}=yield function hE(f,c){return fc.apply(this,arguments)}(p.auth,v);I!==f.email&&(yield f.reload())}),fs.apply(this,arguments)}function Ys(){return(Ys=(0,E.Z)(function*(f,c){return W(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function bo(){return bo=(0,E.Z)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,K.m9)(f),v={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},I=yield pr(p,function vo(f,c){return Ys.apply(this,arguments)}(p.auth,v));p.displayName=I.displayName||null,p.photoURL=I.photoUrl||null;const P=p.providerData.find(({providerId:J})=>"password"===J);P&&(P.displayName=p.displayName,P.photoURL=p.photoURL),yield p._updateTokensIfNecessary(I)}),bo.apply(this,arguments)}function $a(f,c,d){return ct.apply(this,arguments)}function ct(){return ct=(0,E.Z)(function*(f,c,d){const{auth:p}=f,v={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(v.email=c),d&&(v.password=d);const I=yield pr(f,function N_(f,c){return kf.apply(this,arguments)}(p,v));yield f._updateTokensIfNecessary(I,!0)}),ct.apply(this,arguments)}class ps{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class Zf extends ps{constructor(c,d,p,_){super(c,d,p),this.username=_}}class wo extends ps{constructor(c,d){super(c,"facebook.com",d)}}class ad extends Zf{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class qa extends ps{constructor(c,d){super(c,"google.com",d)}}class wc extends Zf{constructor(c,d,p){super(c,"twitter.com",d,p)}}function mi(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function lR(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},v=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const I=null===(d=null===(c=ka(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(I)return new ps(v,"anonymous"!==I&&"custom"!==I?I:null)}if(!p)return null;switch(p){case"facebook.com":return new wo(v,_);case"github.com":return new ad(v,_);case"google.com":return new qa(v,_);case"twitter.com":return new wc(v,_,f.screenName||null);case"custom":case"anonymous":return new ps(v,null);default:return new ps(v,p,_)}}(d)}class Ga{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new Ga("enroll",c,d)}static _fromMfaPendingCredential(c){return new Ga("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ga._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return Ga._fromIdtoken(c.multiFactorSession.idToken)}return null}}class X_{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=un(c),_=d.customData._serverResponse,v=(_.mfaInfo||[]).map(P=>gc._fromServerResponse(p,P));ne(_.mfaPendingCredential,p,"internal-error");const I=Ga._fromMfaPendingCredential(_.mfaPendingCredential);return new X_(I,v,function(){var P=(0,E.Z)(function*(J){const ye=yield J._process(p,I);delete _.mfaInfo,delete _.mfaPendingCredential;const Ie=Object.assign(Object.assign({},_),{idToken:ye.idToken,refreshToken:ye.refreshToken});switch(d.operationType){case"signIn":const Se=yield yr._fromIdTokenResponse(p,d.operationType,Ie);return yield p._updateCurrentUser(Se.user),Se;case"reauthenticate":return ne(d.user,p,"internal-error"),yr._forOperation(d.user,d.operationType,Ie);default:kt(p,"internal-error")}});return function(J){return P.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,E.Z)(function*(){return d.signInResolver(c)})()}}class J_{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>gc._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new J_(c)}getSession(){var c=this;return(0,E.Z)(function*(){return Ga._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,E.Z)(function*(){const _=c,v=yield p.getSession(),I=yield pr(p.user,_._process(p.user.auth,v,d));return yield p.user._updateTokensIfNecessary(I),p.user.reload()})()}unenroll(c){var d=this;return(0,E.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const v=yield pr(d.user,function gR(f,c){return W(f,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:I})=>I!==p),yield d.user._updateTokensIfNecessary(v),yield d.user.reload()}catch(v){throw v}})()}}const ey=new WeakMap,Xf="__sak";class Jf{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Co=(()=>{class f extends Jf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ty(){const f=(0,K.z$)();return po(f)||Ze(f)}()&&function dt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ae(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&d(p,v,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((P,J,ye)=>{this.notifyListeners(P,ye)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const P=this.storage.getItem(_);if(d.newValue!==P)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const v=()=>{const P=this.storage.getItem(_);!p&&this.localCache[_]===P||this.notifyListeners(_,P)},I=this.storage.getItem(_);!function Sn(){return(0,K.w1)()&&10===document.documentMode}()||I===d.newValue||d.newValue===d.oldValue?v():setTimeout(v,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,v=this;return(0,E.Z)(function*(){yield _().call(v,d,p),v.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,E.Z)(function*(){const v=yield p().call(_,d);return _.localCache[d]=JSON.stringify(v),v})()}_remove(d){var p=()=>super._remove,_=this;return(0,E.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Xs=(()=>{class f extends Jf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let gi=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(v=>v.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,E.Z)(function*(){const _=d,{eventId:v,eventType:I,data:P}=_.data,J=p.handlersMap[I];if(!J?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:I});const ye=Array.from(J).map(function(){var Se=(0,E.Z)(function*(Rn){return Rn(_.origin,P)});return function(Rn){return Se.apply(this,arguments)}}()),Ie=yield function bR(f){return Promise.all(f.map(function(){var c=(0,E.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(ye);_.ports[0].postMessage({status:"done",eventId:v,eventType:I,response:Ie})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function ms(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class Or{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,E.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let I,P;return new Promise((J,ye)=>{const Ie=ms("",20);v.port1.start();const Se=setTimeout(()=>{ye(new Error("unsupported_event"))},p);P={messageChannel:v,onMessage(Rn){const Yr=Rn;if(Yr.data.eventId===Ie)switch(Yr.data.status){case"ack":clearTimeout(Se),I=setTimeout(()=>{ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(I),J(Yr.data.response);break;default:clearTimeout(Se),clearTimeout(I),ye(new Error("invalid_response"))}}},_.handlers.add(P),v.port1.addEventListener("message",P.onMessage),_.target.postMessage({eventType:c,eventId:Ie,data:d},[v.port2])}).finally(()=>{P&&_.removeMessageHandler(P)})})()}}function Fn(){return window}function cd(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function Cc(){return(Cc=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ud="firebaseLocalStorageDb",Ic="firebaseLocalStorage",tp="fbase_key";class gs{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function _s(f,c){return f.transaction([Ic],c?"readwrite":"readonly").objectStore(Ic)}function dd(){const f=indexedDB.open(ud,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Ic,{keyPath:tp})}catch(_){d(_)}}),f.addEventListener("success",(0,E.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Ic)?c(p):(p.close(),yield function Wa(){const f=indexedDB.deleteDatabase(ud);return new gs(f).toPromise()}(),c(yield dd()))}))})}function vE(f,c,d){return sy.apply(this,arguments)}function sy(){return(sy=(0,E.Z)(function*(f,c,d){const p=_s(f,!0).put({[tp]:c,value:d});return new gs(p).toPromise()})).apply(this,arguments)}function np(){return(np=(0,E.Z)(function*(f,c){const d=_s(f,!1).get(c),p=yield new gs(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function ay(f,c){const d=_s(f,!0).delete(c);return new gs(d).toPromise()}const Ka=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.Z)(function*(){return d.db||(d.db=yield dd()),d.db})()}_withRetries(d){var p=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield d(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.Z)(function*(){return cd()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.Z)(function*(){d.receiver=gi._getInstance(function ep(){return cd()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,E.Z)(function*(_,v){return{keyProcessed:(yield d._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,E.Z)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function iy(){return Cc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Or(d.activeServiceWorker);const v=yield d.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,E.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function ry(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const d=yield dd();return yield vE(d,Xf,"1"),yield ay(d,Xf),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,E.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(v=>vE(v,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,E.Z)(function*(){const _=yield p._withRetries(v=>function wR(f,c){return np.apply(this,arguments)}(v,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,E.Z)(function*(){return p._withPendingWrite((0,E.Z)(function*(){return yield p._withRetries(_=>ay(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.Z)(function*(){const p=yield d._withRetries(I=>{const P=_s(I,!1).getAll();return new gs(P).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],v=new Set;if(0!==p.length)for(const{fbase_key:I,value:P}of p)v.add(I),JSON.stringify(d.localCache[I])!==JSON.stringify(P)&&(d.notifyListeners(I,P),_.push(I));for(const I of Object.keys(d.localCache))d.localCache[I]&&!v.has(I)&&(d.notifyListeners(I,null),_.push(I));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Dc=1e12;class wE{constructor(c){this.auth=c,this.counter=Dc,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new EE(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||Dc;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||Dc))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,E.Z)(function*(){var p;return null===(p=d._widgets.get(c||Dc))||void 0===p||p.execute(),""})()}}class EE{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;ne(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function CE(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hd=aE("rcb"),IE=new fo(3e4,6e4);class DE{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Fn().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return ne(function DR(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&Ni(Fn().grecaptcha)?Promise.resolve(Fn().grecaptcha):new Promise((p,_)=>{const v=Fn().setTimeout(()=>{_(Yt(c,"network-request-failed"))},IE.get());Fn()[hd]=()=>{Fn().clearTimeout(v),delete Fn()[hd];const P=Fn().grecaptcha;if(!P||!Ni(P))return void _(Yt(c,"internal-error"));const J=P.render;P.render=(ye,Ie)=>{const Se=J(ye,Ie);return this.counter++,Se},this.hostLanguage=d,p(P)},R_(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:hd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(v),_(Yt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Fn().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xE{load(c){return(0,E.Z)(function*(){return new wE(c)})()}clearedOneInstance(){}}const Ln="recaptcha",hy={theme:"light",type:"image"};class TE{constructor(c,d,p=Object.assign({},hy)){this.parameters=p,this.type=Ln,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(c),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ne(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xE:new DE,this.validateStartingState()}verify(){var c=this;return(0,E.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(v=>{const I=P=>{P&&(c.tokenChangeListeners.delete(I),v(P))};c.tokenChangeListeners.add(I),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=Fn()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,E.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,E.Z)(function*(){ne(uo()&&!cd(),c.auth,"internal-error"),yield function AE(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function nc(f){return Lo.apply(this,arguments)}(c.auth);ne(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fd{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=he._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function rp(){return(rp=(0,E.Z)(function*(f,c,d){const p=un(f),_=yield xc(p,c,(0,K.m9)(d));return new fd(_,v=>nd(p,v))})).apply(this,arguments)}function sp(){return(sp=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f);yield er(!1,p,"phone");const _=yield xc(p.auth,c,(0,K.m9)(d));return new fd(_,v=>G_(p,v))})).apply(this,arguments)}function pd(){return(pd=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f),_=yield xc(p.auth,c,(0,K.m9)(d));return new fd(_,v=>W_(p,v))})).apply(this,arguments)}function xc(f,c,d){return zt.apply(this,arguments)}function zt(){return zt=(0,E.Z)(function*(f,c,d){var p;const _=yield d.verify();try{let v;if(ne("string"==typeof _,f,"argument-error"),ne(d.type===Ln,f,"argument-error"),v="string"==typeof c?{phoneNumber:c}:c,"session"in v){const I=v.session;if("phoneNumber"in v)return ne("enroll"===I.type,f,"internal-error"),(yield function fR(f,c){return W(f,"POST","/v2/accounts/mfaEnrollment:start",oe(f,c))}(f,{idToken:I.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ne("signin"===I.type,f,"internal-error");const P=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return ne(P,f,"missing-multi-factor-info"),(yield function ip(f,c){return W(f,"POST","/v2/accounts/mfaSignIn:start",oe(f,c))}(f,{mfaPendingCredential:I.credential,mfaEnrollmentId:P,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:I}=yield function fE(f,c){return Nf.apply(this,arguments)}(f,{phoneNumber:v.phoneNumber,recaptchaToken:_});return I}}finally{d._reset()}}),zt.apply(this,arguments)}function Ya(){return(Ya=(0,E.Z)(function*(f,c){yield jf((0,K.m9)(f),c)})).apply(this,arguments)}let oi=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=un(d)}verifyPhoneNumber(d,p){return xc(this.auth,d,(0,K.m9)(p))}static credential(d,p){return he._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?he._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Js(f,c){return c?st(c):(ne(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class md extends Bo{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return gr(c,this._buildIdpRequest())}_linkToIdToken(c,d){return gr(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return gr(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Za(f){return q_(f.auth,new md(f),f.bypassAuthState)}function wr(f){const{auth:c,user:d}=f;return ne(d,c,"internal-error"),$f(d,new md(f),f.bypassAuthState)}function SE(f){return lp.apply(this,arguments)}function lp(){return(lp=(0,E.Z)(function*(f){const{auth:c,user:d}=f;return ne(d,c,"internal-error"),jf(d,new md(f),f.bypassAuthState)})).apply(this,arguments)}class py{constructor(c,d,p,_,v=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,E.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(v){c.reject(v)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,E.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:I,error:P,type:J}=c;if(P)return void d.reject(P);const ye={auth:d.auth,requestUri:p,sessionId:_,tenantId:I||void 0,postBody:v||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(J)(ye))}catch(Ie){d.reject(Ie)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Za;case"linkViaPopup":case"linkViaRedirect":return SE;case"reauthViaPopup":case"reauthViaRedirect":return wr;default:kt(this.auth,"internal-error")}}resolve(c){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ys=new fo(2e3,1e4);function cp(){return(cp=(0,E.Z)(function*(f,c,d){const p=un(f);rt(f,c,jo);const _=Js(p,d);return new je(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function gd(){return(gd=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f);rt(p.auth,c,jo);const _=Js(p.auth,d);return new je(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function up(){return(up=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f);rt(p.auth,c,jo);const _=Js(p.auth,d);return new je(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let je=(()=>{class f extends py{constructor(d,p,_,v,I){super(d,p,v,I),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.Z)(function*(){const p=yield d.execute();return ne(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,E.Z)(function*(){ln(1===d.filter.length,"Popup operations only handle one event");const p=ms();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Yt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,ys.get())};d()}}return f.currentPopupAction=null,f})();const yy="pendingRedirect",_d=new Map;class ME extends py{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,E.Z)(function*(){let p=_d.get(d.auth._key());if(!p){try{const v=(yield function RE(f,c){return dp.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}_d.set(d.auth._key(),p)}return d.bypassAuthState||_d.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,E.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function dp(){return(dp=(0,E.Z)(function*(f,c){const d=by(c),p=vy(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function yd(f,c){return vs.apply(this,arguments)}function vs(){return(vs=(0,E.Z)(function*(f,c){return vy(f)._set(by(c),"true")})).apply(this,arguments)}function hp(f,c){_d.set(f._key(),c)}function vy(f){return st(f._redirectPersistence)}function by(f){return ni(yy,f.config.apiKey,f.name)}function kE(f,c,d){return function se(f,c,d){return vt.apply(this,arguments)}(f,c,d)}function vt(){return(vt=(0,E.Z)(function*(f,c,d){const p=un(f);rt(f,c,jo),yield p._initializationPromise;const _=Js(p,d);return yield yd(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function wn(f,c,d){return function En(f,c,d){return Kn.apply(this,arguments)}(f,c,d)}function Kn(){return(Kn=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f);rt(p.auth,c,jo),yield p.auth._initializationPromise;const _=Js(p.auth,d);yield yd(_,p.auth);const v=yield pp(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",v)})).apply(this,arguments)}function wy(f,c,d){return function Tc(f,c,d){return Nr.apply(this,arguments)}(f,c,d)}function Nr(){return(Nr=(0,E.Z)(function*(f,c,d){const p=(0,K.m9)(f);rt(p.auth,c,jo),yield p.auth._initializationPromise;const _=Js(p.auth,d);yield er(!1,p,c.providerId),yield yd(_,p.auth);const v=yield pp(p);return _._openRedirect(p.auth,c,"linkViaRedirect",v)})).apply(this,arguments)}function Ac(){return(Ac=(0,E.Z)(function*(f,c){return yield un(f)._initializationPromise,vd(f,c,!1)})).apply(this,arguments)}function vd(f,c){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,E.Z)(function*(f,c,d=!1){const p=un(f),_=Js(p,c),I=yield new ME(p,_,d).execute();return I&&!d&&(delete I.user._redirectEventId,yield p._persistUserIfCurrent(I.user),yield p._setRedirectUser(null,c)),I})).apply(this,arguments)}function pp(f){return _i.apply(this,arguments)}function _i(){return(_i=(0,E.Z)(function*(f){const c=ms(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class mp{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function OE(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Do(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!Do(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Yt(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ea(c))}saveEventToCache(c){this.cachedEventUids.add(ea(c)),this.lastProcessedEventTime=Date.now()}}function ea(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function Do({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function gp(f){return _p.apply(this,arguments)}function _p(){return(_p=(0,E.Z)(function*(f,c={}){return W(f,"GET","/v1/projects",c)})).apply(this,arguments)}const NE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yp=/^https?/;function bd(){return(bd=(0,E.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield gp(f);for(const d of c)try{if(bp(d))return}catch{}kt(f,"unauthorized-domain")})).apply(this,arguments)}function bp(f){const c=Gn(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const I=new URL(f);return""===I.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&I.hostname===p}if(!yp.test(d))return!1;if(NE.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const FE=new fo(3e4,6e4);function wp(){const f=Fn().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Sc=null;const Iy=new fo(5e3,15e3),Dy="__/auth/iframe",Cp="emulator/auth/iframe",LE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vi(f){const c=f.config;ne(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?H(c,Cp):`https://${f.config.authDomain}/${Dy}`,p={apiKey:c.apiKey,appName:f.name,v:He.SDK_VERSION},_=VE.get(f.config.apiHost);_&&(p.eid=_);const v=f._getFrameworks();return v.length&&(p.fw=v.join(",")),`${d}?${(0,K.xO)(p).slice(1)}`}function tn(){return tn=(0,E.Z)(function*(f){const c=yield function Cy(f){return Sc=Sc||function Ep(f){return new Promise((c,d)=>{var p,_,v;function I(){wp(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{wp(),d(Yt(f,"network-request-failed"))},timeout:FE.get()})}if(null!==(_=null===(p=Fn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(v=Fn().gapi)||void 0===v||!v.load){const P=aE("iframefcb");return Fn()[P]=()=>{gapi.load?I():d(Yt(f,"network-request-failed"))},R_(`https://apis.google.com/js/api.js?onload=${P}`).catch(J=>d(J))}I()}}).catch(c=>{throw Sc=null,c})}(f),Sc}(f),d=Fn().gapi;return ne(d,f,"internal-error"),c.open({where:document.body,url:Vi(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LE,dontclear:!0},p=>new Promise(function(){var _=(0,E.Z)(function*(v,I){yield p.restyle({setHideOnLeave:!1});const P=Yt(f,"network-request-failed"),J=Fn().setTimeout(()=>{I(P)},Iy.get());function ye(){Fn().clearTimeout(J),v(p)}p.ping(ye).then(ye,()=>{I(P)})});return function(v,I){return _.apply(this,arguments)}}()))}),tn.apply(this,arguments)}const Ip={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dp{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jE="__/auth/handler",Ed="emulator/auth/handler",Cd=encodeURIComponent("fac");function Qa(f,c,d,p,_,v){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,E.Z)(function*(f,c,d,p,_,v){ne(f.config.authDomain,f,"auth-domain-config-required"),ne(f.config.apiKey,f,"invalid-api-key");const I={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:He.SDK_VERSION,eventId:_};if(c instanceof jo){c.setDefaultLanguage(f.languageCode),I.providerId=c.providerId||"",(0,K.xb)(c.getCustomParameters())||(I.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ie,Se]of Object.entries(v||{}))I[Ie]=Se}if(c instanceof Ji){const Ie=c.getScopes().filter(Se=>""!==Se);Ie.length>0&&(I.scopes=Ie.join(","))}f.tenantId&&(I.tid=f.tenantId);const P=I;for(const Ie of Object.keys(P))void 0===P[Ie]&&delete P[Ie];const J=yield f._getAppCheckToken(),ye=J?`#${Cd}=${encodeURIComponent(J)}`:"";return`${function Ay({config:f}){return f.emulator?H(f,Ed):`https://${f.authDomain}/${jE}`}(f)}?${(0,K.xO)(P).slice(1)}${ye}`})).apply(this,arguments)}const Id="webStorageSupport",na=class zE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xs,this._completeRedirectFn=vd,this._overrideRedirectResult=hp}_openPopup(c,d,p,_){var v=this;return(0,E.Z)(function*(){var I;ln(null===(I=v.eventManagers[c._key()])||void 0===I?void 0:I.manager,"_initialize() not called before _openPopup()");const P=yield Qa(c,d,p,Gn(),_);return function wd(f,c,d,p=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),I=Math.max((window.screen.availWidth-p)/2,0).toString();let P="";const J=Object.assign(Object.assign({},Ip),{width:p.toString(),height:_.toString(),top:v,left:I}),ye=(0,K.z$)().toLowerCase();d&&(P=Gu(ye)?"_blank":d),qt(ye)&&(c=c||"http://localhost",J.scrollbars="yes");const Ie=Object.entries(J).reduce((Rn,[Yr,Od])=>`${Rn}${Yr}=${Od},`,"");if(function F(f=(0,K.z$)()){var c;return Ze(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(ye)&&"_self"!==P)return function bs(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",P),new Dp(null);const Se=window.open(c||"",P,Ie);ne(Se,f,"popup-blocked");try{Se.focus()}catch{}return new Dp(Se)}(c,P,ms())})()}_openRedirect(c,d,p,_){var v=this;return(0,E.Z)(function*(){return yield v._originValidation(c),function ny(f){Fn().location.href=f}(yield Qa(c,d,p,Gn(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:v}=this.eventManagers[d];return _?Promise.resolve(_):(ln(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,E.Z)(function*(){const p=yield function ta(f){return tn.apply(this,arguments)}(c),_=new mp(c);return p.register("authEvent",v=>(ne(v?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Id,{type:Id},_=>{var v;const I=null===(v=_?.[0])||void 0===v?void 0:v[Id];void 0!==I&&d(!!I),kt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function vp(f){return bd.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Ae()||po()||Ze()}};class Rc{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return yn("unexpected MultiFactorSessionType")}}}class xp extends Rc{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new xp(c)}_finalizeEnroll(c,d,p){return function pR(f,c){return W(f,"POST","/v2/accounts/mfaEnrollment:finalize",oe(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function CR(f,c){return W(f,"POST","/v2/accounts/mfaSignIn:finalize",oe(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xR=(()=>{class f{constructor(){}static assertion(d){return xp._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var HE="@firebase/auth";class Tp{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,E.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ws(){return window}(0,K.Pz)("authIdTokenMaxAge"),function qE(f){(0,He._registerComponent)(new An.wA("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),v=c.getProvider("app-check-internal"),{apiKey:I,authDomain:P}=p.options;ne(I&&!I.includes(":"),"invalid-api-key",{appName:p.name});const J={apiKey:I,authDomain:P,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Va(f)},ye=new sE(p,_,v,J);return function iR(f,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(st);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(ye,d),ye},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,He._registerComponent)(new An.wA("auth-internal",c=>{const d=un(c.getProvider("auth").getImmediate());return new Tp(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,He.registerVersion)(HE,"1.5.1",function Pc(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,He.registerVersion)(HE,"1.5.1","esm2017")}("Browser");function Sp(){return Sp=(0,E.Z)(function*(f,c,d){var p;const{BuildInfo:_}=ws();ln(c.sessionId,"AuthEvent did not contain a session ID");const v=yield function ky(f){return Ad.apply(this,arguments)}(c.sessionId),I={};return Ze()?I.ibi=_.packageName:R()?I.apn=_.packageName:kt(f,"operation-not-supported-in-this-environment"),_.displayName&&(I.appDisplayName=_.displayName),I.sessionId=v,Qa(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,I)}),Sp.apply(this,arguments)}function Nc(){return(Nc=(0,E.Z)(function*(f){const{BuildInfo:c}=ws(),d={};Ze()?d.iosBundleId=c.packageName:R()?d.androidPackageName=c.packageName:kt(f,"operation-not-supported-in-this-environment"),yield gp(f,d)})).apply(this,arguments)}function Fc(){return(Fc=(0,E.Z)(function*(f,c,d){const{cordova:p}=ws();let _=()=>{};try{yield new Promise((v,I)=>{let P=null;function J(){var Se;v();const Rn=null===(Se=p.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof Rn&&Rn(),"function"==typeof d?.close&&d.close()}function ye(){P||(P=window.setTimeout(()=>{I(Yt(f,"redirect-cancelled-by-user"))},2e3))}function Ie(){"visible"===document?.visibilityState&&ye()}c.addPassiveListener(J),document.addEventListener("resume",ye,!1),R()&&document.addEventListener("visibilitychange",Ie,!1),_=()=>{c.removePassiveListener(J),document.removeEventListener("resume",ye,!1),document.removeEventListener("visibilitychange",Ie,!1),P&&window.clearTimeout(P)}})}finally{_()}})).apply(this,arguments)}function Ad(){return(Ad=(0,E.Z)(function*(f){const c=function Oy(f){if(ln(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class YE extends mp{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,E.Z)(function*(){yield c.initPromise})()}}function Fy(f){return Md.apply(this,arguments)}function Md(){return(Md=(0,E.Z)(function*(f){const c=yield Mp()._get(yi(f));return c&&(yield Mp()._remove(yi(f))),c})).apply(this,arguments)}function Lc(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Mp(){return st(Co)}function yi(f){return ni("authEvent",f.config.apiKey,f.name)}function Xa(f){if(!f?.includes("?"))return{};const[c,...d]=f.split("?");return(0,K.zd)(d.join("?"))}const Ja=class Vy{constructor(){this._redirectPersistence=Xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vd,this._overrideRedirectResult=hp}_initialize(c){var d=this;return(0,E.Z)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new YE(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){kt(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var v=this;return(0,E.Z)(function*(){!function KE(f){var c,d,p,_,v,I,P,J,ye,Ie;const Se=ws();ne("function"==typeof(null===(c=Se?.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(d=Se?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(v=null===(_=null===(p=Se?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(J=null===(P=null===(I=Se?.cordova)||void 0===I?void 0:I.plugins)||void 0===P?void 0:P.browsertab)||void 0===J?void 0:J.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ie=null===(ye=Se?.cordova)||void 0===ye?void 0:ye.InAppBrowser)||void 0===Ie?void 0:Ie.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const I=yield v._initialize(c);yield I.initialized(),I.resetRedirect(),function PE(){_d.clear()}(),yield v._originValidation(c);const P=function Sd(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:Lc(),postBody:null,tenantId:f.tenantId,error:Yt(f,"no-auth-event")}}(c,p,_);yield function ia(f,c){return Mp()._set(yi(f),c)}(c,P);const J=yield function xo(f,c,d){return Sp.apply(this,arguments)}(c,P,d),ye=yield function Py(f){const{cordova:c}=ws();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function mt(f=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(J);return function Td(f,c,d){return Fc.apply(this,arguments)}(c,I,ye)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function xd(f){return Nc.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=ws(),I=setTimeout((0,E.Z)(function*(){yield Fy(c),d.onEvent(ra())}),500),P=function(){var Ie=(0,E.Z)(function*(Se){clearTimeout(I);const Rn=yield Fy(c);let Yr=null;Rn&&Se?.url&&(Yr=function Ly(f,c){var d,p;const _=function Vn(f){const c=Xa(f),d=c.link?decodeURIComponent(c.link):void 0,p=Xa(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Xa(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const v=Xa(_),I=v.firebaseError?function ZE(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,P=null===(p=null===(d=I?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],J=P?Yt(P):null;return J?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:J,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(Rn,Se.url)),d.onEvent(Yr||ra())});return function(Rn){return Ie.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,P);const J=_,ye=`${v.packageName.toLowerCase()}://`;ws().handleOpenURL=function(){var Ie=(0,E.Z)(function*(Se){if(Se.toLowerCase().startsWith(ye)&&P({url:Se}),"function"==typeof J)try{J(Se)}catch(Rn){console.error(Rn)}});return function(Se){return Ie.apply(this,arguments)}}()}};function ra(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Yt("no-auth-event")}}function To(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Uy(f=(0,K.z$)()){return!("file:"!==To()&&"ionic:"!==To()&&"capacitor:"!==To()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function XE(){try{const f=self.localStorage,c=ms();if(f)return f.setItem(c,"1"),f.removeItem(c),!function PR(f=(0,K.z$)()){return function MR(){return(0,K.w1)()&&11===document?.documentMode}()||function RR(f=(0,K.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,K.hl)()}catch{return jy()&&(0,K.hl)()}return!1}function jy(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Es(){return(function AR(){return"http:"===To()||"https:"===To()}()||(0,K.ru)()||Uy())&&!function SR(){return(0,K.b$)()||(0,K.UG)()}()&&XE()&&!jy()}function zy(){return Uy()&&typeof document<"u"}function Bn(){return(Bn=(0,E.Z)(function*(){return!!zy()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const vi={LOCAL:"local",NONE:"none",SESSION:"session"},Vc=ne,Er="persistence";function Rd(f){return il.apply(this,arguments)}function il(){return(il=(0,E.Z)(function*(f){yield f._initializationPromise;const c=Hy(),d=ni(Er,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function Hy(){var f;try{return(null===(f=function eC(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const kR=ne;class Cs{constructor(){this.browserResolver=st(na),this.cordovaResolver=st(Ja),this.underlyingResolver=null,this._redirectPersistence=Xs,this._completeRedirectFn=vd,this._overrideRedirectResult=hp}_initialize(c){var d=this;return(0,E.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var v=this;return(0,E.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var v=this;return(0,E.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return zy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kR(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,E.Z)(function*(){if(c.underlyingResolver)return;const d=yield function JE(){return Bn.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function tC(f){return f.unwrap()}function Pp(f){return nC(f)}function nC(f){const{_tokenResponse:c}=f instanceof K.ZR?f.customData:f;if(!c)return null;if(!(f instanceof K.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return oi.credentialFromResult(f);const d=c.providerId;if(!d||d===ft.PASSWORD)return null;let p;switch(d){case ft.GOOGLE:p=Wr;break;case ft.FACEBOOK:p=_r;break;case ft.GITHUB:p=xt;break;case ft.TWITTER:p=_o;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:I,pendingToken:P,nonce:J}=c;return v||I||_||P?P?d.startsWith("saml.")?us._create(d,P):mo._fromParams({providerId:d,signInMethod:d,pendingToken:P,idToken:_,accessToken:v}):new zo(d).credential({idToken:_,accessToken:v,rawNonce:J}):null}return f instanceof K.ZR?p.credentialFromError(f):p.credentialFromResult(f)}function Bi(f,c){return c.catch(d=>{throw d instanceof K.ZR&&function rl(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new iC(f,function hR(f,c){var d;const p=(0,K.m9)(f),_=c;return ne(c.customData.operationType,p,"argument-error"),ne(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),X_._fromError(p,_)}(f,c));else if(p){const _=nC(c),v=c;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:Pp(d),additionalUserInfo:mi(d),user:qo.getOrCreate(_)}})}function kp(f,c){return Op.apply(this,arguments)}function Op(){return(Op=(0,E.Z)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>Bi(f,d.confirm(p))}})).apply(this,arguments)}class iC{constructor(c,d){this.resolver=d,this.auth=function Cr(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Bi(tC(this.auth),this.resolver.resolveSignIn(c))}}class qo{constructor(c){this._delegate=c,this.multiFactor=function _R(f){const c=(0,K.m9)(f);return ey.has(c)||ey.set(c,J_._fromUser(c)),ey.get(c)}(c)}static getOrCreate(c){return qo.USER_MAP.has(c)||qo.USER_MAP.set(c,new qo(c)),qo.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,E.Z)(function*(){return Bi(d.auth,G_(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,E.Z)(function*(){return kp(p.auth,function op(f,c,d){return sp.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,E.Z)(function*(){return Bi(d.auth,function _y(f,c,d){return up.apply(this,arguments)}(d._delegate,c,Cs))})()}linkWithRedirect(c){var d=this;return(0,E.Z)(function*(){return yield Rd(un(d.auth)),wy(d._delegate,c,Cs)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,E.Z)(function*(){return Bi(d.auth,W_(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return kp(this.auth,function Io(f,c,d){return pd.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Bi(this.auth,function gy(f,c,d){return gd.apply(this,arguments)}(this._delegate,c,Cs))}reauthenticateWithRedirect(c){var d=this;return(0,E.Z)(function*(){return yield Rd(un(d.auth)),wn(d._delegate,c,Cs)})()}sendEmailVerification(c){return function Ha(f,c){return bn.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,E.Z)(function*(){return yield function gE(f,c){return td.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function Ho(f,c){return $a((0,K.m9)(f),c,null)}(this._delegate,c)}updatePassword(c){return function bc(f,c){return $a((0,K.m9)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function ap(f,c){return Ya.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Z_(f,c){return bo.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function vc(f,c,d){return fs.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qo.USER_MAP=new WeakMap;const Uc=ne;let $y=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;Uc(_,"invalid-api-key",{appName:d.name}),Uc(_,"invalid-api-key",{appName:d.name});const v=typeof window<"u"?Cs:void 0;this._delegate=p.initialize({options:{persistence:kd(_,d.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(di),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function Ct(f,c,d){const p=un(f);ne(p._canInitEmulator,p,"emulator-config-failed"),ne(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,v=ac(c),{host:I,port:P}=function uE(f){const c=ac(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:Pf(p.substr(v.length+1))}}{const[v,I]=p.split(":");return{host:v,port:Pf(I)}}}(c);p.config.emulator={url:`${v}//${I}${null===P?"":`:${P}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:I,port:P,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function dE(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function K_(f,c){return Ua.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Y_(this._delegate,d)}confirmPasswordReset(d,p){return function vr(f,c,d){return od.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,E.Z)(function*(){return Bi(_._delegate,function et(f,c,d){return Zt.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function yc(f,c){return sd.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function ja(f,c){const d=Uo.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,E.Z)(function*(){Uc(Es(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function fp(f,c){return Ac.apply(this,arguments)}(d._delegate,Cs);return p?Bi(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function el(f,c){un(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:v,error:I,complete:P}=Pd(d,p,_);return this._delegate.onAuthStateChanged(v,I,P)}onIdTokenChanged(d,p,_){const{next:v,error:I,complete:P}=Pd(d,p,_);return this._delegate.onIdTokenChanged(v,I,P)}sendSignInLinkToEmail(d,p){return function _c(f,c,d){return ri.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function Li(f,c,d){return hs.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,E.Z)(function*(){let _;switch(function nl(f,c){Vc(Object.values(vi).includes(c),f,"invalid-persistence-type"),(0,K.b$)()?Vc(c!==vi.SESSION,f,"unsupported-persistence-type"):(0,K.UG)()?Vc(c===vi.NONE,f,"unsupported-persistence-type"):jy()?Vc(c===vi.NONE||c===vi.LOCAL&&(0,K.hl)(),f,"unsupported-persistence-type"):Vc(c===vi.NONE||XE(),f,"unsupported-persistence-type")}(p._delegate,d),d){case vi.SESSION:_=Xs;break;case vi.LOCAL:_=(yield st(Ka)._isAvailable())?Ka:Co;break;case vi.NONE:_=cn;break;default:return kt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Bi(this._delegate,function $_(f){return ed.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Bi(this._delegate,nd(this._delegate,d))}signInWithCustomToken(d){return Bi(this._delegate,function yE(f,c){return It.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Bi(this._delegate,function Kr(f,c,d){return nd((0,K.m9)(f),Lf.credential(c,d)).catch(function(){var p=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&yt(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Bi(this._delegate,function Nn(f,c,d){return yo.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return kp(this._delegate,function fy(f,c,d){return rp.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,E.Z)(function*(){return Uc(Es(),p._delegate,"operation-not-supported-in-this-environment"),Bi(p._delegate,function my(f,c,d){return cp.apply(this,arguments)}(p._delegate,d,Cs))})()}signInWithRedirect(d){var p=this;return(0,E.Z)(function*(){return Uc(Es(),p._delegate,"operation-not-supported-in-this-environment"),yield Rd(p._delegate),kE(p._delegate,d,Cs)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Mn(f,c){return we.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=vi,f})();function Pd(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:I=>_(I&&qo.getOrCreate(I)),error:c,complete:d}}function kd(f,c){const d=function Bc(f,c){const d=Hy();if(!d)return[];const p=ni(Er,f,c);switch(d.getItem(p)){case vi.NONE:return[cn];case vi.LOCAL:return[Ka,Xs];case vi.SESSION:return[Xs];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes(Ka)&&d.push(Ka),typeof window<"u")for(const p of[Co,Xs])d.includes(p)||d.push(p);return d.includes(cn)||d.push(cn),d}class Np{constructor(){this.providerId="phone",this._delegate=new oi(tC(ze.Z.auth()))}static credential(c,d){return oi.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Np.PHONE_SIGN_IN_METHOD=oi.PHONE_SIGN_IN_METHOD,Np.PROVIDER_ID=oi.PROVIDER_ID;const Is=ne;class rC{constructor(c,d,p=ze.Z.app()){var _;Is(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new TE(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oC(f){f.INTERNAL.registerComponent(new An.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new $y(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Lf,FacebookAuthProvider:_r,GithubAuthProvider:xt,GoogleAuthProvider:Wr,OAuthProvider:zo,SAMLAuthProvider:mc,PhoneAuthProvider:Np,PhoneMultiFactorGenerator:xR,RecaptchaVerifier:rC,TwitterAuthProvider:_o,Auth:$y,AuthCredential:Bo,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.1")}(ze.Z)},861:(Fo,ci,Je)=>{function E(K,He,We,_n,An,ui,ft){try{var re=K[ui](ft),de=re.value}catch(Me){return void We(Me)}re.done?He(de):Promise.resolve(de).then(_n,An)}function ze(K){return function(){var He=this,We=arguments;return new Promise(function(_n,An){var ui=K.apply(He,We);function ft(de){E(ui,_n,An,ft,re,"next",de)}function re(de){E(ui,_n,An,ft,re,"throw",de)}ft(void 0)})}}Je.d(ci,{Z:()=>ze})},582:(Fo,ci,Je)=>{function He(H,G){var z={};for(var X in H)Object.prototype.hasOwnProperty.call(H,X)&&G.indexOf(X)<0&&(z[X]=H[X]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(X=Object.getOwnPropertySymbols(H);oe<X.length;oe++)G.indexOf(X[oe])<0&&Object.prototype.propertyIsEnumerable.call(H,X[oe])&&(z[X[oe]]=H[X[oe]])}return z}function Me(H,G,z,X){return new(z||(z=Promise))(function(W,be){function bt(Et){try{Pe(X.next(Et))}catch(vn){be(vn)}}function Ce(Et){try{Pe(X.throw(Et))}catch(vn){be(vn)}}function Pe(Et){Et.done?W(Et.value):function oe(W){return W instanceof z?W:new z(function(be){be(W)})}(Et.value).then(bt,Ce)}Pe((X=X.apply(H,G||[])).next())})}function an(H){return this instanceof an?(this.v=H,this):new an(H)}function kt(H,G,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,X=z.apply(H,G||[]),W=[];return oe={},be("next"),be("throw"),be("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function be(Jt){X[Jt]&&(oe[Jt]=function(Ii){return new Promise(function(ei,Ni){W.push([Jt,Ii,ei,Ni])>1||bt(Jt,Ii)})})}function bt(Jt,Ii){try{!function Ce(Jt){Jt.value instanceof an?Promise.resolve(Jt.value.v).then(Pe,Et):vn(W[0][2],Jt)}(X[Jt](Ii))}catch(ei){vn(W[0][3],ei)}}function Pe(Jt){bt("next",Jt)}function Et(Jt){bt("throw",Jt)}function vn(Jt,Ii){Jt(Ii),W.shift(),W.length&&bt(W[0][0],W[0][1])}}function Oi(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,G=H[Symbol.asyncIterator];return G?G.call(H):(H=function Pt(H){var G="function"==typeof Symbol&&Symbol.iterator,z=G&&H[G],X=0;if(z)return z.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&X>=H.length&&(H=void 0),{value:H&&H[X++],done:!H}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),z={},X("next"),X("throw"),X("return"),z[Symbol.asyncIterator]=function(){return this},z);function X(W){z[W]=H[W]&&function(be){return new Promise(function(bt,Ce){!function oe(W,be,bt,Ce){Promise.resolve(Ce).then(function(Pe){W({value:Pe,done:bt})},be)}(bt,Ce,(be=H[W](be)).done,be.value)})}}}Je.d(ci,{FC:()=>kt,KL:()=>Oi,_T:()=>He,mG:()=>Me,qq:()=>an}),"function"==typeof SuppressedError&&SuppressedError}},Fo=>{Fo(Fo.s=256)}]);